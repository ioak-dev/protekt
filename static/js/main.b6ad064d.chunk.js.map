{"version":3,"sources":["reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/BookmarkReducer.ts","reducers/NoteReducer.ts","reducers/index.ts","actions/types.ts","store.ts","events/MessageService.ts","components/Home/index.tsx","components/Utils.ts","components/Lib/RestTemplate.ts","components/Constants.ts","actions/BookmarkActions.ts","oakui/OakDialog.tsx","oakui/OakButton.tsx","oakui/OakPrompt.tsx","components/Bookmarks/BookmarkItem.tsx","oakui/OakViewResolver.tsx","oakui/OakView.tsx","oakui/OakSidebar.tsx","oakui/OakText.tsx","oakui/OakSelect.tsx","oakui/OakPagination.tsx","components/Bookmarks/BookmarkView.tsx","components/Bookmarks/BookmarkController.tsx","actions/NoteActions.ts","oakui/Showdown.tsx","components/Notes/NoteItem.tsx","oakui/ActionButton.tsx","components/Notes/NoteLink.tsx","components/Notes/NoteView.tsx","components/Notes/NoteController.tsx","actions/AuthActions.ts","components/Auth/DataMigrationService.ts","components/Auth/AuthService.ts","components/Auth/Login.tsx","components/Auth/PrivateRoute.tsx","components/Auth/AuthInit.tsx","actions/ProfileActions.ts","components/App/Backdrop.tsx","components/Notification/index.tsx","components/Navigation/Links.tsx","components/Navigation/Desktop.tsx","components/Navigation/Mobile.tsx","components/Navigation/index.tsx","components/Bookmarks/BookmarkService.ts","components/Settings/BookmarkImport.tsx","components/Settings/BookmarkExport.tsx","components/Settings/SettingsService.ts","components/Settings/Appearance.tsx","components/Settings/UserDetails.tsx","components/Settings/ChangePassword.tsx","components/Settings/index.tsx","components/Auth/ResetPassword.tsx","components/App/Content.tsx","components/App/index.tsx","serviceWorker.ts","index.tsx","images/protekt_white.svg","images/protekt_black.svg"],"names":["initialState","isAuth","token","secret","name","email","password","theme","textSize","themeColor","items","combineReducers","authorization","state","action","type","console","log","payload","profile","bookmark","note","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","subject","Subject","sendMessage","signal","data","next","receiveMessage","asObservable","Home","props","useEffect","className","isEmptyOrSpaces","str","match","text","words","found","split","forEach","word","RegExp","baseUrl","process","autoGeneratedFields","unprotectedEndpoints","httpGet","endpoint","headers","skipFields","axios","get","then","response","find","item","includes","decryptContent","Promise","resolve","httpPost","encryptContent","post","httpPut","put","httpDelete","delete","content","Array","isArray","encryptedContent","push","encryptObject","Object","keys","key","encrypt","decryptObject","decrypt","message","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","stringify","Utf8","parse","sjcl","ciphertext","constants","API_URL_PRESIGNUP","API_URL_SIGNUP","API_URL_PRESIGNIN","API_URL_SIGNIN","API_URL_RESET","API_URL_CODE","API_URL_BOOKMARK","API_URL_BOOKMARK_IMPORT","API_URL_MAIL","API_URL_PREFERENCES","API_URL_USER_DETAILS","API_URL_NOTE","fetchBookmark","dispatch","Authorization","OakDialog","documentWidth","document","documentElement","clientWidth","scrollBarWidth","window","innerWidth","style","setProperty","visible","body","classList","add","remove","addEventListener","escFunction","removeEventListener","event","keyCode","toggleVisibility","getDialogStyle","small","fullscreen","onClick","children","OakButton","variant","invert","align","getStyle","icon","OakPrompt","BookmarkItem","useState","showDeletePrompt","setShowDeletePrompt","tags","map","searchByTag","deleteBookmark","id","open","href","editBookmark","title","target","rel","createdAt","OakViewResolver","mobileViewPort","setMobileViewPort","showSide","setShowSide","views","setViews","main","setMain","side","setSide","viewPort","matchMedia","matches","addListener","eventBus","subscribe","unsubscribe","initializeViews","React","Children","toArray","node","toggleSideView","sideLabel","OakView","OakSidebar","show","setShow","elementList","setElementList","label","elements","undefined","number","animate","OakText","htmlFor","multiline","disabled","autoComplete","errorFields","value","onChange","handleChange","OakSelect","changeSelection","e","newValue","dropdownList","objects","width","element","first","firstAction","OakPagination","rowsPerPage","pageNo","setData","pageChanged","onChangePage","totalRows","Math","ceil","BookmarkView","editDialog","setEditDialog","paginationData","setPaginationData","sidebarElements","addNew","selectBookmark","toggleEditDialog","duration","handleBookmarkDataChange","update","view","length","slice","_id","searchPref","filtered","method","onSubmit","search","noValidate","handleSearchPrefDataChange","Switch","checked","toggleSearchPref","inputProps","clearSearch","queryString","require","connect","saveBookmark","catch","error","status","setBookmark","searchText","filterActivator","setSearchPref","firstLoad","setFirstLoad","setView","location","query","q","startsWith","preventDefault","filter","currentTarget","bookmarkId","pref","tagName","fetchNote","Showdown","html","showdown","Converter","tables","makeHtml","source","dangerouslySetInnerHTML","__html","NoteItem","flags","preview","setPreview","deleteNote","editNote","notebook","setEditNote","newNotebook","saveNote","notebooks","ActionButton","leftLabel","rightLabel","leftAction","rightAction","removeMd","NoteLink","selected","selectNote","flag","showTag","substring","sortTypes","sortOrders","emptyNote","NoteView","newNote","handleNoteDataChange","searchResults","filterPref","handleFilterPrefDataChange","notebookList","setNote","notebookFilter","Set","sortBy","sortOrder","setFilterPref","setSearchResults","existingNotebookList","setExistingNotebookList","existingNotebookListTemp","from","array","property","isReverseOrder","noteList","sort","o1","o2","activeSelection","selectedNote","getAuth","addAuth","removeAuth","migrateDataWithNewPassword","oldPassword","newPassword","innerResponse","migrateBookmarks","migrateNotes","preSignin","signin","problem","solution","JSON","withCookies","newuser","resetCode","signinAction","success","signupAction","test","signup","sentPasswordChangeEmailAction","rand","random","sentPasswordChangeEmail","toggle","history","path","render","getProfile","setProfile","Backdrop","backdrop","setBackdrop","Notification","spinner","setSpinner","notification","setNotification","setTimeout","Links","to","activeClassName","Desktop","transparent","src","protektBlack","alt","protektWhite","toggleSettings","logout","login","Mobile","menu","setMenu","reloadProfile","withRouter","mobilemenu","chooseTheme","showSettings","transparentNavBar","changeTextSize","size","changeThemeColor","color","importBookmarks","BookmarkImport","reader","FileReader","onload","eventInner","result","readAsText","files","BookmarkExport","sendExportEmail","staticContent","htmlContent","Appearance","persistProfile","UserDetails","updateUserDetailsImpl","ChangePassword","repeatPassword","checkOldPassword","setEmail","user","newData","updateUserDetails","cookies","set","code","changePassword","resetPasswordAction","resetPassword","themes","themecolor1","getTheme","themecolor2","themecolor3","themecolor4","themecolor5","themecolor6","createMuiTheme","palette","primary","secondary","exact","propsLocal","App","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.b6ad064d.chunk.js","sourcesContent":["import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\r\n\r\nconst initialState = {\r\n  isAuth: false,\r\n  token: '',\r\n  secret: '',\r\n  name: '',\r\n  email: '',\r\n  password: '',\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_AUTH:\r\n      console.log('GET_AUTH reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case ADD_AUTH:\r\n      console.log('ADD_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    case REMOVE_AUTH:\r\n      console.log('REMOVE_AUTH reducer');\r\n      return {\r\n        ...state,\r\n        isAuth: false,\r\n        token: '',\r\n        secret: '',\r\n        name: '',\r\n        password: '',\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  theme: 'theme_dark',\r\n  textSize: 'textsize_medium',\r\n  themeColor: 'themecolor_6',\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_PROFILE:\r\n      console.log('GET_PROFILE reducer');\r\n      return {\r\n        ...state,\r\n      };\r\n    case SET_PROFILE:\r\n      console.log('SET_PROFILE reducer');\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FETCH_BOOKMARK } from '../actions/types';\r\n\r\nconst initialState = {\r\n  items: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_BOOKMARK:\r\n      console.log('FETCH_BOOKMARK reducer');\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FETCH_NOTE } from '../actions/types';\r\n\r\nconst initialState = {\r\n  items: [],\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case FETCH_NOTE:\r\n      console.log('FETCH_NOTE reducer');\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport AuthReducer from './AuthReducer';\r\nimport ProfileReducer from './ProfileReducer';\r\nimport BookmarkReducer from './BookmarkReducer';\r\nimport NoteReducer from './NoteReducer';\r\n\r\nexport default combineReducers({\r\n  authorization: AuthReducer,\r\n  profile: ProfileReducer,\r\n  bookmark: BookmarkReducer,\r\n  note: NoteReducer,\r\n});\r\n","export const GET_AUTH = 'GET_AUTH';\r\nexport const ADD_AUTH = 'ADD_AUTH';\r\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\r\n\r\nexport const GET_PROFILE = 'GET_PROFILE';\r\nexport const SET_PROFILE = 'SET_PROFILE';\r\n\r\nexport const FETCH_BOOKMARK = 'FETCH_BOOKMARK';\r\nexport const FETCH_NOTE = 'FETCH_NOTE';\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware) // ,\r\n    // window[\"__REDUX_DEVTOOLS_EXTENSION__\"] && window[\"__REDUX_DEVTOOLS_EXTENSION__\"]()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import { Subject, Observable } from 'rxjs';\r\nimport { Message } from '../components/Types/GeneralTypes';\r\n\r\nconst subject = new Subject<Message>();\r\n\r\nexport function sendMessage(name: string, signal = true, data?: {}) {\r\n  subject.next({\r\n    name,\r\n    signal,\r\n    data,\r\n  });\r\n}\r\n\r\nexport function clearMessages() {\r\n  subject.next();\r\n}\r\n\r\nexport function receiveMessage(): Observable<Message> {\r\n  return subject.asObservable();\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport './style.scss';\r\n\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  setProfile: Function;\r\n  profile: Profile;\r\n  match: any;\r\n  logout: Function;\r\n}\r\n\r\nconst Home = (props: Props) => {\r\n  useEffect(() => {\r\n    sendMessage('navbar-transparency');\r\n    return () => sendMessage('navbar-transparency', false);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"home\">\r\n        {/* <div className=\"section parallax bg1\" />\r\n        <div className=\"section static bg1 odd\">\r\n          <h3>A bookmarking app like never before</h3>\r\n          <p>Take your link to the web wherever you go, with the most secure bookmark and note taking app</p>\r\n          <br />\r\n          <p><NavLink to=\"/login\" className=\"navitem\" activeClassName=\"active\">Sign up</NavLink>&nbsp;for free</p>\r\n        </div> */}\r\n\r\n        <div className=\"section parallax bg bg2\" />\r\n        <div className=\"section static bg2 even\">\r\n          <h3>Secured suite of applications</h3>\r\n          <p>Designed with security as a primary factor from ground up</p>\r\n          <p>Your passwords never leaves your workstation</p>\r\n          <p>Our servers have zero knowledge about your password</p>\r\n        </div>\r\n\r\n        {/* <div className=\"section parallax bg3\" />\r\n        <div className=\"section static bg3 odd\">\r\n          <h3>Premium features</h3>\r\n          <p>Get premium features free for lifetime. We standby free software for all</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg4\" />\r\n        <div className=\"section static bg4 even\">\r\n          <h3>Don't mix up personal and business</h3>\r\n          <p>With the help of workspaces, you can now work in isolated containers</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg5\" />\r\n        <div className=\"section static bg5 odd\">\r\n          <h3>We love open source</h3>\r\n          <p>Our codebase is 100% available for the community to do peer review and audit for any security flaws</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg6\" />\r\n        <div className=\"section static bg6 even\">\r\n          <h3>Clean clutter free interface</h3>\r\n          <p>Modern interface with a clutter free design to keep you in focus on your activity</p>\r\n        </div>\r\n\r\n        <div className=\"section parallax bg7\" />\r\n        <div className=\"section static bg7 odd\">\r\n          <h3>Travel to the future</h3>\r\n          <p>We are evolving for the future. More features on the way. You can watch our roadmap here</p>\r\n        </div> */}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export function isEmptyOrSpaces(str) {\r\n  return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function match(text, words) {\r\n  let found = false;\r\n  if (words) {\r\n    words.split(' ').forEach(word => {\r\n      if (text.match(new RegExp(`(\\\\w*${word}\\\\w*)`, 'gi'))) {\r\n        found = true;\r\n      }\r\n    });\r\n  }\r\n  return found;\r\n}\r\n\r\nexport function sort(array, property, isReverseOrder) {\r\n  const result = array.sort(function(o1, o2) {\r\n    if (isReverseOrder) {\r\n      return o1[property] > o2[property]\r\n        ? -1\r\n        : o1[property] < o2[property]\r\n        ? 1\r\n        : 0;\r\n    }\r\n    return o1[property] < o2[property]\r\n      ? -1\r\n      : o1[property] > o2[property]\r\n      ? 1\r\n      : 0;\r\n  });\r\n\r\n  return result;\r\n}\r\n","import axios from 'axios';\r\nimport sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst autoGeneratedFields = [\r\n  '_id',\r\n  'id',\r\n  'createdAt',\r\n  'lastModifiedAt',\r\n  'userId',\r\n];\r\n\r\nconst unprotectedEndpoints = [\r\n  '/auth/keys',\r\n  '/auth/signup',\r\n  '/auth/keys/',\r\n  '/auth/signin',\r\n  '/auth/reset',\r\n  '/auth/sendResetCode',\r\n];\r\n\r\nexport function httpGet(\r\n  endpoint: string,\r\n  headers: any,\r\n  password = '',\r\n  skipFields: Array<string> = []\r\n) {\r\n  return axios.get(baseUrl + endpoint, headers).then(response => {\r\n    if (!unprotectedEndpoints.find(item => endpoint.includes(item))) {\r\n      response.data = decryptContent(response.data, password, skipFields);\r\n    }\r\n    return Promise.resolve(response);\r\n  });\r\n}\r\n\r\nexport function httpPost(\r\n  endpoint: string,\r\n  payload: any,\r\n  headers: any,\r\n  password = '',\r\n  skipFields: Array<string> = []\r\n) {\r\n  if (!unprotectedEndpoints.find(item => endpoint.includes(item))) {\r\n    payload = encryptContent(payload, password, skipFields);\r\n  }\r\n  return axios.post(baseUrl + endpoint, payload, headers).then(response => {\r\n    if (!unprotectedEndpoints.find(item => endpoint.includes(item))) {\r\n      response.data = decryptContent(response.data, password, skipFields);\r\n    }\r\n    return Promise.resolve(response);\r\n  });\r\n}\r\n\r\nexport function httpPut(\r\n  endpoint: string,\r\n  payload: any,\r\n  headers: any,\r\n  password = '',\r\n  skipFields: Array<string> = []\r\n) {\r\n  if (!unprotectedEndpoints.find(item => endpoint.includes(item))) {\r\n    console.log(payload, password);\r\n    payload = encryptContent(payload, password, skipFields);\r\n    console.log(payload);\r\n  }\r\n  return axios.put(baseUrl + endpoint, payload, headers).then(response => {\r\n    console.log(response);\r\n    if (!unprotectedEndpoints.find(item => endpoint.includes(item))) {\r\n      response.data = decryptContent(response.data, password, skipFields);\r\n    }\r\n    return Promise.resolve(response);\r\n  });\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nexport function httpDelete(endpoint: string, headers: any) {\r\n  return axios.delete(baseUrl + endpoint, headers);\r\n  //     .then(function(response) {\r\n  //         return Promise.resolve(response);\r\n  //     }\r\n  // )\r\n}\r\n\r\nfunction encryptContent(\r\n  content,\r\n  password = '',\r\n  skipFields: Array<string> = []\r\n) {\r\n  if (Array.isArray(content)) {\r\n    const encryptedContent: any = [];\r\n    content.forEach(item =>\r\n      encryptedContent.push(encryptObject(item, password, skipFields))\r\n    );\r\n    return encryptedContent;\r\n  }\r\n  return encryptObject(content, password, skipFields);\r\n}\r\n\r\nfunction encryptObject(content, password = '', skipFields: Array<string> = []) {\r\n  const encryptedContent = {};\r\n  Object.keys(content).forEach(key => {\r\n    if (\r\n      content[key] &&\r\n      !skipFields.includes(key) &&\r\n      !autoGeneratedFields.includes(key)\r\n    ) {\r\n      encryptedContent[key] = encrypt(password, content[key], 'aasd');\r\n    } else {\r\n      encryptedContent[key] = content[key];\r\n    }\r\n  });\r\n  return encryptedContent;\r\n}\r\n\r\nfunction decryptContent(\r\n  encryptedContent,\r\n  password = '',\r\n  skipFields: Array<string> = []\r\n) {\r\n  if (Array.isArray(encryptedContent)) {\r\n    const content: any = [];\r\n    encryptedContent.forEach(item =>\r\n      content.push(decryptObject(item, password, skipFields))\r\n    );\r\n    return content;\r\n  }\r\n  return decryptObject(encryptedContent, password, skipFields);\r\n}\r\n\r\nfunction decryptObject(\r\n  encryptedContent,\r\n  password = '',\r\n  skipFields: Array<string> = []\r\n) {\r\n  const content = {};\r\n\r\n  Object.keys(encryptedContent).forEach(key => {\r\n    if (\r\n      encryptedContent[key] &&\r\n      !skipFields.includes(key) &&\r\n      !autoGeneratedFields.includes(key)\r\n    ) {\r\n      content[key] = decrypt(password, encryptedContent[key]);\r\n    } else {\r\n      content[key] = encryptedContent[key];\r\n    }\r\n  });\r\n  return content;\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n  const config = {\r\n    cipher: 'aes',\r\n    iter: '12000',\r\n    ks: 256,\r\n    salt: CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(salt)),\r\n  };\r\n  return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n  return sjcl.decrypt(password, ciphertext);\r\n}\r\n","const constants = {\r\n  API_URL_PRESIGNUP: '/auth/keys',\r\n  API_URL_SIGNUP: '/auth/signup',\r\n  API_URL_PRESIGNIN: '/auth/keys/',\r\n  API_URL_SIGNIN: '/auth/signin',\r\n  API_URL_RESET: '/auth/reset',\r\n  API_URL_CODE: '/auth/sendResetCode',\r\n\r\n  API_URL_BOOKMARK: '/bookmark',\r\n  API_URL_BOOKMARK_IMPORT: '/bookmark/import',\r\n  API_URL_MAIL: '/bookmark/sendExportMail',\r\n  API_URL_PREFERENCES: '/user/preferences',\r\n  API_URL_USER_DETAILS: '/user/details',\r\n\r\n  API_URL_NOTE: '/note',\r\n};\r\n\r\nexport default constants;\r\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { FETCH_BOOKMARK } from './types';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\nconst domain = 'bookmark';\r\n\r\nexport const fetchBookmark = authorization => dispatch => {\r\n  httpGet(\r\n    constants.API_URL_BOOKMARK,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    authorization.password\r\n  ).then(response => {\r\n    dispatch({\r\n      type: FETCH_BOOKMARK,\r\n      payload: response.data,\r\n    });\r\n  });\r\n};\r\n\r\nexport const saveBookmark = (authorization, payload) => dispatch => {\r\n  httpPut(\r\n    constants.API_URL_BOOKMARK,\r\n    payload,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    authorization.password\r\n  )\r\n    .then(() => {\r\n      sendMessage(domain, true, { action: payload.id ? 'updated' : 'created' });\r\n      dispatch(fetchBookmark(authorization));\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteBookmark = (authorization, id) => dispatch => {\r\n  httpDelete(`${constants.API_URL_BOOKMARK}/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  })\r\n    .then(function(response) {\r\n      if (response.status === 201) {\r\n        sendMessage(domain, true, { action: 'deleted' });\r\n        dispatch(fetchBookmark(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","import React, { useEffect, ReactNode } from 'react';\r\nimport './styles/oak-dialog.scss';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  toggleVisibility: any;\r\n  small?: boolean;\r\n  fullscreen?: boolean;\r\n  children?: ReactNode;\r\n}\r\n\r\nconst OakDialog = (props: Props) => {\r\n  useEffect(() => {\r\n    const documentWidth = document.documentElement.clientWidth;\r\n    const windowWidth = window.innerWidth;\r\n    const scrollBarWidth = windowWidth - documentWidth;\r\n    document.documentElement.style.setProperty(\r\n      '--scrollbar-width',\r\n      `${scrollBarWidth}px`\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    sendMessage('dialog', props.visible);\r\n    if (props.visible) {\r\n      document.body.classList.add('oak-dialog-open');\r\n    } else {\r\n      document.body.classList.remove('oak-dialog-open');\r\n    }\r\n    document.addEventListener('keydown', escFunction, false);\r\n    return () => document.removeEventListener('keydown', escFunction, false);\r\n  }, [props.visible]);\r\n\r\n  const escFunction = event => {\r\n    if (event.keyCode === 27) {\r\n      if (props.visible) {\r\n        props.toggleVisibility();\r\n      }\r\n    }\r\n  };\r\n\r\n  const getDialogStyle = () => {\r\n    let style = '';\r\n    style += props.small ? ' small' : '';\r\n    style += props.fullscreen ? ' fullscreen' : '';\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    <div className=\"oak-dialog\">\r\n      <div\r\n        className={\r\n          props.visible\r\n            ? `dialog show ${getDialogStyle()}`\r\n            : `dialog hide ${getDialogStyle()}`\r\n        }\r\n      >\r\n        <div className={props.visible ? 'container' : 'container hidetext'}>\r\n          <div className=\"dialog-header\">\r\n            <div className=\"container\" onClick={props.toggleVisibility}>\r\n              <i className=\"material-icons\">close</i>\r\n              <div className=\"text-esc\">esc</div>\r\n            </div>\r\n          </div>\r\n          {props.children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakDialog;\r\n","import React, { ReactNode } from 'react';\r\nimport './styles/oak-button-notch.scss';\r\n\r\ninterface Props {\r\n  icon?: string;\r\n  action?: any;\r\n  variant?:\r\n    | 'block'\r\n    | 'outline'\r\n    | 'animate in'\r\n    | 'animate out'\r\n    | 'animate none'\r\n    | 'disabled';\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\r\n  align?: 'left' | 'right' | 'center';\r\n  small?: boolean;\r\n  invert?: boolean;\r\n  children?: ReactNode;\r\n  type?: 'button' | 'submit';\r\n}\r\n\r\nconst OakButton = (props: Props) => {\r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n\r\n    if (!props.children) {\r\n      style += ' icon';\r\n    }\r\n\r\n    style += props.invert ? ' invert' : '';\r\n\r\n    style += props.small ? ' small' : '';\r\n\r\n    style += props.align ? ` align-${props.align}` : '';\r\n\r\n    return style;\r\n  };\r\n\r\n  return (\r\n    // eslint-disable-next-line react/button-has-type\r\n    <button className={`oak-button ${getStyle()}`} onClick={props.action}>\r\n      {props.icon && <i className=\"material-icons\">{props.icon}</i>}\r\n      {props.children && props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default OakButton;\r\n","import React from 'react';\r\nimport './styles/oak-dialog.scss';\r\nimport OakDialog from './OakDialog';\r\nimport OakButton from './OakButton';\r\n\r\ninterface Props {\r\n  visible: boolean;\r\n  toggleVisibility: any;\r\n  action: any;\r\n  text?: string;\r\n  children?: any;\r\n}\r\n\r\nconst OakPrompt = (props: Props) => {\r\n  // useEffect(() => {\r\n  //     document.addEventListener(\"keydown\", escFunction, false);\r\n  //     return () => document.removeEventListener(\"keydown\", escFunction, false);\r\n  // }, []);\r\n\r\n  // const escFunction = (event) => {\r\n  //     if(event.keyCode === 27) {\r\n  //       if (props.visible) {\r\n  //         props.toggleVisibility();\r\n  //       }\r\n  //     }\r\n  // }\r\n\r\n  const action = () => {\r\n    props.action();\r\n    props.toggleVisibility();\r\n  };\r\n\r\n  return (\r\n    <OakDialog\r\n      small\r\n      visible={props.visible}\r\n      toggleVisibility={props.toggleVisibility}\r\n    >\r\n      <div className=\"dialog-body typography-4 space-top-4 space-bottom-4\">\r\n        {props.text ? props.text : 'Are you sure you want to continue?'}\r\n      </div>\r\n      <div className=\"dialog-footer\">\r\n        {props.children && props.children}\r\n        {!props.children && (\r\n          <>\r\n            <OakButton\r\n              action={props.toggleVisibility}\r\n              theme=\"default\"\r\n              variant=\"animate in\"\r\n              align=\"left\"\r\n            >\r\n              <i className=\"material-icons\">close</i>No\r\n            </OakButton>\r\n            <OakButton\r\n              action={action}\r\n              theme=\"primary\"\r\n              variant=\"animate out\"\r\n              align=\"right\"\r\n            >\r\n              <i className=\"material-icons\">double_arrow</i>Yes\r\n            </OakButton>\r\n          </>\r\n        )}\r\n      </div>\r\n    </OakDialog>\r\n  );\r\n};\r\n\r\nexport default OakPrompt;\r\n","import React, { useState } from 'react';\r\nimport './style.scss';\r\nimport OakPrompt from '../../oakui/OakPrompt';\r\n\r\ninterface Props {\r\n  editBookmark: Function;\r\n  deleteBookmark: Function;\r\n  searchByTag: Function;\r\n  bookmark: any;\r\n  id: string;\r\n}\r\n\r\nconst BookmarkItem = (props: Props) => {\r\n  const [showDeletePrompt, setShowDeletePrompt] = useState(false);\r\n  const tags: any = [];\r\n\r\n  if (props.bookmark.tags) {\r\n    props.bookmark.tags.split(' ').map(item => {\r\n      tags.push(\r\n        <div className=\"tag\" key={item} onClick={() => props.searchByTag(item)}>\r\n          {item}\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"item\">\r\n      <OakPrompt\r\n        visible={showDeletePrompt}\r\n        toggleVisibility={() => setShowDeletePrompt(!showDeletePrompt)}\r\n        action={() => props.deleteBookmark(props.id)}\r\n        text=\"Are you sure, you want to delete the bookmark?\"\r\n      />\r\n      <div className=\"item-container\">\r\n        <div className=\"item-actions\">\r\n          <div className=\"item-edit\">\r\n            <i\r\n              onClick={() => window.open(props.bookmark.href)}\r\n              className=\"material-icons\"\r\n            >\r\n              link\r\n            </i>\r\n          </div>\r\n          <div className=\"item-edit\">\r\n            <i\r\n              onClick={() => props.editBookmark(props.bookmark)}\r\n              className=\"material-icons\"\r\n            >\r\n              edit\r\n            </i>\r\n          </div>\r\n          <div className=\"item-delete\">\r\n            <i\r\n              onClick={() => setShowDeletePrompt(!showDeletePrompt)}\r\n              className=\"material-icons\"\r\n            >\r\n              delete\r\n            </i>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"item-divider\"></div> */}\r\n        <div className=\"item-content\">\r\n          <div className=\"title typography-4\">{props.bookmark.title}</div>\r\n          <div className=\"url typography-6\">\r\n            <a\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              href={props.bookmark.href}\r\n            >\r\n              {props.bookmark.href}\r\n            </a>\r\n          </div>\r\n          <div className=\"timestamp typography-6 space-bottom-1\">\r\n            {props.bookmark.createdAt}\r\n          </div>\r\n          {tags}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookmarkItem;\r\n","import React, { useEffect, useState } from 'react';\r\nimport './styles/oak-view-resolver.scss';\r\nimport { sendMessage, receiveMessage } from '../events/MessageService';\r\nimport OakButton from './OakButton';\r\n\r\ninterface Props {\r\n  sideLabel?: string;\r\n  children: any;\r\n}\r\n\r\nconst OakViewResolver = (props: Props) => {\r\n  const [mobileViewPort, setMobileViewPort] = useState(false);\r\n\r\n  const [showSide, setShowSide] = useState(false);\r\n\r\n  const [views, setViews] = useState();\r\n\r\n  const [main, setMain] = useState();\r\n  const [side, setSide] = useState();\r\n\r\n  const viewPort = window.matchMedia('(max-width: 767px)');\r\n\r\n  useEffect(() => {\r\n    setMobileViewPort(viewPort.matches);\r\n    viewPort.addListener(() => setMobileViewPort(viewPort.matches));\r\n    setViews(props.children);\r\n\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'sidebar') {\r\n        setShowSide(message.signal);\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setViews(props.children);\r\n  }, [props.children]);\r\n\r\n  useEffect(() => {\r\n    initializeViews();\r\n  }, [views]);\r\n\r\n  const initializeViews = () => {\r\n    React.Children.toArray(props.children).forEach((node: any) => {\r\n      // node.type.name is minified after build and so static build result has different alphabet\r\n      // if (node.type.name === 'View') {\r\n      if (node.props.main) {\r\n        setMain(node);\r\n      } else if (node.props.side) {\r\n        setSide(node);\r\n      }\r\n      // }\r\n    });\r\n  };\r\n\r\n  const toggleSideView = () => {\r\n    sendMessage('sidebar', !showSide);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!mobileViewPort && (\r\n        <div className=\"view-desktop\">\r\n          {side && <div className=\"view-side\">{side}</div>}\r\n          <div className={`view-content${side ? ' side-present' : ''}`}>\r\n            {main}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {mobileViewPort && (\r\n        <div className=\"view-mobile\">\r\n          <div className={showSide ? 'slider show' : 'slider hide'}>\r\n            <div className=\"topbar\" onClick={toggleSideView}>\r\n              <div>\r\n                <OakButton\r\n                  theme=\"default\"\r\n                  variant=\"disabled\"\r\n                  action={toggleSideView}\r\n                >\r\n                  {!showSide && (\r\n                    <>\r\n                      <i className=\"material-icons\">expand_more</i>\r\n                      {props.sideLabel ? props.sideLabel : 'Menu'}\r\n                    </>\r\n                  )}\r\n                  {showSide && (\r\n                    <>\r\n                      <i className=\"material-icons\">expand_less</i>Collapse\r\n                    </>\r\n                  )}\r\n                </OakButton>\r\n              </div>\r\n            </div>\r\n            <div className=\"view-side\">{showSide && side}</div>\r\n          </div>\r\n          {!showSide && <div className=\"view-main\">{main}</div>}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OakViewResolver;\r\n","import React from 'react';\r\n\r\ninterface Props {\r\n  main?: any;\r\n  side?: any;\r\n  children?: any;\r\n}\r\n\r\nconst OakView = (props: Props) => {\r\n  return (\r\n    <div>\r\n      {/* {this.props} */}\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakView;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-sidebar.scss';\r\nimport { sendMessage, receiveMessage } from '../events/MessageService';\r\n\r\ninterface Props {\r\n  show?: boolean;\r\n  elements?: Array<any>;\r\n  label: string;\r\n  icon: string;\r\n  number?: number;\r\n  animate?: boolean;\r\n  children?: any;\r\n}\r\n\r\nconst OakSidebar = (props: Props) => {\r\n  const [show, setShow] = useState(false);\r\n  const [elementList, setElementList] = useState([{}]);\r\n\r\n  useEffect(() => {\r\n    sendMessage('sidebarExpanded', show, { label: props.label });\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    setShow(!!props.show);\r\n    setElementList(props.elements ? props.elements : []);\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (\r\n        message.name === 'sidebarExpanded' &&\r\n        message.signal &&\r\n        message.data &&\r\n        message.data.label !== props.label\r\n      ) {\r\n        setShow(false);\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  let key = 0;\r\n  const elements = elementList.map((item: any) => (\r\n    <div key={(key += 1)} className=\"element\" onClick={item.action}>\r\n      <i className=\"material-icons\">{item.icon}</i>\r\n      {item.label}\r\n    </div>\r\n  ));\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div\r\n        className={show ? 'header active' : 'header'}\r\n        onClick={() => setShow(!show)}\r\n      >\r\n        <div className=\"label\">\r\n          <i className=\"material-icons\">{props.icon}</i>\r\n          {props.label}\r\n          {props.number !== undefined && (\r\n            <div className=\"number\">{props.number}</div>\r\n          )}\r\n        </div>\r\n        {/* <div className=\"aria\"><i className=\"material-icons\">{this.state.show ? 'expand_less' : 'expand_more'}</i></div> */}\r\n        <div className=\"aria\">\r\n          <i className={show ? 'material-icons collapse' : 'material-icons'}>\r\n            keyboard_arrow_left\r\n          </i>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={\r\n          show\r\n            ? `content show ${props.animate ? 'animate in' : 'static'}`\r\n            : `content hide ${props.animate ? 'animate in' : 'static'}`\r\n        }\r\n      >\r\n        {elements}\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakSidebar;\r\n","import React from 'react';\r\nimport './styles/oak-text-notch.scss';\r\n\r\ninterface Props {\r\n  label: string;\r\n  id: string;\r\n  data: any;\r\n  type?: string;\r\n  handleChange: any;\r\n  errorFields?: any;\r\n  disabled?: boolean;\r\n  rows?: number;\r\n  multiline?: boolean;\r\n}\r\nconst OakText = (props: Props) => {\r\n  return (\r\n    <div className=\"oak-text-field\">\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {!props.multiline && (\r\n        <input\r\n          disabled={props.disabled}\r\n          autoComplete=\"off\"\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          type={props.type ? props.type : 'text'}\r\n          name={props.id}\r\n          id={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n        />\r\n      )}\r\n      {/* rows={props.rows ? props.rows : 4} */}\r\n      {props.multiline && (\r\n        <textarea\r\n          disabled={props.disabled}\r\n          className={\r\n            (props.errorFields && props.errorFields[props.id] ? 'error' : '') +\r\n            (props.disabled ? ' disabled' : '')\r\n          }\r\n          id={props.id}\r\n          name={props.id}\r\n          value={props.data[props.id]}\r\n          onChange={props.handleChange}\r\n        />\r\n      )}\r\n      {/* {props.multiline && <div contentEditable={props.disabled ? false : true} suppressContentEditableWarning={true}\r\n                className={\"textarea \" + (props.errorFields && props.errorFields[props.id] ? \"error\" : \"\") + (props.disabled ? \" disabled\" : \"\")}\r\n                onBlur={handleChange}>{props.data[props.id]}</div>} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakText;\r\n","import React, { useState } from 'react';\r\nimport './styles/oak-select-notch.scss';\r\n\r\ninterface Props {\r\n  id: string;\r\n  label?: string;\r\n  handleChange: Function;\r\n  error?: boolean;\r\n  data: any;\r\n  elements?: string[];\r\n  objects?: Array<any>;\r\n  first?: string;\r\n  firstAction?: string;\r\n  variant?: 'outline' | 'no-outline' | 'block' | 'normal';\r\n  theme?: 'primary' | 'secondary' | 'tertiary' | 'default';\r\n  width?: 'width-25' | 'width-50' | 'width-75' | 'width-100';\r\n}\r\n\r\nconst OakSelect = (props: Props) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const changeSelection = (e, newValue) => {\r\n    e.target.name = props.id;\r\n    e.target.value = newValue;\r\n    props.handleChange(e);\r\n    setShow(!show);\r\n  };\r\n\r\n  const getStyle = () => {\r\n    let style = props.theme ? props.theme : '';\r\n    style += props.variant ? ` ${props.variant}` : '';\r\n    style += props.width ? ` ${props.width}` : '';\r\n\r\n    return style;\r\n  };\r\n\r\n  let dropdownList: Array<any> = [];\r\n\r\n  if (props.elements) {\r\n    dropdownList = props.elements.map(item => (\r\n      <div\r\n        className=\"option\"\r\n        key={item}\r\n        onClick={e => changeSelection(e, item)}\r\n      >\r\n        {item}\r\n      </div>\r\n    ));\r\n  } else if (props.objects) {\r\n    dropdownList = props.objects.map(item => (\r\n      <div\r\n        className=\"option\"\r\n        key={item.key}\r\n        onClick={e => changeSelection(e, item.key)}\r\n      >\r\n        {item.value}\r\n      </div>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={`oak-select ${getStyle()}`}>\r\n        {props.label && <label htmlFor={props.id}>{props.label}</label>}\r\n        <div\r\n          className=\"select-button\"\r\n          id={props.id}\r\n          onClick={() => setShow(!show)}\r\n        >\r\n          {props.elements && <div>{props.data[props.id]}</div>}\r\n          {props.objects && (\r\n            <div>\r\n              {props.objects.find(\r\n                element => element.key === props.data[props.id]\r\n              ) &&\r\n                props.objects?.find(\r\n                  element => element.key === props.data[props.id]\r\n                ).value}\r\n            </div>\r\n          )}\r\n          {/* {this.props.objects && <div>{this.props.objects[0].value}</div>} */}\r\n          <div>\r\n            <i className=\"material-icons\">keyboard_arrow_down</i>\r\n          </div>\r\n        </div>\r\n        <div className={show ? 'dropdown show' : 'dropdown hide'}>\r\n          <div className=\"dropdown-content\">\r\n            {props.first && (\r\n              <div\r\n                className=\"option\"\r\n                onClick={e => changeSelection(e, props.first)}\r\n              >\r\n                {props.first}\r\n              </div>\r\n            )}\r\n            {props.firstAction && (\r\n              <div\r\n                className=\"option\"\r\n                onClick={e => changeSelection(e, props.firstAction)}\r\n              >\r\n                {props.firstAction}\r\n              </div>\r\n            )}\r\n            {dropdownList}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OakSelect;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './styles/oak-pagination.scss';\r\nimport OakSelect from './OakSelect';\r\n\r\ninterface Props {\r\n  onChangePage: any;\r\n  totalRows: number;\r\n  label?: string;\r\n}\r\n\r\nconst OakPagination = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    rowsPerPage: 6,\r\n    pageNo: 1,\r\n  });\r\n\r\n  useEffect(() => {\r\n    pageChanged();\r\n  }, [data]);\r\n\r\n  const previousPage = () => {\r\n    if (data.pageNo !== 1) {\r\n      setData({ ...data, pageNo: data.pageNo - 1 });\r\n    }\r\n  };\r\n\r\n  const pageChanged = () => {\r\n    props.onChangePage(data.pageNo, data.rowsPerPage);\r\n  };\r\n\r\n  const nextPage = () => {\r\n    if (Math.ceil(props.totalRows / data.rowsPerPage) !== data.pageNo) {\r\n      setData({ ...data, pageNo: data.pageNo + 1 });\r\n    }\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"oak-pagination\">\r\n      <div className=\"space-right-3\">\r\n        {props.label ? props.label : 'Rows per page'}\r\n      </div>\r\n      <div className=\"space-right-3\">\r\n        <OakSelect\r\n          data={data}\r\n          id=\"rowsPerPage\"\r\n          handleChange={e => handleChange(e)}\r\n          elements={['6', '10', '20', '50']}\r\n        />\r\n      </div>\r\n      <div className=\"page-number space-right-3\">\r\n        <div>\r\n          {(data.pageNo - 1) * data.rowsPerPage + 1}-{' '}\r\n          {data.pageNo * data.rowsPerPage < props.totalRows\r\n            ? data.pageNo * data.rowsPerPage\r\n            : props.totalRows}\r\n          &nbsp;of&nbsp; {props.totalRows}{' '}\r\n        </div>\r\n      </div>\r\n      <div className=\"page-nav\">\r\n        <div className=\"space-right-2\">\r\n          <i\r\n            className={\r\n              data.pageNo === 1 ? 'material-icons disabled' : 'material-icons'\r\n            }\r\n            onClick={previousPage}\r\n          >\r\n            keyboard_arrow_left\r\n          </i>\r\n        </div>\r\n        <div>\r\n          <i\r\n            className={\r\n              Math.ceil(props.totalRows / data.rowsPerPage) === data.pageNo\r\n                ? 'material-icons disabled'\r\n                : 'material-icons'\r\n            }\r\n            onClick={nextPage}\r\n          >\r\n            keyboard_arrow_right\r\n          </i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OakPagination;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Switch } from '@material-ui/core';\r\nimport BookmarkItem from './BookmarkItem';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport OakViewResolver from '../../oakui/OakViewResolver';\r\nimport OakView from '../../oakui/OakView';\r\nimport './style.scss';\r\nimport OakSidebar from '../../oakui/OakSidebar';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport OakPagination from '../../oakui/OakPagination';\r\n\r\ninterface Props {\r\n  selectBookmark: Function;\r\n  deleteBookmark: Function;\r\n  search: any;\r\n  searchByTag: Function;\r\n\r\n  bookmark: any;\r\n  searchPref: any;\r\n  view: any[];\r\n\r\n  handleBookmarkDataChange: Function;\r\n  handleSearchPrefDataChange: Function;\r\n  toggleSearchPref: Function;\r\n  clearSearch: Function;\r\n  update: Function;\r\n}\r\n\r\nconst BookmarkView = (props: Props) => {\r\n  const [editDialog, setEditDialog] = useState(false);\r\n  const [paginationData, setPaginationData] = useState({\r\n    pageNo: 1,\r\n    rowsPerPage: 6,\r\n  });\r\n\r\n  const domain = 'bookmark';\r\n  const sidebarElements = {\r\n    addNew: [\r\n      {\r\n        label: 'New Bookmark',\r\n        action: () => newBookmark(),\r\n        icon: 'note_add',\r\n      },\r\n    ],\r\n  };\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === domain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${domain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action !== 'deleted') {\r\n          toggleEditDialog();\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  function newBookmark() {\r\n    props.selectBookmark(null);\r\n    setEditDialog(true);\r\n  }\r\n\r\n  function selectBookmark(item) {\r\n    props.selectBookmark(item);\r\n    setEditDialog(true);\r\n  }\r\n\r\n  function toggleEditDialog() {\r\n    setEditDialog(!editDialog);\r\n  }\r\n\r\n  const onChangePage = (pageNo: number, rowsPerPage: number) => {\r\n    setPaginationData({\r\n      pageNo,\r\n      rowsPerPage,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"bookmarks\">\r\n      <OakDialog visible={editDialog} toggleVisibility={toggleEditDialog}>\r\n        <div className=\"dialog-body\">\r\n          <OakText\r\n            label=\"Title\"\r\n            data={props.bookmark}\r\n            id=\"title\"\r\n            handleChange={e => props.handleBookmarkDataChange(e)}\r\n          />\r\n          <OakText\r\n            label=\"URL\"\r\n            data={props.bookmark}\r\n            id=\"href\"\r\n            handleChange={e => props.handleBookmarkDataChange(e)}\r\n          />\r\n          <OakText\r\n            label=\"Tags\"\r\n            data={props.bookmark}\r\n            id=\"tags\"\r\n            handleChange={e => props.handleBookmarkDataChange(e)}\r\n          />\r\n        </div>\r\n        <div className=\"dialog-footer\">\r\n          <OakButton\r\n            action={toggleEditDialog}\r\n            theme=\"default\"\r\n            variant=\"outline\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">close</i>Cancel\r\n          </OakButton>\r\n          <OakButton\r\n            action={props.update}\r\n            theme=\"primary\"\r\n            variant=\"animate in\"\r\n            align=\"right\"\r\n          >\r\n            <i className=\"material-icons\">double_arrow</i>Save\r\n          </OakButton>\r\n        </div>\r\n      </OakDialog>\r\n\r\n      <OakViewResolver>\r\n        <OakView main>\r\n          <OakPagination\r\n            totalRows={props.view.length}\r\n            onChangePage={onChangePage}\r\n            label=\"Items per page\"\r\n          />\r\n          <div className=\"space-bottom-2\" />\r\n          {props.view\r\n            .slice(\r\n              (paginationData.pageNo - 1) * paginationData.rowsPerPage,\r\n              paginationData.pageNo * paginationData.rowsPerPage\r\n            )\r\n            .map((item: any) => (\r\n              <div key={item._id}>\r\n                <BookmarkItem\r\n                  id={item._id}\r\n                  bookmark={item}\r\n                  editBookmark={selectBookmark}\r\n                  deleteBookmark={props.deleteBookmark}\r\n                  searchByTag={props.searchByTag}\r\n                />\r\n                <br />\r\n              </div>\r\n            ))}\r\n        </OakView>\r\n        <OakView side>\r\n          <div className=\"filter-container\">\r\n            <div className=\"section-main\">\r\n              <OakSidebar\r\n                label=\"Add New\"\r\n                elements={sidebarElements.addNew}\r\n                icon=\"add\"\r\n                animate\r\n              />\r\n              <OakSidebar\r\n                label=\"Search\"\r\n                icon=\"search\"\r\n                animate\r\n                number={\r\n                  props.searchPref.filtered ? props.view.length : undefined\r\n                }\r\n              >\r\n                <form method=\"GET\" onSubmit={props.search} noValidate>\r\n                  <div className=\"space-top-2 space-left-4 space-right-4\">\r\n                    <OakText\r\n                      label=\"Keywords\"\r\n                      id=\"searchText\"\r\n                      data={props.searchPref}\r\n                      handleChange={e => props.handleSearchPrefDataChange(e)}\r\n                    />\r\n                  </div>\r\n                </form>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.title}\r\n                    onChange={() => props.toggleSearchPref('title')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include title\r\n                </div>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.tags}\r\n                    onChange={() => props.toggleSearchPref('tags')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include tags\r\n                </div>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.href}\r\n                    onChange={() => props.toggleSearchPref('href')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include URL\r\n                </div>\r\n                {props.searchPref.filtered && (\r\n                  <div className=\"typography-4 space-top-2 space-left-2\">\r\n                    Found {props.view.length} bookmarks matching the search\r\n                    criteria\r\n                  </div>\r\n                )}\r\n                <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                  <div>\r\n                    <OakButton action={props.clearSearch} theme=\"default\">\r\n                      Clear\r\n                    </OakButton>\r\n                  </div>\r\n                  <div>\r\n                    <OakButton\r\n                      action={props.search}\r\n                      theme=\"primary\"\r\n                      variant=\"animate in\"\r\n                    >\r\n                      Search\r\n                    </OakButton>\r\n                  </div>\r\n                </div>\r\n              </OakSidebar>\r\n            </div>\r\n          </div>\r\n        </OakView>\r\n      </OakViewResolver>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookmarkView;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.scss';\r\nimport { isEmptyOrSpaces, match } from '../Utils';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport {\r\n  fetchBookmark,\r\n  saveBookmark,\r\n  deleteBookmark,\r\n} from '../../actions/BookmarkActions';\r\nimport BookmarkView from './BookmarkView';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  location: any;\r\n  logout: Function;\r\n\r\n  fetchBookmark: Function;\r\n  saveBookmark: Function;\r\n  deleteBookmark: Function;\r\n  bookmark: any;\r\n}\r\n\r\nconst BookmarkController = (props: Props) => {\r\n  const [bookmark, setBookmark] = useState({\r\n    id: undefined,\r\n    title: '',\r\n    href: '',\r\n    tags: '',\r\n  });\r\n\r\n  const [searchPref, setSearchPref] = useState({\r\n    title: true,\r\n    tags: true,\r\n    href: true,\r\n    content: true,\r\n    searchText: '',\r\n    filtered: false,\r\n    filterActivator: false,\r\n  });\r\n\r\n  const [firstLoad, setFirstLoad] = useState(true);\r\n  const [view, setView] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query && query.q) {\r\n        if (query.q.startsWith('tags')) {\r\n          setSearchPref({\r\n            ...searchPref,\r\n            title: false,\r\n            tags: true,\r\n            href: true,\r\n            content: false,\r\n          });\r\n        }\r\n        setSearchPref({\r\n          ...searchPref,\r\n          searchText: query.q,\r\n          filterActivator: !searchPref.filterActivator,\r\n        });\r\n      }\r\n    }\r\n  }, [props.location.search]);\r\n\r\n  useEffect(() => {\r\n    if (firstLoad && props.authorization?.isAuth) {\r\n      props.fetchBookmark(props.authorization);\r\n      setFirstLoad(false);\r\n    }\r\n  }, [props.authorization]);\r\n\r\n  useEffect(() => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n  }, [props.bookmark]);\r\n\r\n  useEffect(() => {\r\n    search();\r\n  }, [searchPref.filterActivator]);\r\n\r\n  const selectBookmark = bookmark => {\r\n    setBookmark({\r\n      id: bookmark ? bookmark._id : '',\r\n      title: bookmark ? bookmark.title : '',\r\n      href: bookmark ? bookmark.href : '',\r\n      tags: bookmark ? bookmark.tags : '',\r\n    });\r\n  };\r\n\r\n  const deleteBookmark = bookmarkId => {\r\n    props.deleteBookmark(props.authorization, bookmarkId);\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setView(props.bookmark?.items);\r\n    setFirstLoad(false);\r\n    setSearchPref({\r\n      ...searchPref,\r\n      searchText: '',\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n    sendMessage('sidebar', false);\r\n  };\r\n\r\n  const searchByTag = tagName => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      title: false,\r\n      tags: true,\r\n      href: false,\r\n      searchText: tagName,\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n  };\r\n\r\n  const search = (event?: any) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n    if (isEmptyOrSpaces(searchPref.searchText)) {\r\n      setView(props.bookmark?.items);\r\n      setSearchPref({ ...searchPref, filtered: false });\r\n      return;\r\n    }\r\n\r\n    setView(\r\n      props.bookmark?.items?.filter(item => {\r\n        if (searchPref.title && match(item.title, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n        if (searchPref.tags && match(item.tags, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n        if (searchPref.href && match(item.href, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n      })\r\n    );\r\n    setSearchPref({ ...searchPref, filtered: true });\r\n    sendMessage('sidebar', false);\r\n  };\r\n\r\n  const toggleSearchPref = pref => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      [pref]: !searchPref[pref],\r\n    });\r\n  };\r\n\r\n  const update = () => {\r\n    if (isEmptyOrSpaces(bookmark.title)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Title / description missing',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(bookmark.href)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Website URL / Link is missing',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(bookmark.tags)) {\r\n      setBookmark({ ...bookmark, tags: 'unsorted' });\r\n    }\r\n\r\n    props.saveBookmark(props.authorization, bookmark);\r\n  };\r\n\r\n  const handleBookmarkDataChange = event => {\r\n    setBookmark({\r\n      ...bookmark,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleSearchPrefDataChange = event => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <BookmarkView\r\n      view={view}\r\n      bookmark={bookmark}\r\n      handleBookmarkDataChange={handleBookmarkDataChange}\r\n      selectBookmark={selectBookmark}\r\n      update={update}\r\n      deleteBookmark={deleteBookmark}\r\n      searchPref={searchPref}\r\n      handleSearchPrefDataChange={handleSearchPrefDataChange}\r\n      toggleSearchPref={toggleSearchPref}\r\n      clearSearch={clearSearch}\r\n      search={search}\r\n      searchByTag={searchByTag}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  bookmark: state.bookmark,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchBookmark,\r\n  saveBookmark,\r\n  deleteBookmark,\r\n})(BookmarkController);\r\n","import { httpGet, httpPut, httpDelete } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { FETCH_NOTE } from './types';\r\nimport { sendMessage } from '../events/MessageService';\r\n\r\nconst domain = 'note';\r\n\r\nexport const fetchNote = authorization => dispatch => {\r\n  httpGet(\r\n    constants.API_URL_NOTE,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    authorization.password\r\n  ).then(response => {\r\n    dispatch({\r\n      type: FETCH_NOTE,\r\n      payload: response.data,\r\n    });\r\n  });\r\n};\r\n\r\nexport const saveNote = (authorization, payload) => dispatch => {\r\n  if (payload._id) {\r\n    payload.id = payload._id;\r\n    payload._id = undefined;\r\n  }\r\n  httpPut(\r\n    constants.API_URL_NOTE,\r\n    payload,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    authorization.password,\r\n    ['attributes']\r\n  )\r\n    .then(() => {\r\n      sendMessage(domain, true, { action: payload.id ? 'updated' : 'created' });\r\n      dispatch(fetchNote(authorization));\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n\r\nexport const deleteNote = (authorization, id) => dispatch => {\r\n  httpDelete(`${constants.API_URL_NOTE}/${id}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${authorization.token}`,\r\n    },\r\n  })\r\n    .then(function(response) {\r\n      if (response.status === 201) {\r\n        sendMessage(domain, true, { action: 'deleted' });\r\n        dispatch(fetchNote(authorization));\r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (error.response.status === 401) {\r\n        sendMessage('session expired');\r\n      }\r\n    });\r\n};\r\n","import React from 'react';\r\nimport showdown from 'showdown';\r\nimport './styles/Showdown.scss';\r\n\r\ninterface Props {\r\n  source: string;\r\n}\r\nconst Showdown = (props: Props) => {\r\n  const converter = new showdown.Converter({ tables: true });\r\n  const html = converter.makeHtml(props.source);\r\n  return (\r\n    <div className=\"markdown-body\">\r\n      <div dangerouslySetInnerHTML={{ __html: html }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Showdown;\r\n","import React, { useState } from 'react';\r\nimport Showdown from '../../oakui/Showdown';\r\nimport OakSelect from '../../oakui/OakSelect';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport OakPrompt from '../../oakui/OakPrompt';\r\n\r\ninterface Props {\r\n  note: any;\r\n  deleteNote: Function;\r\n  saveNote: Function;\r\n  handleChange: Function;\r\n  notebooks: any;\r\n  editNote: boolean;\r\n  setEditNote: Function;\r\n}\r\n\r\nconst NoteItem = (props: Props) => {\r\n  const flags = [\r\n    {\r\n      key: 'one',\r\n      value: <div className=\"select-palette one\" />,\r\n    },\r\n    {\r\n      key: 'two',\r\n      value: <div className=\"select-palette two\" />,\r\n    },\r\n    {\r\n      key: 'three',\r\n      value: <div className=\"select-palette three\" />,\r\n    },\r\n    {\r\n      key: 'four',\r\n      value: <div className=\"select-palette four\" />,\r\n    },\r\n    {\r\n      key: 'five',\r\n      value: <div className=\"select-palette five\" />,\r\n    },\r\n    {\r\n      key: 'six',\r\n      value: <div className=\"select-palette six\" />,\r\n    },\r\n  ];\r\n\r\n  const [showDeletePrompt, setShowDeletePrompt] = useState(false);\r\n  const [preview, setPreview] = useState(true);\r\n  const [newNotebook, setNewNotebook] = useState('');\r\n\r\n  const deleteNote = () => {\r\n    props.deleteNote(props.note._id || props.note.id);\r\n  };\r\n\r\n  const saveNote = () => {\r\n    let { notebook } = props.note;\r\n\r\n    if (notebook === '<create new>') {\r\n      notebook = props.note.newNotebook;\r\n    }\r\n\r\n    props.saveNote(props.note, true);\r\n  };\r\n  const tags: any = [];\r\n  if (props.note.tags) {\r\n    props.note.tags.split(' ').map(item => {\r\n      tags.push(\r\n        <div key={item} className=\"tag\">\r\n          {item}\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <OakPrompt\r\n        visible={showDeletePrompt}\r\n        toggleVisibility={() => setShowDeletePrompt(!showDeletePrompt)}\r\n        action={deleteNote}\r\n        text=\"Are you sure, you want to delete the bookmark?\"\r\n      />\r\n      {!props.editNote && (\r\n        <div className=\"noteitem\">\r\n          <div className=\"notebook\">\r\n            <i className=\"material-icons\">insert_drive_file</i>\r\n            {props.note.notebook}\r\n          </div>\r\n          {/* <div className=\"space-bottom-2\" /> */}\r\n          <div className=\"typography-3 space-bottom-1\">{props.note.title}</div>\r\n          {tags}\r\n          <div className=\"space-bottom-2\" />\r\n          <OakButton\r\n            action={() => props.setEditNote(true)}\r\n            theme=\"secondary\"\r\n            variant=\"animate in\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">edit</i>Edit\r\n          </OakButton>\r\n          <OakButton\r\n            action={() => setShowDeletePrompt(!showDeletePrompt)}\r\n            theme=\"secondary\"\r\n            variant=\"animate in\"\r\n            align=\"right\"\r\n          >\r\n            <i className=\"material-icons\">delete</i>Delete\r\n          </OakButton>\r\n\r\n          <Showdown source={props.note.content} />\r\n        </div>\r\n      )}\r\n\r\n      {props.editNote && (\r\n        <div className=\"noteitem\">\r\n          <div className=\"typography-3 space-bottom-1\">{props.note.title}</div>\r\n\r\n          <OakButton\r\n            action={saveNote}\r\n            theme=\"primary\"\r\n            variant=\"animate in\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">double_arrow</i>Save\r\n          </OakButton>\r\n          <OakButton\r\n            action={() => props.setEditNote(true)}\r\n            theme=\"default\"\r\n            variant=\"outline\"\r\n            align=\"center\"\r\n          >\r\n            <i className=\"material-icons\">refresh</i>Undo All\r\n          </OakButton>\r\n          <OakButton\r\n            action={() => props.setEditNote(false)}\r\n            theme=\"default\"\r\n            variant=\"outline\"\r\n            align=\"center\"\r\n          >\r\n            <i className=\"material-icons\">close</i>Cancel\r\n          </OakButton>\r\n          {!preview && (\r\n            <OakButton\r\n              action={() => setPreview(!preview)}\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              align=\"right\"\r\n            >\r\n              <i className=\"material-icons\">visibility</i>Show Preview\r\n            </OakButton>\r\n          )}\r\n          {preview && (\r\n            <OakButton\r\n              action={setPreview(!preview)}\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              align=\"right\"\r\n            >\r\n              <i className=\"material-icons\">visibility_off</i>Hide Preview\r\n            </OakButton>\r\n          )}\r\n\r\n          <div>\r\n            <OakSelect\r\n              width=\"width-25\"\r\n              label=\"Flag\"\r\n              data={props.note}\r\n              id=\"flag\"\r\n              handleChange={e => props.handleChange(e)}\r\n              objects={flags}\r\n            />\r\n          </div>\r\n          <div>\r\n            <OakSelect\r\n              label=\"Notebook\"\r\n              data={props.note}\r\n              id=\"notebook\"\r\n              handleChange={e => props.handleChange(e)}\r\n              elements={props.notebooks}\r\n              firstAction=\"<create new>\"\r\n            />\r\n          </div>\r\n          <div>\r\n            {props.note.notebook === '<create new>' && (\r\n              <OakText\r\n                label=\"Notebook name\"\r\n                data={props.note}\r\n                id=\"newNotebook\"\r\n                handleChange={e => props.handleChange(e)}\r\n              />\r\n            )}\r\n          </div>\r\n          <OakText\r\n            label=\"Title\"\r\n            data={props.note}\r\n            id=\"title\"\r\n            handleChange={e => props.handleChange(e)}\r\n          />\r\n          <OakText\r\n            label=\"Tags (separated by blank spaces)\"\r\n            data={props.note}\r\n            id=\"tags\"\r\n            handleChange={e => props.handleChange(e)}\r\n          />\r\n\r\n          {preview && (\r\n            <div className=\"edit-note-view\">\r\n              <div>\r\n                <OakText\r\n                  label=\"Content (Markdown / HTML / Plaintext)\"\r\n                  data={props.note}\r\n                  id=\"content\"\r\n                  multiline\r\n                  handleChange={e => props.handleChange(e)}\r\n                />\r\n              </div>\r\n              <div>\r\n                <div className=\"typography-5 space-bottom-1\">Preview</div>\r\n                <Showdown source={props.note.content} />\r\n              </div>\r\n            </div>\r\n          )}\r\n          {!preview && (\r\n            <OakText\r\n              label=\"Content (Markdown / HTML / Plaintext)\"\r\n              data={props.note}\r\n              id=\"content\"\r\n              multiline\r\n              handleChange={e => props.handleChange(e)}\r\n            />\r\n          )}\r\n          <div className=\"space-top-2\" />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NoteItem;\r\n","import React from 'react';\r\nimport './styles/ActionButton.scss';\r\n\r\ninterface Props {\r\n  icon?: string;\r\n  leftLabel?: string;\r\n  leftAction?: any;\r\n  rightLabel?: string;\r\n  rightAction?: any;\r\n  type?: string;\r\n}\r\nconst ActionButton = (props: Props) => {\r\n  const icon = <i className=\"material-icons\">{props.icon}</i>;\r\n  return (\r\n    <div className=\"action-button\">\r\n      {props.leftLabel && props.rightLabel && (\r\n        <button\r\n          type=\"button\"\r\n          className={`left ${props.type}`}\r\n          onClick={props.leftAction}\r\n        >\r\n          {props.icon && icon}\r\n          {props.leftLabel}\r\n        </button>\r\n      )}\r\n      {props.leftLabel && props.rightLabel && (\r\n        <button\r\n          type=\"button\"\r\n          className={`right ${props.type}`}\r\n          onClick={props.rightAction}\r\n        >\r\n          {props.icon && icon}\r\n          {props.rightLabel}\r\n        </button>\r\n      )}\r\n      {props.leftLabel && !props.rightLabel && (\r\n        <button\r\n          type=\"button\"\r\n          className={`center ${props.type}`}\r\n          onClick={props.leftAction}\r\n        >\r\n          {props.icon && icon}\r\n          {props.leftLabel}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActionButton;\r\n","import React from 'react';\r\nimport ActionButton from '../../oakui/ActionButton';\r\nimport './style.scss';\r\n\r\nconst removeMd = require('remove-markdown');\r\n\r\ninterface Props {\r\n  selectNote: Function;\r\n  note: any;\r\n  id: string;\r\n  selected: boolean;\r\n  showTag: boolean;\r\n}\r\n\r\nconst NoteLink = (props: Props) => {\r\n  const selectNote = () => {\r\n    props.selectNote(props.id);\r\n  };\r\n\r\n  const tags: any = [];\r\n  if (props.note.tags) {\r\n    props.note.tags.split(' ').map(item => {\r\n      tags.push(<ActionButton leftLabel={item} />);\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      <div\r\n        className={props.selected ? 'notelink selected' : 'notelink'}\r\n        onClick={selectNote}\r\n      >\r\n        <div className=\"content\">\r\n          {props.note.flag && (\r\n            <div className={`flag-palette ${props.note.flag}`} />\r\n          )}\r\n          {props.showTag && (\r\n            <div className=\"notebook\">\r\n              {/* <i className=\"material-icons\">insert_drive_file</i> */}\r\n              {props.note.notebook}\r\n            </div>\r\n          )}\r\n          <div className=\"title\">{props.note.title}</div>\r\n          <div className=\"space-bottom-0\" />\r\n          {props.note.type !== 'Artboard' && (\r\n            <div className=\"detail\">\r\n              {removeMd(props.note.content.substring(0, 100))}\r\n            </div>\r\n          )}\r\n          {props.note.type === 'Artboard' && (\r\n            <div className=\"detail-artboard\">\r\n              <i className=\"material-icons\">tv</i>\r\n            </div>\r\n          )}\r\n          {/* <div className=\"detail typography-5\"><Showdown source={props.note.content.substring(0, 150)} /></div> */}\r\n        </div>\r\n      </div>\r\n      <div className=\"separator\" />\r\n      {/* <hr /> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NoteLink;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Switch } from '@material-ui/core';\r\nimport NoteItem from './NoteItem';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport OakViewResolver from '../../oakui/OakViewResolver';\r\nimport OakView from '../../oakui/OakView';\r\nimport './style.scss';\r\nimport OakSidebar from '../../oakui/OakSidebar';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\nimport OakSelect from '../../oakui/OakSelect';\r\nimport NoteLink from './NoteLink';\r\n\r\nconst sortTypes = [\r\n  { key: 'createdAt', value: 'created' },\r\n  { key: 'lastModifiedAt', value: 'last modified' },\r\n  { key: 'notebook', value: 'notebook' },\r\n  { key: 'title', value: 'note name' },\r\n];\r\n\r\nconst sortOrders = ['ascending', 'descending'];\r\n\r\ninterface Props {\r\n  selectNote: Function;\r\n  saveNote: Function;\r\n  deleteNote: Function;\r\n  search: any;\r\n\r\n  note: any;\r\n  searchPref: any;\r\n  filterPref: any;\r\n  view: any[];\r\n  searchResults: any[];\r\n\r\n  notebooks: any;\r\n\r\n  handleNoteDataChange: Function;\r\n  handleSearchPrefDataChange: Function;\r\n  handleFilterPrefDataChange: Function;\r\n  toggleSearchPref: Function;\r\n  clearSearch: Function;\r\n}\r\nconst emptyNote = {\r\n  id: undefined,\r\n  type: 'Notebook',\r\n  title: '',\r\n  content: '',\r\n  tags: '',\r\n  notebook: '',\r\n  newNotebook: '',\r\n};\r\n\r\nconst NoteView = (props: Props) => {\r\n  const [editDialog, setEditDialog] = useState(false);\r\n  const [editNote, setEditNote] = useState(false);\r\n\r\n  const domain = 'note';\r\n  const sidebarElements = {\r\n    addNew: [\r\n      {\r\n        label: 'New Note',\r\n        action: () => newNote(),\r\n        icon: 'note_add',\r\n      },\r\n      {\r\n        label: 'New Whiteboard',\r\n        action: () => newNote(),\r\n        icon: 'tv',\r\n      },\r\n    ],\r\n  };\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === domain && message.signal) {\r\n        sendMessage('notification', true, {\r\n          type: 'success',\r\n          message: `${domain} ${message.data.action}`,\r\n          duration: 5000,\r\n        });\r\n        if (message.data.action === 'created') {\r\n          toggleEditDialog();\r\n        } else if (message.data.action === 'updated') {\r\n          setEditNote(false);\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //     if (!editNote) {\r\n  //         selectNote(emptyNote);\r\n  //     }\r\n  // }, [editNote])\r\n\r\n  function newNote() {\r\n    props.selectNote(emptyNote);\r\n    setEditDialog(true);\r\n  }\r\n\r\n  function selectNote(item) {\r\n    props.selectNote(item);\r\n    sendMessage('sidebar', false);\r\n  }\r\n\r\n  function toggleEditDialog() {\r\n    setEditDialog(!editDialog);\r\n  }\r\n\r\n  return (\r\n    <div className=\"notes\">\r\n      <OakDialog visible={editDialog} toggleVisibility={toggleEditDialog}>\r\n        <div className=\"dialog-body\">\r\n          <div>\r\n            <OakSelect\r\n              label=\"Notebook\"\r\n              theme=\"default\"\r\n              data={props.note}\r\n              id=\"notebook\"\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n              elements={props.notebooks}\r\n              firstAction=\"<create new>\"\r\n            />\r\n          </div>\r\n          <div>\r\n            {props.note.notebook === '<create new>' && (\r\n              <OakText\r\n                label=\"Notebook name\"\r\n                data={props.note}\r\n                id=\"newNotebook\"\r\n                handleChange={e => props.handleNoteDataChange(e)}\r\n              />\r\n            )}\r\n          </div>\r\n          <div>\r\n            <OakText\r\n              label=\"Title\"\r\n              data={props.note}\r\n              id=\"title\"\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <OakText\r\n              label=\"Tags (separated by blank spaces)\"\r\n              data={props.note}\r\n              id=\"tags\"\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n            />\r\n          </div>\r\n          <div>\r\n            <OakText\r\n              label=\"Content (Markdown / HTML / Plaintext)\"\r\n              data={props.note}\r\n              id=\"content\"\r\n              multiline\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"dialog-footer\">\r\n          <OakButton\r\n            action={toggleEditDialog}\r\n            theme=\"default\"\r\n            variant=\"outline\"\r\n            align=\"left\"\r\n          >\r\n            <i className=\"material-icons\">close</i>Cancel\r\n          </OakButton>\r\n          <OakButton\r\n            action={props.saveNote}\r\n            theme=\"primary\"\r\n            variant=\"animate in\"\r\n            align=\"right\"\r\n          >\r\n            <i className=\"material-icons\">double_arrow</i>Save\r\n          </OakButton>\r\n        </div>\r\n      </OakDialog>\r\n\r\n      <OakViewResolver>\r\n        <OakView main>\r\n          {(props.note?._id || props.note?.id) && (\r\n            <NoteItem\r\n              note={props.note}\r\n              saveNote={props.saveNote}\r\n              editNote={editNote}\r\n              setEditNote={setEditNote}\r\n              deleteNote={props.deleteNote}\r\n              notebooks={props.notebooks}\r\n              handleChange={e => props.handleNoteDataChange(e)}\r\n            />\r\n          )}\r\n        </OakView>\r\n        <OakView side>\r\n          <div className=\"filter-container\">\r\n            <div className=\"section-main\">\r\n              <OakSidebar\r\n                label=\"Add New\"\r\n                elements={sidebarElements.addNew}\r\n                icon=\"add\"\r\n                animate\r\n              />\r\n              <OakSidebar\r\n                label=\"Search\"\r\n                icon=\"search\"\r\n                animate\r\n                number={\r\n                  props.searchPref.filtered\r\n                    ? props.searchResults.length\r\n                    : undefined\r\n                }\r\n              >\r\n                <div className=\"space-top-1\" />\r\n                <form method=\"GET\" onSubmit={props.search} noValidate>\r\n                  <div className=\"space-left-4 space-right-4\">\r\n                    <OakText\r\n                      label=\"Keywords\"\r\n                      id=\"searchText\"\r\n                      data={props.searchPref}\r\n                      handleChange={e => props.handleSearchPrefDataChange(e)}\r\n                    />\r\n                  </div>\r\n                </form>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.title}\r\n                    onChange={() => props.toggleSearchPref('title')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include title\r\n                </div>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.tags}\r\n                    onChange={() => props.toggleSearchPref('tags')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include tags\r\n                </div>\r\n                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                  <Switch\r\n                    checked={props.searchPref.content}\r\n                    onChange={() => props.toggleSearchPref('content')}\r\n                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                  />\r\n                  Include Content\r\n                </div>\r\n                {props.searchPref.filtered && (\r\n                  <div className=\"typography-4 space-top-2\">\r\n                    Found {props.searchResults.length} notes matching the search\r\n                    criteria\r\n                  </div>\r\n                )}\r\n                <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                  <div>\r\n                    <OakButton\r\n                      action={props.clearSearch}\r\n                      theme=\"default\"\r\n                      variant=\"animate none\"\r\n                    >\r\n                      Clear\r\n                    </OakButton>\r\n                  </div>\r\n                  <div>\r\n                    <OakButton\r\n                      action={props.search}\r\n                      theme=\"default\"\r\n                      variant=\"animate in\"\r\n                    >\r\n                      Search\r\n                    </OakButton>\r\n                  </div>\r\n                </div>\r\n              </OakSidebar>\r\n\r\n              <OakSidebar\r\n                label={\r\n                  props.searchPref.filtered ? 'Search results' : 'All Notes'\r\n                }\r\n                icon=\"notes\"\r\n                number={props.view.length}\r\n              >\r\n                <div className=\"filter-bar\">\r\n                  {props.searchResults.length > 1 && (\r\n                    <div>\r\n                      <OakSelect\r\n                        label=\"Notebook\"\r\n                        data={props.filterPref}\r\n                        id=\"notebookFilter\"\r\n                        handleChange={e => props.handleFilterPrefDataChange(e)}\r\n                        elements={props.filterPref.notebookList}\r\n                        first=\"all notebooks\"\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  {props.searchResults.length === 1 && (\r\n                    <div>\r\n                      <OakSelect\r\n                        label=\"Notebook\"\r\n                        data={props.filterPref}\r\n                        id=\"notebookFilter\"\r\n                        handleChange={e => props.handleFilterPrefDataChange(e)}\r\n                        elements={props.filterPref.notebookList}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  <div />\r\n                  <div>\r\n                    <OakSelect\r\n                      label=\"Sort by\"\r\n                      data={props.filterPref}\r\n                      id=\"sortBy\"\r\n                      handleChange={e => props.handleFilterPrefDataChange(e)}\r\n                      objects={sortTypes}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <OakSelect\r\n                      label=\"Sort Order\"\r\n                      data={props.filterPref}\r\n                      id=\"sortOrder\"\r\n                      handleChange={e => props.handleFilterPrefDataChange(e)}\r\n                      elements={sortOrders}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                {props.view?.map((item: any) => (\r\n                  <div key={item._id ? item._id : item.id}>\r\n                    {/* <NoteLink selected={props.note?.id === item._id ? true : false} id={item._id} note={item} selectNote={() => selectNote(item)} showTag={notebookFilter === 'all notebooks'}/> */}\r\n                    <NoteLink\r\n                      selected={\r\n                        !!(\r\n                          props.note?._id === item._id ||\r\n                          props.note?.id === item._id\r\n                        )\r\n                      }\r\n                      id={item._id}\r\n                      note={item}\r\n                      selectNote={() => selectNote(item)}\r\n                      showTag\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </OakSidebar>\r\n            </div>\r\n          </div>\r\n        </OakView>\r\n      </OakViewResolver>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoteView;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './style.scss';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { fetchNote, saveNote, deleteNote } from '../../actions/NoteActions';\r\nimport NoteView from './NoteView';\r\nimport { isEmptyOrSpaces, match, sort } from '../Utils';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  location: any;\r\n  logout: Function;\r\n\r\n  fetchNote: Function;\r\n  saveNote: Function;\r\n  deleteNote: Function;\r\n  note: any;\r\n}\r\n\r\nconst NoteController = (props: Props) => {\r\n  const emptyNote = {\r\n    _id: undefined,\r\n    id: undefined,\r\n    type: 'Notebook',\r\n    title: '',\r\n    content: '',\r\n    tags: '',\r\n    notebook: '',\r\n    newNotebook: '',\r\n  };\r\n  const [note, setNote] = useState(emptyNote);\r\n\r\n  const [searchPref, setSearchPref] = useState({\r\n    title: true,\r\n    tags: true,\r\n    content: true,\r\n    searchText: '',\r\n    filtered: false,\r\n    filterActivator: false,\r\n  });\r\n\r\n  const [filterPref, setFilterPref] = useState({\r\n    notebookFilter: 'all notebooks',\r\n    notebookList: [...new Set()],\r\n    sortBy: 'lastModifiedAt',\r\n    sortOrder: 'descending',\r\n    filtered: false,\r\n    filterActivator: false,\r\n  });\r\n\r\n  const [firstLoad, setFirstLoad] = useState(true);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [view, setView] = useState([]);\r\n  const [existingNotebookList, setExistingNotebookList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query && query.q) {\r\n        if (query.q.startsWith('tags')) {\r\n          setSearchPref({\r\n            ...searchPref,\r\n            title: false,\r\n            tags: true,\r\n            content: false,\r\n          });\r\n        }\r\n        setSearchPref({\r\n          ...searchPref,\r\n          searchText: query.q,\r\n          filterActivator: !searchPref.filterActivator,\r\n        });\r\n      }\r\n    }\r\n  }, [props.location.search]);\r\n\r\n  useEffect(() => {\r\n    if (firstLoad && props.authorization?.isAuth) {\r\n      props.fetchNote(props.authorization);\r\n      setFirstLoad(false);\r\n    }\r\n  }, [props.authorization]);\r\n\r\n  useEffect(() => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n\r\n    const existingNotebookListTemp: any = [];\r\n    props.note?.items?.map(item =>\r\n      existingNotebookListTemp.push(item.notebook)\r\n    );\r\n    setExistingNotebookList(Array.from(new Set(existingNotebookListTemp)));\r\n  }, [props.note]);\r\n\r\n  useEffect(() => {\r\n    search();\r\n  }, [searchPref.filterActivator]);\r\n\r\n  useEffect(() => {\r\n    filter();\r\n  }, [filterPref.filterActivator]);\r\n\r\n  const selectNote = (selectedNote: any) => {\r\n    setNote(selectedNote);\r\n  };\r\n\r\n  const deleteNote = (bookmarkId: string) => {\r\n    props.deleteNote(props.authorization, bookmarkId);\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setView(props.note?.items);\r\n    setFirstLoad(false);\r\n    setSearchPref({\r\n      ...searchPref,\r\n      searchText: '',\r\n      filterActivator: !searchPref.filterActivator,\r\n    });\r\n    sendMessage('sidebar', false);\r\n  };\r\n\r\n  const search = (event?: any) => {\r\n    if (event) {\r\n      event.preventDefault();\r\n    }\r\n    if (isEmptyOrSpaces(searchPref.searchText)) {\r\n      setSearchResults(props.note?.items);\r\n      setSearchPref({ ...searchPref, filtered: false });\r\n      setFilterPref({\r\n        ...filterPref,\r\n        filterActivator: !filterPref.filterActivator,\r\n      });\r\n      return;\r\n    }\r\n\r\n    setSearchResults(\r\n      props.note?.items?.filter(item => {\r\n        if (searchPref.title && match(item.title, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n        if (searchPref.tags && match(item.tags, searchPref.searchText)) {\r\n          return true;\r\n        }\r\n      })\r\n    );\r\n    setSearchPref({ ...searchPref, filtered: true });\r\n    setFilterPref({\r\n      ...filterPref,\r\n      filterActivator: !filterPref.filterActivator,\r\n    });\r\n    sendMessage('sidebar', false);\r\n  };\r\n\r\n  const filter = () => {\r\n    const notebookList: any = [];\r\n    let noteList: any = [];\r\n    searchResults.map((item: any) => {\r\n      if (\r\n        isEmptyOrSpaces(filterPref.notebookFilter) ||\r\n        filterPref.notebookFilter === 'all notebooks' ||\r\n        item.notebook === filterPref.notebookFilter\r\n      ) {\r\n        noteList.push(item);\r\n      }\r\n      notebookList.push(item.notebook);\r\n    });\r\n\r\n    noteList = sort(\r\n      noteList,\r\n      filterPref.sortBy,\r\n      filterPref.sortOrder === 'descending'\r\n    );\r\n\r\n    if (noteList.length > 0) {\r\n      let activeSelection = false;\r\n      noteList.map((item: any) => {\r\n        if (item._id === note.id || item._id === note._id) {\r\n          activeSelection = true;\r\n        }\r\n      });\r\n\r\n      if (!activeSelection) {\r\n        setNote(searchResults[0]);\r\n      }\r\n    }\r\n\r\n    // if (!notebookList.find(item => item === filterPref.notebookFilter)) {\r\n    //     setFilterPref({\r\n    //         ...filterPref, notebookFilter: (notebookList.length === 1 ? notebookList[0] : \"all notebooks\"), notebookList: Array.from(new Set(notebookList)), filtered: true\r\n    //     });\r\n    // } else {\r\n    setFilterPref({\r\n      ...filterPref,\r\n      notebookList: Array.from(new Set(notebookList)),\r\n      filtered: true,\r\n    });\r\n    // }\r\n\r\n    setView(noteList);\r\n  };\r\n\r\n  const toggleSearchPref = pref => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      [pref]: !searchPref[pref],\r\n    });\r\n  };\r\n\r\n  const saveNote = () => {\r\n    if (!note) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Unknown error',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isEmptyOrSpaces(note.notebook) ||\r\n      (note.notebook === '<create new>' && isEmptyOrSpaces(note.newNotebook))\r\n    ) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Notebook not chosen',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(note.title)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Note name / title missing',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(note.tags)) {\r\n      note.tags = 'unsorted';\r\n    }\r\n\r\n    if (note.notebook === '<create new>') {\r\n      note.notebook = note.newNotebook;\r\n    }\r\n\r\n    props.saveNote(props.authorization, note);\r\n  };\r\n\r\n  const handleNoteDataChange = event => {\r\n    setNote({ ...note, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const handleSearchPrefDataChange = event => {\r\n    setSearchPref({\r\n      ...searchPref,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleFilterPrefDataChange = event => {\r\n    setFilterPref({\r\n      ...filterPref,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n      filterActivator: !filterPref.filterActivator,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <NoteView\r\n      view={view}\r\n      notebooks={existingNotebookList}\r\n      searchResults={searchResults}\r\n      note={note}\r\n      handleNoteDataChange={handleNoteDataChange}\r\n      selectNote={selectNote}\r\n      deleteNote={deleteNote}\r\n      saveNote={saveNote}\r\n      searchPref={searchPref}\r\n      handleSearchPrefDataChange={handleSearchPrefDataChange}\r\n      toggleSearchPref={toggleSearchPref}\r\n      clearSearch={clearSearch}\r\n      filterPref={filterPref}\r\n      handleFilterPrefDataChange={handleFilterPrefDataChange}\r\n      search={search}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  note: state.note,\r\n});\r\n\r\nexport default connect(mapStateToProps, { fetchNote, saveNote, deleteNote })(\r\n  NoteController\r\n);\r\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from './types';\r\n\r\nexport const getAuth = () => dispatch => {\r\n  dispatch({\r\n    type: GET_AUTH,\r\n  });\r\n};\r\n\r\nexport const addAuth = data => dispatch => {\r\n  dispatch({\r\n    type: ADD_AUTH,\r\n    payload: data,\r\n  });\r\n};\r\n\r\nexport const removeAuth = () => dispatch => {\r\n  dispatch({\r\n    type: REMOVE_AUTH,\r\n  });\r\n};\r\n","import { httpGet, httpPut } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\n\r\nexport default function migrateDataWithNewPassword(\r\n  authorization,\r\n  oldPassword,\r\n  newPassword\r\n) {\r\n  migrateBookmarks(authorization, oldPassword, newPassword);\r\n  migrateNotes(authorization, oldPassword, newPassword);\r\n}\r\n\r\nfunction migrateBookmarks(authorization, oldPassword, newPassword) {\r\n  httpGet(\r\n    constants.API_URL_BOOKMARK,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    oldPassword\r\n  ).then(response => {\r\n    response.data.forEach(element => {\r\n      element.id = element._id;\r\n      delete element._id;\r\n      httpPut(\r\n        constants.API_URL_BOOKMARK,\r\n        element,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${authorization.token}`,\r\n          },\r\n        },\r\n        newPassword\r\n      ).then(innerResponse => console.log(innerResponse));\r\n    });\r\n  });\r\n}\r\n\r\nfunction migrateNotes(authorization, oldPassword, newPassword) {\r\n  httpGet(\r\n    constants.API_URL_NOTE,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    oldPassword\r\n  ).then(response => {\r\n    response.data.forEach(element => {\r\n      element.id = element._id;\r\n      delete element._id;\r\n      httpPut(\r\n        constants.API_URL_NOTE,\r\n        element,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${authorization.token}`,\r\n          },\r\n        },\r\n        newPassword\r\n      ).then(innerResponse => console.log(innerResponse));\r\n    });\r\n  });\r\n}\r\n","import sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\nimport { httpGet, httpPost, httpPut } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\nimport migrateDataWithNewPassword from './DataMigrationService';\r\n\r\nexport function preSignup() {\r\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\r\n    return Promise.resolve(response);\r\n  });\r\n}\r\n\r\nexport function signup(data) {\r\n  return httpPost(\r\n    constants.API_URL_SIGNUP,\r\n    {\r\n      name: data.name,\r\n      email: data.email,\r\n      problem: encrypt(data.password, data.solution, data.salt),\r\n      solution: data.solution,\r\n    },\r\n    null\r\n  ).then(function(response) {\r\n    return Promise.resolve(response.status);\r\n  });\r\n}\r\n\r\nexport function preSignin(email) {\r\n  return httpGet(constants.API_URL_PRESIGNIN + email, null)\r\n    .then(response => Promise.resolve(response))\r\n    .catch(error => Promise.resolve(error.response));\r\n}\r\n\r\nexport function signin(data, problem) {\r\n  try {\r\n    const solution = decrypt(data.password, JSON.stringify(problem));\r\n    return httpPost(\r\n      constants.API_URL_SIGNIN,\r\n      {\r\n        email: data.email,\r\n        solution,\r\n      },\r\n      null\r\n    ).then(function(response) {\r\n      return Promise.resolve(response);\r\n    });\r\n  } catch (error) {\r\n    if (error.message === \"ccm: tag doesn't match\") {\r\n      return Promise.resolve({\r\n        status: 401,\r\n      });\r\n    }\r\n    return Promise.resolve(error);\r\n  }\r\n}\r\n\r\nexport function updateUserDetails(data, authorization, type) {\r\n  console.log(data, authorization);\r\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\r\n    if (response.status === 200) {\r\n      let newData = {};\r\n      if (type && type === 'password') {\r\n        newData = {\r\n          problem: encrypt(\r\n            data.password,\r\n            response.data.solution,\r\n            response.data.salt\r\n          ),\r\n          solution: response.data.solution,\r\n        };\r\n      } else {\r\n        newData = {\r\n          name: data.name,\r\n          email: data.email,\r\n        };\r\n      }\r\n\r\n      return httpPut(\r\n        constants.API_URL_USER_DETAILS,\r\n        newData,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${authorization.token}`,\r\n          },\r\n        },\r\n        authorization.password,\r\n        ['problem', 'solution', 'email', 'name']\r\n      ).then(function(response) {\r\n        migrateDataWithNewPassword(\r\n          authorization,\r\n          authorization.password,\r\n          data.password\r\n        );\r\n        return Promise.resolve(response);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nexport function sentPasswordChangeEmail(data, type) {\r\n  return httpPost(constants.API_URL_CODE, data, null).then(function(response) {\r\n    return Promise.resolve(response.status);\r\n  });\r\n}\r\n\r\nexport function resetPassword(data, type) {\r\n  return httpGet(constants.API_URL_PRESIGNUP, null).then(function(response) {\r\n    if (response.status === 200) {\r\n      let newData = {};\r\n      if (type && type === 'password') {\r\n        newData = {\r\n          problem: encrypt(\r\n            data.password,\r\n            response.data.solution,\r\n            response.data.salt\r\n          ),\r\n          solution: response.data.solution,\r\n          resetCode: data.resetCode,\r\n        };\r\n      }\r\n\r\n      return httpPost(constants.API_URL_RESET, newData, null).then(function(\r\n        response\r\n      ) {\r\n        return Promise.resolve(response.status);\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n  const config = {\r\n    cipher: 'aes',\r\n    iter: '12000',\r\n    ks: 256,\r\n    salt: CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(salt)),\r\n  };\r\n  return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n  return sjcl.decrypt(password, ciphertext);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './Login.scss';\r\nimport {\r\n  signup,\r\n  signin,\r\n  sentPasswordChangeEmail,\r\n  preSignup,\r\n  preSignin,\r\n} from './AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  cookies: any;\r\n  history: any;\r\n  location: any;\r\n  authorization: Authorization;\r\n}\r\n\r\nconst Login = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    newuser: false,\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    resetCode: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query && query.type === 'signup') {\r\n        setData({ ...data, newuser: true });\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const signinAction = event => {\r\n    event.preventDefault();\r\n\r\n    sendMessage('notification', false);\r\n    sendMessage('spinner');\r\n    if (data.email && data.password) {\r\n      preSignin(data.email).then(response => {\r\n        if (response.status === 200) {\r\n          signin(\r\n            {\r\n              email: data.email,\r\n              password: data.password,\r\n            },\r\n            response.data\r\n          )\r\n            .then(response => {\r\n              if (response.status === 200) {\r\n                sendMessage('notification', true, {\r\n                  message: 'Signed In successfully',\r\n                  type: 'success',\r\n                  duration: 3000,\r\n                });\r\n                success(response.data, data.password);\r\n              } else if (response.status === 401) {\r\n                sendMessage('notification', true, {\r\n                  message: 'Incorrect passphrase',\r\n                  type: 'failure',\r\n                  duration: 3000,\r\n                });\r\n              } else {\r\n                sendMessage('notification', true, {\r\n                  message:\r\n                    'Unknown response from server. Please try again or at a later time',\r\n                  type: 'failure',\r\n                  duration: 3000,\r\n                });\r\n              }\r\n            })\r\n            .catch(error => {\r\n              sendMessage('notification', true, {\r\n                type: 'failure',\r\n                message: 'Unknown error. Please try again or at a later time',\r\n                duration: 3000,\r\n              });\r\n            });\r\n        } else if (response.status === 404) {\r\n          sendMessage('notification', true, {\r\n            message: 'User name does not exist',\r\n            type: 'failure',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Username/password cannot be empty',\r\n        duration: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const signupAction = event => {\r\n    event.preventDefault();\r\n    sendMessage('notification', false);\r\n    sendMessage('spinner');\r\n    if (data.name && data.password && data.email) {\r\n      if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)) {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Email ID is invalid',\r\n          duration: 3000,\r\n        });\r\n        return;\r\n      }\r\n      preSignup().then(response => {\r\n        if (response.status === 200) {\r\n          signup({\r\n            name: data.name,\r\n            password: data.password,\r\n            email: data.email,\r\n            solution: response.data.solution,\r\n            salt: response.data.salt,\r\n          }).then(status => {\r\n            if (status === 200) {\r\n              sendMessage('notification', true, {\r\n                type: 'success',\r\n                message: 'Your account has been created. You can login now',\r\n                duration: 3000,\r\n              });\r\n              setData({ ...data, newuser: !data.newuser });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else if (!data.name) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Name cannot be empty',\r\n        duration: 3000,\r\n      });\r\n    } else if (!data.email) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Email cannot be empty',\r\n        duration: 3000,\r\n      });\r\n    } else if (!data.password) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Password cannot be empty',\r\n        duration: 3000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const sentEmailWithCode = () => {\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Email cannot be empty',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    sentPasswordChangeEmailAction('password');\r\n  };\r\n\r\n  const sentPasswordChangeEmailAction = type => {\r\n    const min = 1;\r\n    const max = 100;\r\n    const rand = min + Math.random() * (max - min);\r\n    sentPasswordChangeEmail(\r\n      {\r\n        email: data.email,\r\n        resetCode: rand,\r\n      },\r\n      type\r\n    )\r\n      .then((response: any) => {\r\n        if (response === 200) {\r\n          if (type === 'password') {\r\n            sendMessage('notification', true, {\r\n              message: 'Password sent successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Invalid Email error',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Bad request',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const toggle = () => {\r\n    setData({ ...data, newuser: !data.newuser });\r\n  };\r\n\r\n  const success = (data, password) => {\r\n    props.addAuth({\r\n      isAuth: true,\r\n      token: data.token,\r\n      secret: data.secret,\r\n      name: data.name,\r\n      email: data.email,\r\n      password,\r\n    });\r\n    sendMessage('loggedin', true);\r\n    props.history.push('/home');\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      {!data.newuser && (\r\n        <div className=\"container\">\r\n          <form method=\"GET\" onSubmit={signinAction} noValidate>\r\n            <h1>Log In</h1>\r\n            <div className=\"form\">\r\n              <OakText\r\n                label=\"Username/e-mail\"\r\n                id=\"email\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n              <OakText\r\n                label=\"Password\"\r\n                id=\"password\"\r\n                type=\"password\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n            </div>\r\n            <br />\r\n            <OakButton\r\n              theme=\"primary\"\r\n              variant=\"animate in\"\r\n              action={signinAction}\r\n            >\r\n              Sign In\r\n            </OakButton>\r\n            <br />\r\n            <br />\r\n            Don&apos;t have an account? &nbsp;{' '}\r\n            <OakButton theme=\"secondary\" variant=\"outline\" action={toggle}>\r\n              Sign Up\r\n            </OakButton>\r\n            <br />\r\n            <br />\r\n          </form>\r\n\r\n          <OakButton action={sentEmailWithCode}>Forgot password ?</OakButton>\r\n        </div>\r\n      )}\r\n\r\n      {data.newuser && (\r\n        <div className=\"container\">\r\n          <form method=\"GET\" onSubmit={signupAction} noValidate>\r\n            <h1>Sign Up</h1>\r\n            <div className=\"form\">\r\n              <OakText\r\n                label=\"Name\"\r\n                id=\"name\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n              <OakText\r\n                label=\"Email / User Name\"\r\n                id=\"email\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n              <OakText\r\n                label=\"Password\"\r\n                id=\"password\"\r\n                type=\"password\"\r\n                data={data}\r\n                handleChange={e => handleChange(e)}\r\n              />\r\n            </div>\r\n            <br />\r\n            <OakButton\r\n              theme=\"primary\"\r\n              variant=\"animate in\"\r\n              action={signupAction}\r\n            >\r\n              Create account\r\n            </OakButton>\r\n            <br />\r\n            <br />\r\n            Already have a account? &nbsp;{' '}\r\n            <OakButton theme=\"secondary\" variant=\"outline\" action={toggle}>\r\n              Sign In\r\n            </OakButton>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  withCookies(Login)\r\n);\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  getAuth: Function;\r\n  path: string;\r\n  render: any;\r\n}\r\n\r\nconst PrivateRoute = (props: Props) => {\r\n  useEffect(() => {\r\n    props.getAuth();\r\n  }, [props.authorization.isAuth]);\r\n\r\n  return (\r\n    <>\r\n      {props.authorization.isAuth && (\r\n        <Route path={props.path} render={props.render} />\r\n      )}\r\n      {/* {!this.props.authorization.isAuth && <Redirect to={{pathname: \"/login\"}} />} */}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth })(PrivateRoute);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ReactCookieProps } from 'react-cookie';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props extends ReactCookieProps {\r\n  authorization: Authorization;\r\n  addAuth: Function;\r\n  getAuth: Function;\r\n  removeAuth: Function;\r\n}\r\n\r\nconst AuthInit = (props: Props) => {\r\n  useEffect(() => {\r\n    if (!props.authorization.isAuth) {\r\n      console.log(props);\r\n    }\r\n    props.getAuth();\r\n  }, [props.authorization.isAuth]);\r\n\r\n  return <></>;\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  AuthInit\r\n);\r\n","import { httpGet, httpPut } from '../components/Lib/RestTemplate';\r\nimport constants from '../components/Constants';\r\nimport { GET_PROFILE, SET_PROFILE } from './types';\r\n\r\nexport const getProfile = () => dispatch => {\r\n  dispatch({\r\n    type: GET_PROFILE,\r\n  });\r\n};\r\n\r\nexport const reloadProfile = authorization => dispatch => {\r\n  httpGet(\r\n    constants.API_URL_PREFERENCES,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    authorization.password\r\n  ).then(function(response) {\r\n    console.log(response);\r\n    dispatch({\r\n      type: SET_PROFILE,\r\n      payload: response.data,\r\n    });\r\n  });\r\n};\r\n\r\nexport const persistProfile = (authorization, payload) => dispatch => {\r\n  httpPut(\r\n    constants.API_URL_PREFERENCES,\r\n    payload,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    authorization.password\r\n  ).then(function(response) {\r\n    dispatch({\r\n      type: SET_PROFILE,\r\n      payload: response.data,\r\n    });\r\n  });\r\n};\r\n\r\nexport const setProfile = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_PROFILE,\r\n    payload,\r\n  });\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\nconst Backdrop = () => {\r\n  const [backdrop, setBackdrop] = useState('');\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'dialog') {\r\n        if (message.signal) {\r\n          setBackdrop('backdrop-fade');\r\n        } else {\r\n          setBackdrop('');\r\n        }\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  return <div className={backdrop} />;\r\n};\r\n\r\nexport default Backdrop;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './style.scss';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\n\r\nconst Notification = () => {\r\n  const [spinner, setSpinner] = useState(false);\r\n  const [notification, setNotification] = useState({\r\n    type: undefined,\r\n    message: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'notification') {\r\n        if (!message.signal) {\r\n          setNotification({ type: undefined, message: undefined });\r\n        } else {\r\n          setNotification(message.data);\r\n          setSpinner(false);\r\n\r\n          if (message.data && message.data.duration) {\r\n            setTimeout(() => {\r\n              sendMessage('notification', false);\r\n            }, message.data.duration);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (message.name === 'spinner') {\r\n        setSpinner(message.signal);\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {notification && (\r\n        <div className={`notification ${notification?.type}`}>\r\n          <div className=\"message\">{notification?.message}</div>\r\n        </div>\r\n      )}\r\n      {spinner && (\r\n        <div className=\"lds-roller\">\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n          <div />\r\n        </div>\r\n      )}\r\n      {/* {this.props.spinner && <div className=\"lds-facebook\"><div></div><div></div><div></div></div>} */}\r\n      {/* {this.props.spinner && <div className=\"lds-dual-ring\"></div>} */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\n\r\nimport './style.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  profile: Profile;\r\n}\r\n\r\nconst Links = (props: Props) => {\r\n  return (\r\n    <div className=\"links\">\r\n      {props.authorization.isAuth && (\r\n        <>\r\n          <NavLink to=\"/bookmarks\" className=\"navitem\" activeClassName=\"active\">\r\n            Bookmarks\r\n          </NavLink>\r\n          <NavLink to=\"/notes\" className=\"navitem\" activeClassName=\"active\">\r\n            Notes\r\n          </NavLink>\r\n          <NavLink to=\"/settings\" className=\"navitem\" activeClassName=\"active\">\r\n            Settings\r\n          </NavLink>\r\n          <NavLink to=\"/help\" className=\"navitem\" activeClassName=\"active\">\r\n            Help\r\n          </NavLink>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Links;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport './style.scss';\r\nimport protektWhite from '../../images/protekt_white.svg';\r\nimport protektBlack from '../../images/protekt_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n}\r\n\r\nconst Desktop = (props: Props) => {\r\n  useEffect(() => {\r\n    props.getProfile();\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        props.transparent ? 'navbar desktop transparent' : 'navbar desktop'\r\n      }\r\n    >\r\n      <div className=\"left\">\r\n        {!props.transparent && props.profile.theme === 'theme_light' && (\r\n          <img className=\"logo\" src={protektBlack} alt=\"Protekt logo\" />\r\n        )}\r\n        {(props.transparent || props.profile.theme === 'theme_dark') && (\r\n          <img className=\"logo\" src={protektWhite} alt=\"Protekt logo\" />\r\n        )}\r\n        <Links authorization={props.authorization} profile={props.profile} />\r\n      </div>\r\n      <div className=\"right\">\r\n        <div className=\"action\">\r\n          {props.authorization.isAuth && (\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              small\r\n              action={props.toggleSettings}\r\n            >\r\n              <i className=\"material-icons\">brush</i>Appearance\r\n            </OakButton>\r\n          )}\r\n          {props.authorization.isAuth && (\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              small\r\n              action={props.logout()}\r\n            >\r\n              <i className=\"material-icons\">power_settings_new</i>Logout\r\n            </OakButton>\r\n          )}\r\n          {!props.authorization.isAuth && (\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              small\r\n              action={() => props.login('signin')}\r\n            >\r\n              <i className=\"material-icons\">person</i>Login\r\n            </OakButton>\r\n          )}\r\n          {!props.authorization.isAuth && (\r\n            <OakButton\r\n              theme=\"default\"\r\n              variant=\"outline\"\r\n              small\r\n              action={() => props.login('signup')}\r\n            >\r\n              <i className=\"material-icons\">person_add</i>Signup\r\n            </OakButton>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Desktop;\r\n","import React, { Component, useState, useEffect } from 'react';\r\n\r\nimport './style.scss';\r\nimport protektWhite from '../../images/protekt_white.svg';\r\nimport protektBlack from '../../images/protekt_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n}\r\n\r\nconst Mobile = (props: Props) => {\r\n  const [menu, setMenu] = useState(false);\r\n\r\n  useEffect(() => {\r\n    props.getProfile();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={\r\n          props.transparent ? 'navbar mobile transparent' : 'navbar mobile'\r\n        }\r\n      >\r\n        <div className=\"left\">\r\n          {!props.transparent && props.profile.theme === 'theme_light' && (\r\n            <img className=\"logo\" src={protektBlack} alt=\"Curate logo\" />\r\n          )}\r\n          {(props.transparent || props.profile.theme === 'theme_dark') && (\r\n            <img className=\"logo\" src={protektWhite} alt=\"Curate logo\" />\r\n          )}\r\n          {/* links */}\r\n        </div>\r\n        <div className=\"right\">\r\n          {/* <div className=\"settings-icon\" onClick={props.toggleSettings}><i className=\"material-icons\">settings</i></div> */}\r\n          <div\r\n            className={menu ? 'menu active' : 'menu'}\r\n            onClick={() => setMenu(!menu)}\r\n          >\r\n            <div />\r\n          </div>\r\n          {/* action login */}\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={menu ? 'slider show' : 'slider hide'}\r\n        onClick={() => setMenu(!menu)}\r\n      >\r\n        <div\r\n          className={menu ? 'container' : 'container hidetext'}\r\n          onClick={() => setMenu(!menu)}\r\n        >\r\n          <div className=\"action\">\r\n            <div className=\"settings-icon\" onClick={props.toggleSettings}>\r\n              {props.authorization.isAuth && (\r\n                <OakButton\r\n                  theme=\"default\"\r\n                  variant=\"outline\"\r\n                  small\r\n                  action={props.toggleSettings}\r\n                >\r\n                  <i className=\"material-icons\">brush</i>Appearance\r\n                </OakButton>\r\n              )}\r\n            </div>\r\n            <div className=\"buttons\">\r\n              {props.authorization.isAuth && (\r\n                <OakButton\r\n                  theme=\"default\"\r\n                  variant=\"outline\"\r\n                  small\r\n                  action={props.logout()}\r\n                >\r\n                  <i className=\"material-icons\">power_settings_new</i>Logout\r\n                </OakButton>\r\n              )}\r\n              {!props.authorization.isAuth && (\r\n                <OakButton\r\n                  theme=\"secondary\"\r\n                  variant=\"animate none\"\r\n                  small\r\n                  action={() => props.login('signin')}\r\n                >\r\n                  <i className=\"material-icons\">person</i>Login\r\n                </OakButton>\r\n              )}\r\n              {!props.authorization.isAuth && (\r\n                <OakButton\r\n                  theme=\"secondary\"\r\n                  variant=\"animate none\"\r\n                  small\r\n                  action={() => props.login('signup')}\r\n                >\r\n                  <i className=\"material-icons\">person_add</i>Signup\r\n                </OakButton>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <Links authorization={props.authorization} profile={props.profile} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Mobile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport { withCookies } from 'react-cookie';\r\nimport { Switch } from '@material-ui/core';\r\nimport {\r\n  getProfile,\r\n  setProfile,\r\n  reloadProfile,\r\n} from '../../actions/ProfileActions';\r\n\r\nimport './style.scss';\r\nimport Desktop from './Desktop';\r\nimport Mobile from './Mobile';\r\nimport OakDialog from '../../oakui/OakDialog';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { receiveMessage } from '../../events/MessageService';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  sendEvent: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  authorization: Authorization;\r\n  getProfile: Function;\r\n  setProfile: Function;\r\n  reloadProfile: Function;\r\n  profile: Profile;\r\n  login: Function;\r\n  transparent: boolean;\r\n  logout: Function;\r\n  toggleSettings: any;\r\n  history: any;\r\n  cookies: any;\r\n  location: any;\r\n  match: any;\r\n}\r\n\r\nconst Navigation = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    visible: false,\r\n    mobilemenu: 'hide',\r\n    chooseTheme: false,\r\n    showSettings: false,\r\n    transparentNavBar: false,\r\n    firstLoad: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    props.getProfile();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'navbar-transparency') {\r\n        setData({ ...data, transparentNavBar: message.signal });\r\n      }\r\n\r\n      if (message.name === 'loggedin') {\r\n        props.reloadProfile(props.authorization);\r\n        setData({ ...data, firstLoad: false });\r\n      }\r\n\r\n      if (message.name === 'loggedout') {\r\n        props.history.push('/home');\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (data.firstLoad && props.authorization?.isAuth) {\r\n      props.reloadProfile(props.authorization);\r\n      setData({ ...data, firstLoad: false });\r\n    }\r\n  }, [props.authorization]);\r\n\r\n  const toggleDarkMode = () => {\r\n    if (props.profile.theme === 'theme_dark') {\r\n      props.setProfile({ ...props.profile, theme: 'theme_light' });\r\n    } else {\r\n      props.setProfile({ ...props.profile, theme: 'theme_dark' });\r\n    }\r\n  };\r\n\r\n  const changeTextSize = size => {\r\n    props.setProfile({ ...props.profile, textSize: size });\r\n  };\r\n\r\n  const changeThemeColor = color => {\r\n    props.setProfile({ ...props.profile, themeColor: color });\r\n  };\r\n\r\n  const login = type => {\r\n    props.history.push(`/login?type=${type}`);\r\n  };\r\n\r\n  const toggleSettings = () => {\r\n    setData({ ...data, showSettings: !data.showSettings });\r\n  };\r\n\r\n  return (\r\n    <div className=\"nav\">\r\n      <Desktop\r\n        {...props}\r\n        logout={() => props.logout()}\r\n        login={login}\r\n        toggleSettings={() => toggleSettings()}\r\n        transparent={data.transparentNavBar}\r\n      />\r\n      <Mobile\r\n        {...props}\r\n        logout={() => props.logout()}\r\n        login={login}\r\n        toggleSettings={() => toggleSettings()}\r\n        transparent={data.transparentNavBar}\r\n      />\r\n\r\n      <OakDialog\r\n        visible={data.showSettings}\r\n        toggleVisibility={() => toggleSettings()}\r\n      >\r\n        <div className=\"dialog-body\">\r\n          <div className=\"settings\">\r\n            <div>Dark mode</div>\r\n            <div>\r\n              <Switch\r\n                checked={props.profile.theme === 'theme_dark'}\r\n                onChange={() => toggleDarkMode()}\r\n                inputProps={{ 'aria-label': 'primary checkbox' }}\r\n              />\r\n            </div>\r\n\r\n            <div>Text Size</div>\r\n            <div>\r\n              <div\r\n                className={`text-size size-1 space-right-1 ${\r\n                  props.profile.textSize === 'textsize_tiny' ? 'active' : ''\r\n                }`}\r\n                onClick={() => changeTextSize('textsize_tiny')}\r\n              >\r\n                Az\r\n              </div>\r\n              <div\r\n                className={`text-size size-2 space-right-1 ${\r\n                  props.profile.textSize === 'textsize_small' ? 'active' : ''\r\n                }`}\r\n                onClick={() => changeTextSize('textsize_small')}\r\n              >\r\n                Az\r\n              </div>\r\n              <div\r\n                className={`text-size size-3 space-right-1 ${\r\n                  props.profile.textSize === 'textsize_medium' ? 'active' : ''\r\n                }`}\r\n                onClick={() => changeTextSize('textsize_medium')}\r\n              >\r\n                Az\r\n              </div>\r\n              <div\r\n                className={`text-size size-4 ${\r\n                  props.profile.textSize === 'textsize_large' ? 'active' : ''\r\n                }`}\r\n                onClick={() => changeTextSize('textsize_large')}\r\n              >\r\n                Az\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"typography-5\">Color Scheme</div>\r\n            <div>\r\n              <div\r\n                className=\"theme-color color-1\"\r\n                onClick={() => changeThemeColor('themecolor1')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor1' && 'check'}\r\n                </i>\r\n              </div>\r\n              <div\r\n                className=\"theme-color color-2\"\r\n                onClick={() => changeThemeColor('themecolor2')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor2' && 'check'}\r\n                </i>\r\n              </div>\r\n              <div\r\n                className=\"theme-color color-3\"\r\n                onClick={() => changeThemeColor('themecolor3')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor3' && 'check'}\r\n                </i>\r\n              </div>\r\n              <div\r\n                className=\"theme-color color-4\"\r\n                onClick={() => changeThemeColor('themecolor4')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor4' && 'check'}\r\n                </i>\r\n              </div>\r\n              <div\r\n                className=\"theme-color color-5\"\r\n                onClick={() => changeThemeColor('themecolor5')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor5' && 'check'}\r\n                </i>\r\n              </div>\r\n              <div\r\n                className=\"theme-color color-6\"\r\n                onClick={() => changeThemeColor('themecolor6')}\r\n              >\r\n                <i className=\"material-icons\">\r\n                  {props.profile.themeColor === 'themecolor6' && 'check'}\r\n                </i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"dialog-footer\">\r\n          <OakButton\r\n            theme=\"primary\"\r\n            variant=\"animate none\"\r\n            action={() => toggleSettings()}\r\n          >\r\n            Close\r\n          </OakButton>\r\n        </div>\r\n      </OakDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfile,\r\n  setProfile,\r\n  reloadProfile,\r\n})(withCookies(withRouter(Navigation)));\r\n","import { httpPost } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\n\r\nconst importBookmarks = (data, authorization) => {\r\n  console.log(data);\r\n  return httpPost(\r\n    constants.API_URL_BOOKMARK_IMPORT,\r\n    data,\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${authorization.token}`,\r\n      },\r\n    },\r\n    authorization.password\r\n  ).then(function(response) {\r\n    return Promise.resolve(response);\r\n  });\r\n};\r\n\r\nexport default importBookmarks;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport importBookmarks from '../Bookmarks/BookmarkService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n}\r\n\r\nconst BookmarkImport = (props: Props) => {\r\n  const fileChoosen = (event: any) => {\r\n    event.preventDefault();\r\n    const reader = new FileReader();\r\n    sendMessage('spinner');\r\n    reader.onload = function(eventInner: any) {\r\n      importBookmarks(\r\n        {\r\n          content: eventInner.target.result,\r\n        },\r\n        props.authorization\r\n      ).then(response => {\r\n        sendMessage('notification', true, {\r\n          message: `Imported (${response.data.length}) bookmarks successfully`,\r\n          type: 'success',\r\n          duration: 6000,\r\n        });\r\n      });\r\n    };\r\n    reader.readAsText(event.target.files[0]);\r\n    event.target.value = '';\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3\">Import Bookmarks</div>\r\n      <div className=\"space-top-2\">\r\n        <label htmlFor=\"import_bookmark\" className=\"file-upload\">\r\n          <input\r\n            id=\"import_bookmark\"\r\n            type=\"file\"\r\n            name=\"file\"\r\n            onChange={fileChoosen}\r\n          />\r\n          Import\r\n        </label>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookmarkImport;\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { httpGet } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\nimport sendBookmarkExportEmail from './SettingsService';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  email: string;\r\n}\r\n\r\nconst BookmarkExport = (props: Props) => {\r\n  const exportBookmark = () => {\r\n    httpGet(\r\n      constants.API_URL_BOOKMARK,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${props.authorization.token}`,\r\n        },\r\n      },\r\n      props.authorization.password\r\n    ).then(response => {\r\n      let staticContent =\r\n        '<META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html;' +\r\n        ' charset=UTF-8\"><TITLE>Bookmarks</TITLE><H1>Bookmarks</H1>';\r\n\r\n      response.data.map(function(bookmark) {\r\n        const htmlContent =\r\n          `${'<DL><p>' + '<DT>' + '<A ' + 'HREF=\"'}${bookmark.href}\">${\r\n            bookmark.title\r\n          }</A>` + `</DL><p>`;\r\n        staticContent += htmlContent;\r\n      });\r\n\r\n      console.log(staticContent);\r\n      sendExportEmail(staticContent);\r\n    });\r\n  };\r\n\r\n  const sendExportEmail = staticContent => {\r\n    sendBookmarkExportEmail(\r\n      {\r\n        email: props.email,\r\n        content: staticContent,\r\n      },\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${props.authorization.token}`,\r\n        },\r\n      }\r\n    )\r\n      .then((response: any) => {\r\n        if (response === 200) {\r\n          sendMessage('notification', true, {\r\n            message: 'Check your mail for bookmark attachment',\r\n            type: 'success',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Bad request',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Export Bookmarks</div>\r\n      <div className=\"space-top-2\">\r\n        <OakButton\r\n          theme=\"secondary\"\r\n          variant=\"animate in\"\r\n          action={() => exportBookmark()}\r\n        >\r\n          Export\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookmarkExport;\r\n","import { httpPost } from '../Lib/RestTemplate';\r\nimport constants from '../Constants';\r\n\r\nexport default function sendBookmarkExportEmail(data, token) {\r\n  return httpPost(constants.API_URL_MAIL, data, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(function(response) {\r\n    return Promise.resolve(response.status);\r\n  });\r\n}\r\n","import React from 'react';\r\nimport './style.scss';\r\nimport { Switch } from '@material-ui/core';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  profile: Profile;\r\n  persistProfile: Function;\r\n  authorization: Authorization;\r\n}\r\n\r\nconst Appearance = (props: Props) => {\r\n  const toggleDarkMode = () => {\r\n    if (props.profile.theme === 'theme_dark') {\r\n      props.persistProfile(props.authorization, {\r\n        ...props.profile,\r\n        theme: 'theme_light',\r\n      });\r\n    } else {\r\n      props.persistProfile(props.authorization, {\r\n        ...props.profile,\r\n        theme: 'theme_dark',\r\n      });\r\n    }\r\n  };\r\n\r\n  const changeTextSize = size => {\r\n    props.persistProfile(props.authorization, {\r\n      ...props.profile,\r\n      textSize: size,\r\n    });\r\n  };\r\n\r\n  const changeThemeColor = color => {\r\n    props.persistProfile(props.authorization, {\r\n      ...props.profile,\r\n      themeColor: color,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Appearance</div>\r\n      <div className=\"appearance\">\r\n        <div className=\"typography-5\">Dark mode</div>\r\n        <div>\r\n          <Switch\r\n            checked={props.profile.theme === 'theme_dark'}\r\n            onChange={() => toggleDarkMode()}\r\n            inputProps={{ 'aria-label': 'primary checkbox' }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"typography-5 space-bottom-2\">Text Size</div>\r\n        <div className=\" space-bottom-2\">\r\n          <div\r\n            className={`text-size size-1 space-right-1 ${\r\n              props.profile.textSize === 'textsize_tiny' ? 'active' : ''\r\n            }`}\r\n            onClick={() => changeTextSize('textsize_tiny')}\r\n          >\r\n            Az\r\n          </div>\r\n          <div\r\n            className={`text-size size-2 space-right-1 ${\r\n              props.profile.textSize === 'textsize_small' ? 'active' : ''\r\n            }`}\r\n            onClick={() => changeTextSize('textsize_small')}\r\n          >\r\n            Az\r\n          </div>\r\n          <div\r\n            className={`text-size size-3 space-right-1 ${\r\n              props.profile.textSize === 'textsize_medium' ? 'active' : ''\r\n            }`}\r\n            onClick={() => changeTextSize('textsize_medium')}\r\n          >\r\n            Az\r\n          </div>\r\n          <div\r\n            className={`text-size size-4 ${\r\n              props.profile.textSize === 'textsize_large' ? 'active' : ''\r\n            }`}\r\n            onClick={() => changeTextSize('textsize_large')}\r\n          >\r\n            Az\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"typography-5\">Color Scheme</div>\r\n        <div>\r\n          <div\r\n            className=\"theme-color color-1\"\r\n            onClick={() => changeThemeColor('themecolor1')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor1' && 'check'}\r\n            </i>\r\n          </div>\r\n          <div\r\n            className=\"theme-color color-2\"\r\n            onClick={() => changeThemeColor('themecolor2')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor2' && 'check'}\r\n            </i>\r\n          </div>\r\n          <div\r\n            className=\"theme-color color-3\"\r\n            onClick={() => changeThemeColor('themecolor3')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor3' && 'check'}\r\n            </i>\r\n          </div>\r\n          <div\r\n            className=\"theme-color color-4\"\r\n            onClick={() => changeThemeColor('themecolor4')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor4' && 'check'}\r\n            </i>\r\n          </div>\r\n          <div\r\n            className=\"theme-color color-5\"\r\n            onClick={() => changeThemeColor('themecolor5')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor5' && 'check'}\r\n            </i>\r\n          </div>\r\n          <div\r\n            className=\"theme-color color-6\"\r\n            onClick={() => changeThemeColor('themecolor6')}\r\n          >\r\n            <i className=\"material-icons\">\r\n              {props.profile.themeColor === 'themecolor6' && 'check'}\r\n            </i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Appearance;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './style.scss';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  updateUserDetailsImpl: Function;\r\n  authorization: Authorization;\r\n}\r\n\r\nconst UserDetails = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: '',\r\n  });\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const updateUserDetailsAction = () => {\r\n    if (isEmptyOrSpaces(data.name)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Name not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(data.email)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Email not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(data.email)) {\r\n      sendMessage('notification', true, {\r\n        type: 'failure',\r\n        message: 'Email ID is invalid',\r\n        duration: 3000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    props.updateUserDetailsImpl(data, 'user');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">User Account</div>\r\n      <div>\r\n        <OakText\r\n          label=\"Name\"\r\n          data={data}\r\n          id=\"name\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakText\r\n          label=\"Email\"\r\n          data={data}\r\n          id=\"email\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakButton\r\n          theme=\"secondary\"\r\n          variant=\"animate in\"\r\n          action={() => updateUserDetailsAction()}\r\n        >\r\n          Update details\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserDetails;\r\n","import React, { useState } from 'react';\r\nimport './style.scss';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport { signin, preSignin } from '../Auth/AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\ninterface Props {\r\n  authorization: Authorization;\r\n  email: string;\r\n  updateUserDetailsImpl: Function;\r\n}\r\n\r\nconst ChangePassword = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    oldPassword: '',\r\n    newPassword: '',\r\n    repeatPassword: '',\r\n  });\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const changePassword = () => {\r\n    if (isEmptyOrSpaces(data.oldPassword)) {\r\n      sendMessage('notification', true, {\r\n        message: 'Old password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isEmptyOrSpaces(data.newPassword) ||\r\n      isEmptyOrSpaces(data.repeatPassword)\r\n    ) {\r\n      sendMessage('notification', true, {\r\n        message: 'New password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (data.newPassword !== data.repeatPassword) {\r\n      sendMessage('notification', true, {\r\n        message: 'New password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    checkOldPassword('oldpassword');\r\n  };\r\n\r\n  const checkOldPassword = type => {\r\n    preSignin(props.email).then(response => {\r\n      if (response.status === 200) {\r\n        signin(\r\n          {\r\n            email: props.email,\r\n            password: data.oldPassword,\r\n          },\r\n          response.data\r\n        )\r\n          .then(innerResponse => {\r\n            if (innerResponse.status === 200) {\r\n              props.updateUserDetailsImpl(\r\n                {\r\n                  password: data.newPassword,\r\n                },\r\n                'password'\r\n              );\r\n              // sendMessage('notification', true, {message: 'Passphrase updated successfully', type: 'success', duration: 3000});\r\n            } else if (innerResponse.status === 401) {\r\n              sendMessage('notification', true, {\r\n                message: 'Incorrect passphrase',\r\n                type: 'failure',\r\n                duration: 3000,\r\n              });\r\n            } else {\r\n              sendMessage('notification', true, {\r\n                message:\r\n                  'Unknown response from server. Please try again or at a later time',\r\n                type: 'failure',\r\n                duration: 3000,\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            sendMessage('notification', true, {\r\n              type: 'failure',\r\n              message: 'Unknown error. Please try again or at a later time',\r\n              duration: 3000,\r\n            });\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"typography-3 space-top-4\">Password</div>\r\n      <div>\r\n        <OakText\r\n          type=\"password\"\r\n          label=\"Old Password\"\r\n          data={data}\r\n          id=\"oldPassword\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakText\r\n          type=\"password\"\r\n          label=\"New Password\"\r\n          data={data}\r\n          id=\"newPassword\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakText\r\n          type=\"password\"\r\n          label=\"Repeat New Password\"\r\n          data={data}\r\n          id=\"repeatPassword\"\r\n          handleChange={e => handleChange(e)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <OakButton\r\n          theme=\"secondary\"\r\n          variant=\"animate in\"\r\n          action={() => changePassword()}\r\n        >\r\n          Change Password\r\n        </OakButton>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport {\r\n  getProfile,\r\n  setProfile,\r\n  persistProfile,\r\n} from '../../actions/ProfileActions';\r\nimport './style.scss';\r\nimport OakView from '../../oakui/OakView';\r\nimport OakViewResolver from '../../oakui/OakViewResolver';\r\nimport { updateUserDetails } from '../Auth/AuthService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport BookmarkImport from './BookmarkImport';\r\nimport BookmarkExport from './BookmarkExport';\r\nimport Appearance from './Appearance';\r\nimport UserDetails from './UserDetails';\r\nimport ChangePassword from './ChangePassword';\r\n\r\ninterface Props {\r\n  profile: Profile;\r\n  getProfile: Function;\r\n  setProfile: Function;\r\n  persistProfile: Function;\r\n  authorization: Authorization;\r\n  cookies: any;\r\n}\r\n\r\nconst Settings = (props: Props) => {\r\n  const [email, setEmail] = useState('');\r\n\r\n  useEffect(() => {\r\n    setEmail(props.authorization.email ? props.authorization.email : '');\r\n  }, []);\r\n\r\n  const updateUserDetailsImpl = (user, type) => {\r\n    updateUserDetails(\r\n      {\r\n        name: user?.name,\r\n        email: user?.email,\r\n        password: user?.password,\r\n      },\r\n      props.authorization,\r\n      type\r\n    )\r\n      .then((response: any) => {\r\n        if (response.status === 201) {\r\n          if (type === 'password') {\r\n            sendMessage('notification', true, {\r\n              message: 'Password updated successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          } else {\r\n            props.cookies.set('name', user?.name);\r\n            props.cookies.set('email', user?.email);\r\n            sendMessage('notification', true, {\r\n              message: 'User account updated successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Unknown error. Please try again or at a later time',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Unknown error. Please try again or at a later time',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <OakViewResolver sideLabel=\"More options\">\r\n        <OakView main>\r\n          <BookmarkImport authorization={props.authorization} />\r\n          <BookmarkExport authorization={props.authorization} email={email} />\r\n          <Appearance\r\n            authorization={props.authorization}\r\n            profile={props.profile}\r\n            persistProfile={props.persistProfile}\r\n          />\r\n          <UserDetails\r\n            authorization={props.authorization}\r\n            updateUserDetailsImpl={updateUserDetailsImpl}\r\n          />\r\n          <ChangePassword\r\n            authorization={props.authorization}\r\n            updateUserDetailsImpl={updateUserDetailsImpl}\r\n            email={email}\r\n          />\r\n        </OakView>\r\n      </OakViewResolver>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getProfile,\r\n  setProfile,\r\n  persistProfile,\r\n})(withCookies(Settings));\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './Login.scss';\r\nimport { resetPassword } from './AuthService';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport OakText from '../../oakui/OakText';\r\nimport OakButton from '../../oakui/OakButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n  history: any;\r\n  location: any;\r\n}\r\n\r\nconst ResetPassword = (props: Props) => {\r\n  const [data, setData] = useState({\r\n    password: '',\r\n    repeatPassword: '',\r\n    resetCode: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (props.location.search) {\r\n      const query = queryString.parse(props.location.search);\r\n      if (query.code) {\r\n        setData({ ...data, resetCode: query.code });\r\n      } else {\r\n        props.history.push('/home');\r\n      }\r\n    }\r\n  });\r\n\r\n  const handleChange = event => {\r\n    setData({ ...data, [event.currentTarget.name]: event.currentTarget.value });\r\n  };\r\n\r\n  const changePassword = () => {\r\n    if (isEmptyOrSpaces(data.password)) {\r\n      sendMessage('notification', true, {\r\n        message: 'password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isEmptyOrSpaces(data.repeatPassword) ||\r\n      isEmptyOrSpaces(data.repeatPassword)\r\n    ) {\r\n      sendMessage('notification', true, {\r\n        message: 'Repeat password not provided',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (data.password !== data.repeatPassword) {\r\n      sendMessage('notification', true, {\r\n        message: 'Password is not matching',\r\n        type: 'failure',\r\n        duration: 5000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    resetPasswordAction('password');\r\n  };\r\n\r\n  const resetPasswordAction = type => {\r\n    resetPassword(\r\n      {\r\n        password: data.password,\r\n        resetCode: data.resetCode,\r\n      },\r\n      type\r\n    )\r\n      .then((response: any) => {\r\n        if (response === 200) {\r\n          if (type === 'password') {\r\n            sendMessage('notification', true, {\r\n              message: 'Password Changed successfully',\r\n              type: 'success',\r\n              duration: 3000,\r\n            });\r\n          }\r\n        } else {\r\n          sendMessage('notification', true, {\r\n            type: 'failure',\r\n            message: 'Invalid request',\r\n            duration: 3000,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        sendMessage('notification', true, {\r\n          type: 'failure',\r\n          message: 'Bad request',\r\n          duration: 3000,\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"container\">\r\n        <form method=\"GET\" onSubmit={changePassword} noValidate>\r\n          <h1>Reset password</h1>\r\n          <div className=\"form\">\r\n            <OakText\r\n              label=\"Password\"\r\n              id=\"password\"\r\n              type=\"password\"\r\n              data={data}\r\n              handleChange={e => handleChange(e)}\r\n            />\r\n            <OakText\r\n              label=\"Repeat Password\"\r\n              id=\"repeatPassword\"\r\n              type=\"password\"\r\n              data={data}\r\n              handleChange={e => handleChange(e)}\r\n            />\r\n          </div>\r\n          <br />\r\n          <OakButton\r\n            theme=\"primary\"\r\n            variant=\"animate in\"\r\n            action={changePassword}\r\n          >\r\n            Submit\r\n          </OakButton>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(\r\n  ResetPassword\r\n);\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './style.scss';\r\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { connect } from 'react-redux';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Home from '../Home';\r\nimport BookmarkController from '../Bookmarks/BookmarkController';\r\nimport NoteController from '../Notes/NoteController';\r\nimport Login from '../Auth/Login';\r\nimport PrivateRoute from '../Auth/PrivateRoute';\r\nimport AuthInit from '../Auth/AuthInit';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { getProfile } from '../../actions/ProfileActions';\r\n\r\nimport Backdrop from './Backdrop';\r\nimport Notification from '../Notification';\r\nimport Navigation from '../Navigation';\r\nimport Settings from '../Settings';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport ResetPassword from '../Auth/ResetPassword';\r\n\r\nconst themes = {\r\n  themecolor1: getTheme('#C4005B'),\r\n  themecolor2: getTheme('#803BC2'),\r\n  themecolor3: getTheme('#E74443'),\r\n  themecolor4: getTheme('#29BE3B'),\r\n  themecolor5: getTheme('#ffe20f'),\r\n  themecolor6: getTheme('#4d4dff'),\r\n};\r\n\r\nfunction getTheme(color) {\r\n  return createMuiTheme({\r\n    palette: {\r\n      primary: {\r\n        main: color,\r\n      },\r\n      secondary: {\r\n        main: color,\r\n      },\r\n    },\r\n  });\r\n}\r\n\r\ninterface Props {\r\n  getProfile: Function;\r\n  setProfile: Function;\r\n  getAuth: Function;\r\n  addAuth: Function;\r\n  removeAuth: Function;\r\n  history: any;\r\n\r\n  // event: PropTypes.object,\r\n  profile: any;\r\n  authorization: Authorization;\r\n}\r\n\r\nconst Content = (props: Props) => {\r\n  useEffect(() => {\r\n    props.getProfile();\r\n    props.getAuth();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const eventBus = receiveMessage().subscribe(message => {\r\n      if (message.name === 'session expired') {\r\n        logout(null, 'failure', 'Session expired. Login again');\r\n      }\r\n    });\r\n    return () => eventBus.unsubscribe();\r\n  });\r\n\r\n  const logout = (\r\n    event,\r\n    type = 'success',\r\n    message = 'You have been logged out'\r\n  ) => {\r\n    props.removeAuth();\r\n    sendMessage('notification', true, {\r\n      type,\r\n      message,\r\n      duration: 3000,\r\n    });\r\n    sendMessage('loggedout', true);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`App ${props.profile.theme} ${props.profile.textSize} ${props.profile.themeColor}`}\r\n    >\r\n      <HashRouter>\r\n        <AuthInit />\r\n        <Backdrop />\r\n        <div className=\"body\">\r\n          <div className=\"body-content\">\r\n            <Notification />\r\n            <MuiThemeProvider theme={themes[props.profile.themeColor]}>\r\n              <Navigation {...props} logout={() => logout} />\r\n              <Route\r\n                exact\r\n                path=\"/\"\r\n                render={propsLocal => (\r\n                  <Home {...props} {...propsLocal} logout={() => logout} />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/home\"\r\n                render={propsLocal => (\r\n                  <Home {...props} {...propsLocal} logout={() => logout} />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/login\"\r\n                render={propsLocal => (\r\n                  <Login {...props} {...propsLocal} logout={() => logout} />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/reset\"\r\n                render={propsLocal => (\r\n                  <ResetPassword\r\n                    {...props}\r\n                    {...propsLocal}\r\n                    logout={() => logout}\r\n                  />\r\n                )}\r\n              />\r\n              <PrivateRoute\r\n                path=\"/bookmarks\"\r\n                render={propsLocal => (\r\n                  <BookmarkController\r\n                    {...props}\r\n                    {...propsLocal}\r\n                    logout={logout}\r\n                  />\r\n                )}\r\n              />\r\n              <PrivateRoute\r\n                path=\"/notes\"\r\n                render={propsLocal => (\r\n                  <NoteController\r\n                    {...props}\r\n                    {...propsLocal}\r\n                    logout={() => logout}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/settings\"\r\n                render={propsLocal => (\r\n                  <Settings {...props} {...propsLocal} logout={() => logout} />\r\n                )}\r\n              />\r\n            </MuiThemeProvider>\r\n          </div>\r\n        </div>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n  profile: state.profile,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAuth,\r\n  addAuth,\r\n  removeAuth,\r\n  getProfile,\r\n})(Content);\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../../store';\r\nimport './style.scss';\r\nimport './button-notched.scss';\r\nimport './metric.scss';\r\nimport Content from './Content';\r\n\r\nconst App = props => {\r\n  return (\r\n    <Provider store={store}>\r\n      <Content {...props} />\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      // eslint-disable-next-line no-param-reassign\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    // @ts-ignore\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/protekt_white.0157e466.svg\";","module.exports = __webpack_public_path__ + \"static/media/protekt_black.f386b1d6.svg\";"],"sourceRoot":""}