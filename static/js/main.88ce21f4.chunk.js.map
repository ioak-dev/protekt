{"version":3,"sources":["reducers/AuthReducer.ts","reducers/ProfileReducer.ts","reducers/index.ts","actions/types.ts","store.ts","events/MessageService.ts","components/Home/index.tsx","components/Bookmarks/Link.tsx","components/Constants.ts","components/Ux/ArcTextField.tsx","components/Ux/ArcDialog.tsx","components/Ux/ViewResolver.tsx","components/Ux/View.tsx","components/Utils.ts","components/Ux/Sidebar.tsx","components/Lib/RestTemplate.ts","components/Bookmarks/index.tsx","components/Ux/Showdown.tsx","components/Ux/ArcSelect.tsx","components/Notes/Note.tsx","components/Ux/ActionButton.tsx","components/Notes/NoteRef.tsx","components/Notes/index.tsx","actions/AuthActions.ts","components/Auth/AuthService.ts","components/Auth/Login.tsx","components/Auth/PrivateRoute.tsx","components/Auth/AuthInit.tsx","actions/ProfileActions.ts","components/App/Backdrop.tsx","components/Notification/index.tsx","components/Navigation/Links.tsx","components/Navigation/Desktop.tsx","components/Navigation/Mobile.tsx","components/Navigation/index.tsx","components/Settings/index.tsx","components/Bookmarks/BookmarkService.ts","components/Settings/SettingsService.ts","components/Auth/ResetPassword.tsx","components/App/Content.tsx","components/App/index.tsx","serviceWorker.ts","index.tsx","images/protekt_white.svg","images/protekt_black.svg"],"names":["initialState","isAuth","token","secret","name","password","theme","textSize","themeColor","combineReducers","authorization","state","arguments","length","undefined","action","type","console","log","Object","objectSpread","payload","profile","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","window","subject","Subject","sendMessage","signal","data","next","receiveMessage","asObservable","Home","react_default","a","createElement","Fragment","className","react_router_dom","to","activeClassName","React","Component","Link","edit","_this","props","editBookmark","bookmark","delete","deleteBookmark","id","_this2","this","tags","split","map","item","push","key","onClick","searchByTag","title","target","rel","href","createdAt","constants","API_URL_PRESIGNUP","API_URL_SIGNUP","API_URL_PRESIGNIN","API_URL_SIGNIN","API_URL_RESET","API_URL_CODE","API_URL_BOOKMARK","API_URL_BOOKMARK_IMPORT","API_URL_MAIL","API_URL_PREFERENCES","API_URL_USER_DETAILS","API_URL_NOTE","ArcTextField","label","handleChange","error","rows","multiline","rest","objectWithoutProperties","TextField","assign","value","onChange","e","margin","variant","fullWidth","ArcDialog","nextProps","visible","scrollTo","toggleVisibility","children","ViewResolver","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","_isMounted","viewPort","matchMedia","viewPortChange","port","setState","mobileViewPort","matches","toggleSideView","showSide","views","initializeViews","addListener","subscribe","message","_this3","Children","toArray","forEach","node","main","side","_this4","sideLabel","View","isEmptyOrSpaces","str","match","text","words","found","word","RegExp","Sidebar","toggle","show","hide","elements","icon","number","animate","baseUrl","process","autoGeneratedFields","unprotectedEndpoints","httpGet","endpoint","headers","skipFields","axios","get","then","response","find","includes","decryptContent","Promise","resolve","httpPost","encryptContent","post","httpPut","put","httpDelete","content","Array","isArray","encryptedContent","encryptObject","encrypt","decryptObject","decrypt","salt","config","cipher","iter","ks","CryptoJS","enc","Base64","stringify","Utf8","parse","sjcl","ciphertext","queryString","require","Bookmarks","toggleEditDialog","isEditDialogOpen","editDialogLabel","_id","bookmarkId","that","assertThisInitialized","Authorization","status","duration","initializeBookmarks","catch","logout","clearSearch","view","items","isFiltered","searchtext","tagName","searchPref","search","event","preventDefault","filter","toggleSearchPref","pref","defineProperty","addBookmark","currentTarget","firstLoad","sidebarElements","addNew","location","query","q","startsWith","listview","Bookmarks_Link","components_Ux_ArcDialog","Ux_ArcTextField","components_Ux_ViewResolver","Ux_View","components_Ux_Sidebar","method","onSubmit","noValidate","Switch","checked","inputProps","aria-label","Showdown","html","showdown","Converter","tables","makeHtml","source","dangerouslySetInnerHTML","__html","useStyles","makeStyles","root","display","flexWrap","formControl","minWidth","selectEmpty","marginTop","spacing","ArcSelect","classes","objects","first","firstAction","dropdownList","MenuItem","FormControl","InputLabel","htmlFor","Select","autoWidth","maxWidth","Note","deleteNote","showEdit","editNote","note","notebook","flag","hideEdit","save","newNotebook","saveNote","togglepreview","preview","flags","Ux_Showdown","Ux_ArcSelect","notebooks","ActionButton","leftLabel","rightLabel","leftAction","rightAction","removeMd","NoteRef","selectNote","Ux_ActionButton","selected","showTag","substring","Notes","sortTypes","created","last modified","note name","sortOrders","newNote","toggleAddDialog","isAddDialogOpen","resetForm","existingNotebook","closeAllDialog","toggleFilter","showFilter","searchResults","selectedNoteId","notebookFilter","notebookList","toConsumableArray","Set","applyFilter","array","property","isReverseOrder","noteList","sortBy","sortOrder","sort","o1","o2","filteredNotebookList","noteId","initializeNotes","saveNoteEvent","attributes","handleNotebookFilterChange","existingNotebookList","noteview","Notes_Note","listNoteRef","Notes_NoteRef","keys","getAuth","dispatch","addAuth","removeAuth","preSignin","email","signin","problem","solution","JSON","Login","success","signup","test","sentEmailWithCode","sentPasswordChangeEmail","rand","Math","random","resetCode","history","newuser","connect","PrivateRoute","react_router","path","render","AuthInit","getProfile","setProfile","Backdrop","backdrop","Notification","spinner","notification","setTimeout","Links","toggleMenu","menu","Desktop","login","showSettings","transparent","src","protekt_black","alt","protekt_white","Navigation_Links","toggleSettings","Mobile","Navigation","toggleDarkMode","changeTextSize","size","changeThemeColor","color","mobilemenu","chooseTheme","transparentNavBar","reloadProfile","Navigation_Desktop","Navigation_Mobile","withRouter","Settings","persistProfile","changePassword","oldPassword","newPassword","repeatPassword","checkOldPassword","updateUserDetailsImpl","updateUserDetails","newData","fileChoosen","reader","FileReader","onload","result","readAsText","files","exportBookmark","staticContent","i","htmlContent","sendExportEmail","ResetPassword","resetPassword","code","themes","themecolor_1","getTheme","themecolor_2","themecolor_3","themecolor_4","themecolor_5","themecolor_6","createMuiTheme","palette","primary","secondary","Content","react_router_dom_min","Auth_AuthInit","App_Backdrop","components_Notification","MuiThemeProvider","components_Navigation","exact","Home_Home","components_Auth_Login","Auth_ResetPassword","Auth_PrivateRoute","components_Bookmarks","components_Notes","components_Settings","App","es","App_Content","Boolean","hostname","ReactDOM","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.88ce21f4.chunk.js","sourcesContent":["import { GET_AUTH, ADD_AUTH, REMOVE_AUTH } from '../actions/types';\r\n\r\nconst initialState = {\r\n    isAuth: false,\r\n    token: '',\r\n    secret: '',\r\n    name: '',\r\n    password: ''\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_AUTH:\r\n            console.log('GET_AUTH reducer');\r\n            return {\r\n                ...state\r\n            };\r\n        case ADD_AUTH:\r\n            console.log('ADD_AUTH reducer');\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case REMOVE_AUTH:\r\n            console.log('REMOVE_AUTH reducer');\r\n            return {\r\n                ...state,\r\n                isAuth: false,\r\n                token: '',\r\n                secret: '',\r\n                name: '',\r\n                password: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { GET_PROFILE, SET_PROFILE } from '../actions/types';\r\n\r\nconst initialState = {\r\n    theme: 'theme_dark',\r\n    textSize: 'textsize_medium',\r\n    themeColor: 'themecolor_6'\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n    switch(action.type) {\r\n        case GET_PROFILE:\r\n            console.log('GET_PROFILE reducer');\r\n            return {\r\n                ...state\r\n            };\r\n        case SET_PROFILE:\r\n            console.log('SET_PROFILE reducer');\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport AuthReducer from './AuthReducer';\r\nimport ProfileReducer from './ProfileReducer';\r\n\r\nexport default combineReducers({\r\n    authorization: AuthReducer,\r\n    profile: ProfileReducer\r\n})","export const GET_AUTH = 'GET_AUTH';\r\nexport const ADD_AUTH = 'ADD_AUTH';\r\nexport const REMOVE_AUTH = 'REMOVE_AUTH';\r\n\r\nexport const GET_PROFILE = 'GET_PROFILE';\r\nexport const SET_PROFILE = 'SET_PROFILE';","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers'\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    initialState,\r\n    compose(\r\n        applyMiddleware(...middleware),\r\n        window[\"__REDUX_DEVTOOLS_EXTENSION__\"] && window[\"__REDUX_DEVTOOLS_EXTENSION__\"]()\r\n    )\r\n);\r\n\r\nexport default store;\r\n","import { Subject, Observable } from 'rxjs';\r\nimport { Message } from '../components/Types/GeneralTypes';\r\n\r\nconst subject = new Subject<Message>();\r\n\r\nexport function sendMessage(name: string, signal = true, data?: {}) {\r\n    subject.next({\r\n        name: name,\r\n        signal: signal,\r\n        data: data\r\n    });\r\n}\r\n\r\nexport function clearMessages() {\r\n    subject.next();\r\n}\r\n\r\nexport function receiveMessage(): Observable<Message> {\r\n    return subject.asObservable();\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './style.scss';\r\n\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  setProfile: Function,\r\n  profile: Profile,\r\n  match: any,\r\n  logout: Function\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nexport default class Home extends React.Component<Props, State> {\r\n  componentWillMount() {\r\n    sendMessage('navbar-transparency');\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    sendMessage('navbar-transparency', false);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"home\">\r\n          <div className=\"section parallax bg1\" />\r\n          <div className=\"section static bg1 odd\">\r\n            <h3>A bookmarking app like never before</h3>\r\n            <p>Take your link to the web wherever you go, with the most secure bookmark and note taking app</p>\r\n            <br />\r\n            <p><NavLink to=\"/login\" className=\"navitem\" activeClassName=\"active\">Sign up</NavLink>&nbsp;for free</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg bg2\" />\r\n          <div className=\"section static bg2 even\">\r\n            <h3>Secure by design</h3>\r\n            <p>Designed with security as a primary factor from ground up</p>\r\n            <p>Your passwords never leaves your workstation</p>\r\n            <p>Our servers have zero knowledge about your password</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg3\" />\r\n          <div className=\"section static bg3 odd\">\r\n            <h3>Premium features</h3>\r\n            <p>Get premium features free for lifetime. We standby free software for all</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg4\" />\r\n          <div className=\"section static bg4 even\">\r\n            <h3>Don't mix up personal and business</h3>\r\n            <p>With the help of workspaces, you can now work in isolated containers</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg5\" />\r\n          <div className=\"section static bg5 odd\">\r\n            <h3>We love open source</h3>\r\n            <p>Our codebase is 100% available for the community to do peer review and audit for any security flaws</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg6\" />\r\n          <div className=\"section static bg6 even\">\r\n            <h3>Clean clutter free interface</h3>\r\n            <p>Modern interface with a clutter free design to keep you in focus on your activity</p>\r\n          </div>\r\n\r\n          <div className=\"section parallax bg7\" />\r\n          <div className=\"section static bg7 odd\">\r\n            <h3>Travel to the future</h3>\r\n            <p>We are evolving for the future. More features on the way. You can watch our roadmap here</p>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport './style.scss';\r\n\r\ninterface Props {\r\n    editBookmark: Function,\r\n    deleteBookmark: Function,\r\n    searchByTag: Function,\r\n    bookmark: any,\r\n    id: string\r\n}\r\ninterface State {\r\n}\r\n\r\nclass Link extends Component<Props, State> {\r\n\r\n    edit = () => {\r\n        this.props.editBookmark(this.props.bookmark);\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteBookmark(this.props.id);\r\n    }\r\n\r\n    render() {\r\n        const tags: any = [];\r\n        if (this.props.bookmark.tags) {\r\n            this.props.bookmark.tags.split(\" \").map(item => {\r\n                tags.push(<div className=\"tag\" key={item} onClick={() => this.props.searchByTag(item)}>{item}</div>);\r\n            })\r\n        }\r\n        \r\n        return (\r\n            <div>\r\n                <div className=\"title typography-4\">{this.props.bookmark.title}\r\n                    <div className=\"action-icon\">\r\n                        <i onClick={this.edit} className=\"material-icons\">edit</i>\r\n                        <i onClick={this.delete} className=\"material-icons\">delete</i>\r\n                    </div>\r\n                </div>\r\n                <div className=\"url typography-6\"><a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.bookmark.href}>{this.props.bookmark.href}</a></div>\r\n                <div className=\"timestamp typography-6 space-bottom-1\">{this.props.bookmark.createdAt}</div>\r\n                {tags}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Link;\r\n","export const constants = {\r\n    API_URL_PRESIGNUP: \"/auth/keys\",\r\n    API_URL_SIGNUP: \"/auth/signup\",\r\n    API_URL_PRESIGNIN: \"/auth/keys/\",\r\n    API_URL_SIGNIN: \"/auth/signin\",\r\n    API_URL_RESET: \"/auth/reset\",\r\n    API_URL_CODE: \"/auth/sendResetCode\",\r\n\r\n    API_URL_BOOKMARK: \"/bookmark\",\r\n    API_URL_BOOKMARK_IMPORT: \"/bookmark/import\",\r\n    API_URL_MAIL: \"/bookmark/sendExportMail\",\r\n    API_URL_PREFERENCES: \"/user/preferences\",\r\n    API_URL_USER_DETAILS: \"/user/details\",\r\n\r\n    API_URL_NOTE: \"/note\"\r\n}\r\n","import React from 'react';\r\nimport { TextField } from '@material-ui/core';\r\n\r\ninterface Props {\r\n    id: string,\r\n    label: string,\r\n    handleChange: any,\r\n    error?: boolean,\r\n    data: any,\r\n    rows?: number,\r\n    multiline?: boolean,\r\n    type?: string\r\n};\r\nfunction ArcTextField(props: Props) {\r\n    const { id, label, handleChange, error, rows, multiline, data, type,  ...rest } = props;\r\n    return (\r\n        <TextField\r\n                id={id}\r\n                label={label}\r\n                name={id}\r\n                value={data[id]}\r\n                onChange={e => handleChange(e)}\r\n                margin=\"normal\"\r\n                variant=\"standard\"\r\n                fullWidth\r\n                error={error}\r\n                multiline={multiline}\r\n                rows={rows}\r\n                type={type}\r\n                {...rest}\r\n                />\r\n    )\r\n}\r\n\r\nexport default ArcTextField;\r\n","import React, { Component } from 'react';\r\nimport './ArcDialog.scss';\r\nimport { sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    visible: boolean,\r\n    title: string,\r\n    toggleVisibility: any\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nclass ArcDialog extends Component<Props, State> {\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.props.visible !== nextProps.visible) {\r\n            if (nextProps.visible) {\r\n                sendMessage('dialog');\r\n                window.scrollTo(500, 0);\r\n            } else {\r\n                sendMessage('dialog', false);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n            <div className=\"dialog-outer\">\r\n                <div className={(this.props.visible ? \"dialog show\" : \"dialog hide\")}>\r\n                    {this.props.title && <div className=\"header\">{this.props.title}<i className=\"material-icons\" onClick={this.props.toggleVisibility}>close</i></div>}\r\n                    <div className=\"container\">\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ArcDialog;","import React, { Component } from 'react';\r\nimport './ViewResolver.scss';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    sideLabel?: string\r\n}\r\n\r\ninterface State {\r\n    views: any,\r\n    main?: any,\r\n    side?: any,\r\n    showSide: boolean,\r\n    mobileViewPort: any\r\n}\r\n\r\nclass ViewResolver extends Component<Props, State> {\r\n\r\n    _isMounted = false;\r\n    \r\n    viewPort = window.matchMedia(\"(max-width: 767px)\");\r\n\r\n    viewPortChange = (port) => {\r\n        this.setState({\r\n            mobileViewPort: port.matches\r\n        });\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            views: this.props.children,\r\n            showSide: false,\r\n            mobileViewPort: false\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.initializeViews();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        this.viewPortChange(this.viewPort);\r\n        this.viewPort.addListener(this.viewPortChange);\r\n\r\n        receiveMessage().subscribe(message => {\r\n            if (this._isMounted) {\r\n                if (message.name === 'sidebar') {\r\n                    this.setState({\r\n                        showSide: message.signal\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    initializeViews() {\r\n        React.Children.toArray(this.state.views).forEach((node) => {\r\n            // node.type.name is minified after build and so static build result has different alphabet\r\n            // if (node.type.name === 'View') {\r\n                if (node.props.main) {\r\n                    this.setState({\r\n                        main: node\r\n                    })\r\n                } else if (node.props.side) {\r\n                    this.setState({\r\n                        side: node\r\n                    })\r\n                }\r\n            // }\r\n        })\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.children) {\r\n            this.setState({\r\n                views: nextProps.children\r\n            }, () => {\r\n                this.initializeViews();\r\n            })\r\n        }\r\n    }\r\n\r\n    toggleSideView = () => {\r\n        sendMessage('sidebar', !this.state.showSide);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            {!this.state.mobileViewPort && <div className=\"view-desktop\">\r\n                {this.state.side && <div className=\"view-side\">\r\n                    {this.state.side}\r\n                </div>}\r\n                <div className={'view-content' + (this.state.side ? ' side-present' : '')}>\r\n                    {this.state.main}\r\n                </div>\r\n            </div>}\r\n\r\n            {this.state.mobileViewPort && <div className=\"view-mobile\">\r\n                <div className={(this.state.showSide ? \"slider show\" : \"slider hide\")}>\r\n                    <div className=\"topbar\" onClick={this.toggleSideView}>\r\n                        <div>\r\n                            <button className=\"default hidden\" onClick={this.toggleSideView}>\r\n                                {!this.state.showSide && <><i className=\"material-icons\">expand_more</i>{this.props.sideLabel ? this.props.sideLabel : 'Menu'}</>}\r\n                                {this.state.showSide && <><i className=\"material-icons\">expand_less</i>Collapse</>}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"view-side\">\r\n                        {this.state.showSide && this.state.side}\r\n                    </div>\r\n                </div>\r\n                {!this.state.showSide && <div className=\"view-main\">\r\n                    {this.state.main}\r\n                </div>}\r\n            </div>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewResolver;","import React, { Component } from 'react';\r\n\r\ninterface Props {\r\n    main?: any,\r\n    side?: any\r\n}\r\n\r\ninterface State {\r\n}\r\n\r\nclass View extends Component<Props, State> {\r\n    render() {\r\n        return (\r\n            <div>\r\n               {/* {this.props} */}\r\n               {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default View;","export function isEmptyOrSpaces(str){\r\n    return str === null || str.match(/^ *$/) !== null;\r\n}\r\n\r\nexport function match(text, words) {\r\n    let found = false;\r\n    if (words) {\r\n        words.split(' ').forEach(word => {\r\n            if (text.match(new RegExp('(\\\\w*'+ word +'\\\\w*)','gi'))) {\r\n                found = true;\r\n            }\r\n        });\r\n    }\r\n    return found;\r\n}\r\n\r\nexport function sort(array, property, isReverseOrder) {\r\n    const result = array.sort(function(o1,o2){\r\n        if (isReverseOrder) {\r\n            return o1[property] > o2[property] ? -1 : o1[property] < o2[property] ? 1 : 0;\r\n        } else {\r\n            return o1[property] < o2[property] ? -1 : o1[property] > o2[property] ? 1 : 0;\r\n        }\r\n    });\r\n\r\n    return result;\r\n}","import React, { Component } from 'react';\r\nimport './Sidebar.scss';\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    show?: boolean,\r\n    elements?: Array<string>,\r\n    label: string,\r\n    icon: string,\r\n    number?: number,\r\n    animate?: boolean\r\n}\r\n\r\ninterface State {\r\n    show: boolean,\r\n    elements: Array<string>\r\n}\r\n\r\nclass Sidebar extends Component<Props, State> {\r\n\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: this.props.show ? true : false,\r\n            elements: this.props.elements ? this.props.elements : []\r\n        }\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            show: !this.state.show\r\n        }, () => sendMessage('sidebarExpanded', this.state.show, {label: this.props.label}));\r\n    }\r\n\r\n    hide = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        receiveMessage().subscribe(message => {\r\n            if (this._isMounted) {\r\n                if (message.name === 'sidebarExpanded' && message.signal && message.data && message.data.label !== this.props.label) {\r\n                    this.setState({\r\n                        show: false\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    render() {\r\n        const elements = this.state.elements.map((item: any) => (\r\n            <div key={item.label} className=\"element\" onClick={item.action}><i className=\"material-icons\">{item.icon}</i>{item.label}</div>\r\n        ))\r\n        return (            \r\n            <div className=\"sidebar\">\r\n                <div className={this.state.show ? \"header active\" : \"header\"} onClick={this.toggle}>\r\n                    <div className=\"label\">\r\n                        <i className=\"material-icons\">{this.props.icon}</i>\r\n                        {this.props.label}\r\n                        {this.props.number !== undefined && <div className=\"number\">{this.props.number}</div>}\r\n                    </div>\r\n                    {/* <div className=\"aria\"><i className=\"material-icons\">{this.state.show ? 'expand_less' : 'expand_more'}</i></div> */}\r\n                    <div className=\"aria\"><i className={this.state.show ? \"material-icons collapse\" : \"material-icons\"}>keyboard_arrow_left</i></div>\r\n                </div>\r\n                <div className={this.state.show ? \"content show \" + (this.props.animate ? \"animate\" : \"static\") : \"content hide \" + (this.props.animate ? \"animate\" : \"static\")}>\r\n                    {elements}\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n            \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default Sidebar;","import axios from \"axios\";\r\nimport sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst autoGeneratedFields = ['_id', 'id', 'createdAt', 'lastModifiedAt', 'userId'];\r\n\r\nconst unprotectedEndpoints = [\"/auth/keys\", \"/auth/signup\", \"/auth/keys/\", \"/auth/signin\", \"/auth/reset\", \"/auth/sendResetCode\"];\r\n\r\nexport function httpGet(endpoint: string, headers: any, password: string = \"\", skipFields: Array<string> = []) {\r\n    return axios.get(baseUrl + endpoint, headers)\r\n        .then(response => {\r\n            if (!unprotectedEndpoints.find((item => endpoint.includes(item)))) {\r\n                response.data = decryptContent(response.data, password, skipFields);\r\n            }\r\n            return Promise.resolve(response);\r\n        }\r\n    )\r\n}\r\n\r\nexport function httpPost(endpoint: string, payload: any, headers: any, password: string = \"\", skipFields: Array<string> = []) {\r\n    if (!unprotectedEndpoints.find((item => endpoint.includes(item)))) {\r\n        payload = encryptContent(payload, password, skipFields);\r\n    }\r\n    return axios.post(baseUrl + endpoint, payload, headers)\r\n        .then(response => {\r\n            if (!unprotectedEndpoints.find((item => endpoint.includes(item)))) {\r\n                response.data = decryptContent(response.data, password, skipFields);\r\n            }\r\n            return Promise.resolve(response);\r\n        }\r\n    );\r\n}\r\n\r\nexport function httpPut(endpoint: string, payload: any, headers: any, password: string = \"\", skipFields: Array<string> = []) {\r\n    if (!unprotectedEndpoints.find((item => endpoint.includes(item)))) {\r\n        payload = encryptContent(payload, password, skipFields);\r\n    }\r\n    return axios.put(baseUrl + endpoint, payload, headers)\r\n        .then(response => {\r\n            if (!unprotectedEndpoints.find((item => endpoint.includes(item)))) {\r\n                response.data = decryptContent(response.data, password, skipFields);\r\n            }\r\n            return Promise.resolve(response);\r\n        }\r\n        );\r\n    //     .then(function(response) {\r\n    //         return Promise.resolve(response);\r\n    //     }\r\n    // )\r\n}\r\n\r\nexport function httpDelete(endpoint: string, headers: any) {\r\n    return axios.delete(baseUrl + endpoint, headers)\r\n    //     .then(function(response) {\r\n    //         return Promise.resolve(response);\r\n    //     }\r\n    // )\r\n}\r\n\r\nfunction encryptContent(content, password: string = \"\", skipFields: Array<string> = []) {\r\n    if (Array.isArray(content)) {\r\n        let encryptedContent: any = [];\r\n        content.forEach(item => encryptedContent.push(encryptObject(item, password, skipFields)));\r\n        return encryptedContent;\r\n    } else {\r\n        return encryptObject(content, password, skipFields);\r\n    }\r\n\r\n}\r\n\r\nfunction encryptObject(content, password: string = \"\", skipFields: Array<string> = []) {\r\n    let encryptedContent = {};\r\n    for(let key in content) {\r\n        if (content[key] && !skipFields.includes(key) && !autoGeneratedFields.includes(key)) {\r\n            encryptedContent[key] = encrypt(password, content[key], 'aasd');\r\n        } else {\r\n            encryptedContent[key] = content[key];\r\n        }\r\n    }\r\n    return encryptedContent;\r\n}\r\n\r\n\r\nfunction decryptContent(encryptedContent, password: string = \"\", skipFields: Array<string> = []) {\r\n    if (Array.isArray(encryptedContent)) {\r\n        let content: any = [];\r\n        encryptedContent.forEach(item => content.push(decryptObject(item, password, skipFields)));\r\n        return content;\r\n    } else {\r\n        return decryptObject(encryptedContent, password, skipFields);\r\n    }\r\n\r\n}\r\n\r\nfunction decryptObject(encryptedContent, password: string = \"\", skipFields: Array<string> = []) {\r\n    let content = {};\r\n    \r\n    for(let key in encryptedContent) {\r\n        if (encryptedContent[key] && !skipFields.includes(key) && !autoGeneratedFields.includes(key)) {\r\n            content[key] = decrypt(password, encryptedContent[key]);\r\n        } else {\r\n            content[key] = encryptedContent[key];\r\n        }\r\n    }\r\n    return content;\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n    const config = {\r\n        cipher: 'aes',\r\n        iter: '12000',\r\n        ks: 256,\r\n        salt: CryptoJS.enc.Base64.stringify((CryptoJS.enc.Utf8.parse(salt)))\r\n    }\r\n    return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n    return sjcl.decrypt(password, ciphertext);\r\n}","import React, { Component } from 'react';\r\nimport Link from './Link';\r\nimport { constants } from '../Constants';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport ArcDialog from '../Ux/ArcDialog';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport View from '../Ux/View';\r\nimport './style.scss';\r\nimport { Switch } from '@material-ui/core';\r\nimport { isEmptyOrSpaces, match } from '../Utils';\r\nimport Sidebar from '../Ux/Sidebar';\r\nimport { httpGet, httpPut, httpDelete } from '../Lib/RestTemplate';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    authorization: Authorization\r\n    location: any,\r\n    logout: Function\r\n}\r\n\r\ninterface State {\r\n    items: any,\r\n    view: any,\r\n\r\n    searchtext: string,\r\n    isFiltered: boolean,\r\n\r\n    id?: string,\r\n    title: string,\r\n    href: string,\r\n    tags: string,\r\n    editDialogLabel: string,\r\n    isEditDialogOpen: boolean,\r\n    firstLoad: boolean,\r\n\r\n    searchPref: {\r\n        title: boolean,\r\n        tags: boolean,\r\n        href: boolean,\r\n        content: boolean\r\n    },\r\n\r\n    sidebarElements: any\r\n}\r\nclass Bookmarks extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            view: [],\r\n            isEditDialogOpen: false,\r\n\r\n            searchtext: '',\r\n            isFiltered: false,\r\n\r\n            id: undefined,\r\n            title: '',\r\n            href: '',\r\n            tags: '',\r\n            editDialogLabel: 'Add',\r\n            firstLoad: true,\r\n\r\n            searchPref: {\r\n                title: true,\r\n                tags: true,\r\n                href: true,\r\n                content: true\r\n            },\r\n\r\n            sidebarElements: {\r\n                addNew: [\r\n                    {\r\n                        label: 'New Bookmark',\r\n                        action: this.toggleEditDialog,\r\n                        icon: 'note_add'\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.q) {\r\n                if (query.q.startsWith('tags')) {\r\n                    this.setState({\r\n                        searchPref: {\r\n                            title: false,\r\n                            tags: true,\r\n                            href: true,\r\n                            content: false\r\n                        }\r\n                    })\r\n                }\r\n                this.setState({\r\n                    searchtext: query.q,\r\n                    isFiltered: true\r\n                })\r\n            }\r\n        }\r\n\r\n        if(this.state.firstLoad && this.props.authorization.isAuth) {\r\n            this.initializeBookmarks(this.props.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.firstLoad && nextProps.authorization) {\r\n            this.initializeBookmarks(nextProps.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n\r\n    initializeBookmarks(authorization) {\r\n        const that = this;\r\n        httpGet(constants.API_URL_BOOKMARK,\r\n            {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + authorization.token\r\n                }\r\n            }, authorization.password)\r\n            .then(function(response) {\r\n                that.setState({items: response.data, view: response.data});\r\n                if (that.state.isFiltered) {\r\n                    that.search();\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    toggleEditDialog = () => {\r\n        this.setState({\r\n            isEditDialogOpen: !this.state.isEditDialogOpen,\r\n            id: undefined,\r\n            title: '',\r\n            href: '',\r\n            tags: '',\r\n            editDialogLabel: 'Add'\r\n        })\r\n    }\r\n\r\n    editBookmark = (bookmark) => {\r\n        this.setState({\r\n            isEditDialogOpen: true,\r\n            id: bookmark._id,\r\n            title: bookmark.title,\r\n            href: bookmark.href,\r\n            tags: bookmark.tags,\r\n            editDialogLabel: 'Save'\r\n        })\r\n    }\r\n\r\n    deleteBookmark = (bookmarkId) => {\r\n        const that = this;\r\n        httpDelete(constants.API_URL_BOOKMARK + \"/\" + bookmarkId,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage('notification', true, {type: 'success', message: 'Bookmark deleted', duration: 5000});\r\n                that.initializeBookmarks(that.props.authorization);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    clearSearch = () => {\r\n        this.setState({\r\n            view: this.state.items,\r\n            isFiltered: false,\r\n            searchtext: ''\r\n        })\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    searchByTag = (tagName) => {\r\n        \r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                title: false,\r\n                tags: true,\r\n                href: false\r\n            },\r\n            searchtext: tagName,\r\n            isFiltered: true\r\n        }, () => this.initializeBookmarks(this.props.authorization));\r\n    }\r\n\r\n    search = (event?: any) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.searchtext)) {\r\n            this.setState({\r\n                view: this.state.items,\r\n                isFiltered: false\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            view: this.state.items.filter((item) => {\r\n                if (this.state.searchPref.title && match(item.title, this.state.searchtext)) {\r\n                    return true;\r\n                } else if (this.state.searchPref.tags && match(item.tags, this.state.searchtext)) {\r\n                    return true;\r\n                } else if (this.state.searchPref.href && match(item.href, this.state.searchtext)) {\r\n                    return true;\r\n                }\r\n            }),\r\n            isFiltered: true\r\n        });\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    toggleSearchPref = (pref) => {\r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                [pref]: !this.state.searchPref[pref]\r\n            }\r\n        })\r\n    }\r\n\r\n    addBookmark= () => {\r\n        const that = this;\r\n\r\n        let bookmark = {\r\n            id: this.state.id,\r\n            title: this.state.title,\r\n            href: this.state.href,\r\n            tags: this.state.tags\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.title)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Title / description missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.href)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Website URL / Link is missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(bookmark.tags)) {\r\n            bookmark.tags = 'unsorted';\r\n        }\r\n\r\n        httpPut(constants.API_URL_BOOKMARK, bookmark,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        }, this.props.authorization.password)\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage('notification', true, {type: 'success', message: 'Bookmark created', duration: 5000});\r\n                that.toggleEditDialog();\r\n\r\n                that.initializeBookmarks(that.props.authorization);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const listview = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n            <Link id={item._id} bookmark={item} editBookmark={this.editBookmark} deleteBookmark={this.deleteBookmark} searchByTag={this.searchByTag} />\r\n            <br />\r\n            </div>\r\n        ))\r\n        return (\r\n            <div className=\"bookmarks\">\r\n                <ArcDialog title=\"Add Bookmark\" visible={this.state.isEditDialogOpen} toggleVisibility={this.toggleEditDialog}>\r\n                    <ArcTextField label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} />\r\n                    <ArcTextField label=\"URL\" data={this.state} id=\"href\" handleChange={e => this.handleChange(e)} />\r\n                    <ArcTextField label=\"Tags\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} />\r\n                    <div className=\"actions\">\r\n                        <button onClick={this.toggleEditDialog} className=\"default disabled\"><i className=\"material-icons\">close</i>Cancel</button>\r\n                        <button onClick={this.addBookmark} className=\"primary block\"><i className=\"material-icons\">double_arrow</i>{this.state.editDialogLabel}</button>\r\n                    </div>\r\n                </ArcDialog>\r\n\r\n                <ViewResolver>\r\n                    <View main>\r\n                        {listview}\r\n                    </View>\r\n                    <View side>\r\n                        <div className=\"filter-container\">\r\n                            <div className=\"section-main\">\r\n                                <Sidebar label=\"Add New\" elements={this.state.sidebarElements['addNew']} icon=\"add\" animate />\r\n                                <Sidebar label=\"Search\" elements={this.state.sidebarElements['search']} icon=\"search\" animate number={this.state.isFiltered ? this.state.view.length : undefined}>\r\n                                    <form method=\"GET\" onSubmit={this.search} noValidate>\r\n                                    <div className=\"space-top-2 space-left-4 space-right-4\"><ArcTextField label=\"Keywords\" id=\"searchtext\" data={this.state} handleChange={e => this.handleChange(e)} /></div>\r\n                                    </form>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.title}\r\n                                            onChange={() => this.toggleSearchPref('title')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include title\r\n                                    </div>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.tags}\r\n                                            onChange={() => this.toggleSearchPref('tags')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include tags\r\n                                    </div>\r\n                                    <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                        <Switch\r\n                                            checked={this.state.searchPref.href}\r\n                                            onChange={() => this.toggleSearchPref('href')}\r\n                                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                        Include URL\r\n                                    </div>\r\n                                    {this.state.isFiltered && <div className=\"typography-4 space-top-2 space-left-2\">Found {this.state.view.length} bookmarks matching the search criteria</div>}\r\n                                    <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                                        <div>\r\n                                            <button onClick={this.clearSearch} className=\"default\">Clear</button>\r\n                                        </div>\r\n                                        <div>\r\n                                            <button onClick={this.search} className=\"default animate space-right-2\">Search</button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </Sidebar>\r\n                            </div>\r\n                        </div>\r\n                    </View>\r\n                </ViewResolver>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Bookmarks;\r\n","import React from 'react';\r\nimport showdown  from 'showdown';\r\nimport './Showdown.scss';\r\n\r\ninterface Props {\r\n    source: string\r\n}\r\nfunction Showdown(props: Props) {\r\n    const converter = new showdown.Converter({tables: true});\r\n    const html      = converter.makeHtml(props.source);\r\n    return (\r\n        <div className=\"markdown-body\">\r\n            <div dangerouslySetInnerHTML={{__html:html}} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Showdown;\r\n","import React from 'react';\r\nimport './ArcSelect.scss';\r\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n    //   margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\n  \r\ninterface Props {\r\n  id: string,\r\n  label: string,\r\n  handleChange: Function,\r\n  error?: boolean,\r\n  data: any,\r\n  elements?: Array<string>,\r\n  objects?: Array<any>,\r\n  first?: string,\r\n  firstAction?: string,\r\n  maxWidth?: string\r\n}\r\n\r\nfunction ArcSelect(props: Props) {\r\n    const classes = useStyles();\r\n\r\n    const { id, label, elements, objects, handleChange, data, first,firstAction } = props;\r\n    let dropdownList: Array<any> = [];\r\n    \r\n    if (elements) {\r\n      dropdownList = elements.map(item => <MenuItem key={item} value={item}>{item}</MenuItem>);\r\n    } else if (objects) {\r\n      dropdownList = objects.map(item => <MenuItem key={item.key} value={item.key}>{item.value}</MenuItem>);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n        <FormControl className={\"arc-select \" + classes.formControl}>\r\n            <InputLabel htmlFor={id}>{label}</InputLabel>\r\n            <Select\r\n            value={data[id]}\r\n            onChange={e => handleChange(e)}\r\n            inputProps={{\r\n                name: id,\r\n                id: id,\r\n            }}\r\n            autoWidth\r\n            className={props.maxWidth ? props.maxWidth : \"\"}\r\n            >\r\n                {first && <MenuItem value={first}>{first}</MenuItem>}\r\n                {firstAction && <MenuItem value={firstAction}><em>{firstAction}</em></MenuItem>}\r\n                {dropdownList}\r\n            </Select>\r\n        </FormControl>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ArcSelect;","import React, { Component } from 'react';\r\nimport Showdown from '../Ux/Showdown';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport ArcSelect from '../Ux/ArcSelect';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n    note: any,\r\n    id: string,\r\n    deleteNote: Function,\r\n    saveNote: Function,\r\n    notebooks: any\r\n}\r\n\r\ninterface State {\r\n    editNote: boolean,\r\n    preview: boolean,\r\n\r\n    newNotebook: string,\r\n\r\n    id?: string,\r\n    title: string,\r\n    tags: string,\r\n    content: any,\r\n    notebook: string,\r\n    flags: any,\r\n    flag: string\r\n}\r\n\r\nclass Note extends Component<Props, State> {\r\n    \r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editNote: false,\r\n            preview: true,\r\n            newNotebook: '',\r\n            title: '',\r\n            content: '',\r\n            tags: '',\r\n            notebook: '',\r\n            flag: '',\r\n\r\n            flags: [\r\n                {\r\n                    key: 'one',\r\n                    value: <div className=\"select-palette one\" />\r\n                },\r\n                {\r\n                    key: 'two',\r\n                    value: <div className=\"select-palette two\" />\r\n                },\r\n                {\r\n                    key: 'three',\r\n                    value: <div className=\"select-palette three\" />\r\n                },\r\n                {\r\n                    key: 'four',\r\n                    value: <div className=\"select-palette four\" />\r\n                },\r\n                {\r\n                    key: 'five',\r\n                    value: <div className=\"select-palette five\" />\r\n                },\r\n                {\r\n                    key: 'six',\r\n                    value: <div className=\"select-palette six\" />\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        receiveMessage().subscribe(message => {\r\n            if (this._isMounted) {\r\n                if (message.name === 'closeNoteEditView' && message.signal) {\r\n                    this.hideEdit();\r\n                    this.setState({newNotebook: ''});\r\n                }\r\n            }\r\n        });\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    delete = () => {\r\n        this.props.deleteNote(this.props.id);\r\n    }\r\n\r\n    showEdit = () => {\r\n        this.setState({\r\n            editNote: true,\r\n            title: this.props.note.title,\r\n            content: this.props.note.content,\r\n            tags: this.props.note.tags,\r\n            notebook: this.props.note.notebook,\r\n            flag: this.props.note.flag\r\n        })\r\n    }\r\n\r\n    hideEdit = () => {\r\n        this.setState({\r\n            editNote: false\r\n        })\r\n    }\r\n\r\n    save = () => {\r\n        let notebook = this.state.notebook;\r\n\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n\r\n        this.props.saveNote({\r\n            id: this.props.id,\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            flag: this.state.flag,\r\n            notebook: notebook\r\n        }, true)\r\n    }\r\n\r\n    togglepreview = () => {\r\n        this.setState({\r\n            preview: !this.state.preview\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const tags: any = [];\r\n        if (this.props.note.tags) {\r\n            this.props.note.tags.split(\" \").map(item => {\r\n                tags.push(<div key={item} className=\"tag\">{item}</div>);\r\n            })\r\n        }\r\n\r\n        return (\r\n            <>\r\n            {!this.state.editNote && \r\n            <>\r\n                <div className=\"notebook\"><i className=\"material-icons\">insert_drive_file</i>{this.props.note.notebook}</div>\r\n                {/* <div className=\"space-bottom-2\" /> */}\r\n                <div className=\"typography-3 space-bottom-1\">\r\n                    {this.props.note.title}\r\n                </div>\r\n                {tags}\r\n                <div className=\"space-bottom-2\" />\r\n                <button onClick={this.showEdit} className=\"secondary animate left\"><i className=\"material-icons\">edit</i>Edit</button>\r\n                <button onClick={this.delete} className=\"secondary animate right\"><i className=\"material-icons\">delete</i>Delete</button>\r\n                \r\n                \r\n                <Showdown source={this.props.note.content} />\r\n\r\n            </>}\r\n            \r\n            {this.state.editNote && \r\n                <div>\r\n                    <div className=\"typography-3 space-bottom-1\">{this.state.title}</div>\r\n                    \r\n                    <button onClick={this.save} className=\"primary animate left space-bottom-2\"><i className=\"material-icons\">double_arrow</i>Save</button>\r\n                    <button onClick={this.showEdit} className=\"default disabled center\"><i className=\"material-icons\">refresh</i>Undo All</button>\r\n                    <button onClick={this.hideEdit} className=\"default disabled center\"><i className=\"material-icons\">close</i>Cancel</button>\r\n                    {!this.state.preview && <button onClick={this.togglepreview} className=\"default disabled right\"><i className=\"material-icons\">visibility</i>Show Preview</button>}\r\n                    {this.state.preview && <button onClick={this.togglepreview} className=\"default disabled right\"><i className=\"material-icons\">visibility_off</i>Hide Preview</button>}\r\n                    \r\n                    <div><ArcSelect label=\"Flag\" data={this.state} id=\"flag\" handleChange={e => this.handleChange(e)} objects={this.state.flags} /></div>\r\n                    <div><ArcSelect label=\"Notebook\" data={this.state} id=\"notebook\" handleChange={e => this.handleChange(e)} elements={this.props.notebooks} firstAction=\"<create new>\" /></div>\r\n                    <div>\r\n                        {this.state.notebook === '<create new>' && <ArcTextField label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                    </div>\r\n                    <ArcTextField label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} />\r\n                    <ArcTextField label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} />\r\n\r\n                    {this.state.preview && <div className=\"edit-note-view\">\r\n                        <div><ArcTextField label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} /></div>\r\n                        <div>\r\n                            <div className=\"typography-5 space-bottom-1\">Preview</div>\r\n                            <Showdown source={this.state.content} />\r\n                        </div>\r\n                    </div>}\r\n                    {!this.state.preview && <ArcTextField label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} />}\r\n                    <div className=\"space-top-2\" />\r\n            </div>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Note;\r\n","import React from 'react';\r\nimport './ActionButton.scss';\r\n\r\ninterface Props {\r\n    icon?: string,\r\n    leftLabel?: string,\r\n    leftAction?: any,\r\n    rightLabel?: string,\r\n    rightAction?: any,\r\n    type?: string\r\n}\r\nfunction ActionButton(props: Props) {\r\n    const icon = <i className=\"material-icons\">{props.icon}</i>;\r\n    return (\r\n        <div className=\"action-button\">\r\n            {props.leftLabel && props.rightLabel && <button className={\"left \" + props.type} onClick={props.leftAction}>{props.icon && icon}{props.leftLabel}</button>}\r\n            {props.leftLabel && props.rightLabel && <button className={\"right \" + props.type} onClick={props.rightAction}>{props.icon && icon}{props.rightLabel}</button>}\r\n            {props.leftLabel && !props.rightLabel && <button className={\"center \" + props.type} onClick={props.leftAction}>{props.icon && icon}{props.leftLabel}</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActionButton;\r\n","import React, { Component } from 'react';\r\nimport ActionButton from '../Ux/ActionButton';\r\nimport './style.scss';\r\nconst removeMd = require('remove-markdown');\r\n\r\ninterface Props {\r\n    selectNote: Function,\r\n    note: any,\r\n    id: string,\r\n    selected: boolean,\r\n    showTag: boolean\r\n}\r\ninterface State {\r\n\r\n}\r\nclass NoteRef extends Component<Props, State> {\r\n\r\n    selectNote = () => {\r\n        this.props.selectNote(this.props.id);\r\n    }\r\n\r\n    render() {\r\n        const tags: any = [];\r\n        if (this.props.note.tags) {\r\n            this.props.note.tags.split(\" \").map(item => {\r\n                tags.push(<ActionButton leftLabel={item}></ActionButton>);\r\n            })\r\n        }\r\n        return (\r\n            <>\r\n            <div className={this.props.selected ? \"noteref selected\" : \"noteref\"} onClick={this.selectNote}>\r\n                <div className=\"content\">\r\n                    {this.props.note.flag && <div className={\"flag-palette \" + this.props.note.flag} />}\r\n                    {this.props.showTag && <div className=\"notebook\">\r\n                        {/* <i className=\"material-icons\">insert_drive_file</i> */}\r\n                        {this.props.note.notebook}\r\n                    </div>}\r\n                    <div className=\"title\">{this.props.note.title}</div>\r\n                    <div className=\"space-bottom-0\" />\r\n                    <div className=\"detail\">{removeMd(this.props.note.content.substring(0, 100))}</div>\r\n                    {/* <div className=\"detail typography-5\"><Showdown source={this.props.note.content.substring(0, 150)} /></div> */}\r\n                </div>\r\n            </div>\r\n            <div className=\"separator\" />\r\n            {/* <hr /> */}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NoteRef;\r\n","import React, { Component } from 'react';\r\nimport Note from './Note';\r\nimport { Switch } from '@material-ui/core';\r\nimport { constants } from '../Constants';\r\nimport { httpGet, httpPut, httpDelete } from \"../Lib/RestTemplate\";\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport ArcDialog from '../Ux/ArcDialog';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport View from '../Ux/View';\r\nimport './style.scss';\r\nimport NoteRef from './NoteRef';\r\nimport { isEmptyOrSpaces, match, sort } from '../Utils';\r\nimport ArcSelect from '../Ux/ArcSelect';\r\nimport Sidebar from '../Ux/Sidebar';\r\n\r\nimport { sendMessage, receiveMessage } from '../../events/MessageService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    authorization: Authorization\r\n    location: any,\r\n    logout: Function\r\n}\r\n\r\ninterface State {\r\n    items: any,\r\n    view: any,\r\n\r\n    searchtext: string,\r\n    isFiltered: boolean,\r\n\r\n    id?: string,\r\n    title: string,\r\n    tags: string,\r\n    isAddDialogOpen: boolean,\r\n    firstLoad: boolean,\r\n    selectedNoteId?: string,\r\n    content: string,\r\n    newNotebook: string,\r\n    existingNotebook: string,\r\n    existingNotebookList: any,\r\n    filteredNotebookList: any,\r\n    notebookFilter: string,\r\n    showFilter: boolean,\r\n    sortBy: string,\r\n    sortOrder: string,\r\n    flag: string,\r\n\r\n    searchPref: {\r\n        title: boolean,\r\n        tags: boolean,\r\n        content: boolean\r\n    },\r\n    searchResults: any,\r\n\r\n    sidebarElements: any\r\n}\r\n\r\nclass Notes extends Component<Props, State> {\r\n    \r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            searchResults: [],\r\n            view: [],\r\n            isAddDialogOpen: false,\r\n\r\n            selectedNoteId: '',\r\n\r\n            title: '',\r\n            content: '',\r\n            tags: '',\r\n            newNotebook: '',\r\n            existingNotebook: '',\r\n            existingNotebookList: [],\r\n            filteredNotebookList: [],\r\n            notebookFilter: 'all notebooks',\r\n            sortBy: 'last modified',\r\n            sortOrder: 'descending',\r\n            firstLoad: true,\r\n            flag: '',\r\n\r\n            showFilter: false,\r\n            searchtext: '',\r\n            isFiltered: false,\r\n            searchPref: {\r\n                title: true,\r\n                tags: true,\r\n                content: true\r\n            },\r\n\r\n            sidebarElements: {\r\n                addNew: [\r\n                    {\r\n                        label: 'New Note',\r\n                        action: this.newNote,\r\n                        icon: 'note_add'\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    }\r\n\r\n    sortTypes = \r\n        {'created': 'createdAt',\r\n        'last modified': 'lastModifiedAt',\r\n        'notebook': 'notebook',\r\n        'note name': 'title'}\r\n\r\n    sortOrders = [\r\n        'ascending',\r\n        'descending'\r\n    ];\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.q) {\r\n                if (query.q.startsWith('tags')) {\r\n                    this.setState({\r\n                        searchPref: {\r\n                            title: false,\r\n                            tags: true,\r\n                            content: false\r\n                        }\r\n                    })\r\n                }\r\n                this.setState({\r\n                    searchtext: query.q,\r\n                    isFiltered: true\r\n                })\r\n            }\r\n        }\r\n\r\n        if(this.state.firstLoad && this.props.authorization.isAuth) {\r\n            this.initializeNotes(this.props.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n\r\n        receiveMessage().subscribe(message => {\r\n            if (this._isMounted) {\r\n                if (message.name === 'noteListRefreshed') {\r\n                    this.applyFilter();\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.firstLoad && nextProps.authorization) {\r\n            this.initializeNotes(nextProps.authorization);\r\n            this.setState({firstLoad: false})\r\n        }\r\n    }\r\n\r\n    initializeNotes(authorization: Authorization, selectedNoteId?: string) {\r\n        const that = this;\r\n        httpGet(constants.API_URL_NOTE,\r\n            {\r\n                headers: {\r\n                    Authorization: 'Bearer ' + authorization.token\r\n                }\r\n            }, authorization.password)\r\n            .then(function(response) {\r\n                that.setState({items: response.data, searchResults: response.data, view: response.data});\r\n                if (that.state.isFiltered) {\r\n                    that.search();\r\n                } else {\r\n                    sendMessage('noteListRefreshed', true);\r\n                }\r\n                \r\n                const existingNotebookList: any = [];\r\n                response.data.map(item => existingNotebookList.push(item.notebook))\r\n\r\n                that.setState({\r\n                    existingNotebookList: [...new Set(existingNotebookList)]\r\n                });\r\n\r\n                if (selectedNoteId) {\r\n                    that.setState({selectedNoteId: selectedNoteId});\r\n                } else if (!that.state.selectedNoteId && response.data && response.data.length > 0) {\r\n                    that.setState({selectedNoteId: response.data[0]._id});\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    newNote = () => {\r\n        this.toggleAddDialog();\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    toggleAddDialog = () => {\r\n        this.setState({\r\n            isAddDialogOpen: !this.state.isAddDialogOpen,\r\n        });\r\n        this.resetForm();\r\n    }\r\n\r\n    resetForm = () => {\r\n        this.setState({\r\n            id: undefined,\r\n            title: '',\r\n            content: '',\r\n            tags: '',\r\n            existingNotebook: '',\r\n            newNotebook: ''\r\n        })\r\n    }\r\n\r\n    closeAllDialog = () => {\r\n        this.setState({\r\n            isAddDialogOpen: false,\r\n        });\r\n        this.resetForm();\r\n    }\r\n\r\n    toggleFilter = () => {\r\n        this.setState({showFilter: !this.state.showFilter});\r\n    }\r\n\r\n    clearSearch = () => {\r\n        this.setState({\r\n            searchResults: this.state.items,\r\n            isFiltered: false,\r\n            searchtext: ''\r\n        }, () => sendMessage('noteListRefreshed', true))\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    search = (event?: any) => {\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.searchtext)) {\r\n            this.setState({\r\n                searchResults: this.state.items,\r\n                isFiltered: false\r\n            }, () => sendMessage('noteListRefreshed', true));\r\n            return;\r\n        }\r\n\r\n        const searchResults = this.state.items.filter((item) => {\r\n            if (this.state.searchPref.title && match(item.title, this.state.searchtext)) {\r\n                return true;\r\n            } else if (this.state.searchPref.tags && match(item.tags, this.state.searchtext)) {\r\n                return true;\r\n            } else if (this.state.searchPref.content && match(item.content, this.state.searchtext)) {\r\n                return true;\r\n            }\r\n        });\r\n        let selectedNoteId = undefined;\r\n        if (searchResults.length > 0) {\r\n            selectedNoteId = searchResults[0]._id;\r\n        }\r\n\r\n        let notebookFilter = \"all notebooks\";\r\n        let notebookList: any = [];\r\n        searchResults.map(item => {\r\n            notebookList.push(item.notebook);\r\n        });\r\n\r\n        if ([...new Set(notebookList)].length === 1) {\r\n            notebookFilter = notebookList[0];\r\n        }\r\n        this.setState({\r\n            searchResults: searchResults,\r\n            isFiltered: true,\r\n            selectedNoteId: selectedNoteId,\r\n            notebookFilter: notebookFilter\r\n        }, () => sendMessage('noteListRefreshed', true));\r\n        sendMessage('sidebar', false)\r\n    }\r\n\r\n    applyFilter = () => {\r\n        const notebookList: any = [];\r\n        let noteList: any = [];\r\n        this.state.searchResults.map(item => {\r\n            if (isEmptyOrSpaces(this.state.notebookFilter) || this.state.notebookFilter === 'all notebooks' || item.notebook === this.state.notebookFilter) {\r\n                noteList.push(item);\r\n            }\r\n            notebookList.push(item.notebook);\r\n        });\r\n\r\n        noteList = sort(noteList, this.sortTypes[this.state.sortBy], this.state.sortOrder === 'descending' ? true : false);\r\n\r\n        let selectedNoteId = '';\r\n        if (noteList && noteList.length > 0) {\r\n            selectedNoteId = noteList[0]._id;\r\n        }\r\n\r\n        this.setState({\r\n            selectedNoteId: selectedNoteId,\r\n            view: noteList,\r\n            filteredNotebookList: [...new Set(notebookList)]\r\n        });\r\n    }\r\n\r\n    toggleSearchPref = (pref) => {\r\n        this.setState({\r\n            searchPref: {\r\n                ...this.state.searchPref,\r\n                [pref]: !this.state.searchPref[pref]\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteNote = (noteId) => {\r\n        const that = this;\r\n        httpDelete(constants.API_URL_NOTE + \"/\" + noteId,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                sendMessage('notification', true, {type: 'success', message: 'Note deleted', duration: 5000});\r\n                that.setState({\r\n                    selectedNoteId: undefined\r\n                }, () => that.initializeNotes(that.props.authorization));\r\n                \r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    selectNote = (noteId) => {\r\n        this.setState({\r\n            selectedNoteId: noteId\r\n        })\r\n        sendMessage('sidebar', false);\r\n    }\r\n\r\n    saveNoteEvent = () => {\r\n        let notebook = this.state.existingNotebook;\r\n        if (notebook === '<create new>') {\r\n            notebook = this.state.newNotebook;\r\n        }\r\n        this.saveNote({\r\n            id: null,\r\n            type: 'Note',\r\n            title: this.state.title,\r\n            content: this.state.content,\r\n            tags: this.state.tags,\r\n            flag: this.state.flag,\r\n            notebook: notebook\r\n        });\r\n    }\r\n\r\n    saveNote = (note, edit=false) => {\r\n\r\n        const that = this;\r\n\r\n        if (!note) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Unknown error', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.notebook)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Notebook not chosen', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.title)) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Note name / title missing', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(note.tags)) {\r\n            note.tags = 'unsorted';\r\n        }\r\n\r\n        httpPut(constants.API_URL_NOTE, {\r\n            id: note.id,\r\n            type: note.type,\r\n            title: note.title,\r\n            attributes: note.attributes,\r\n            content: note.content,\r\n            tags: note.tags,\r\n            flag: note.flag,\r\n            notebook: note.notebook\r\n        },\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + this.props.authorization.token\r\n            }\r\n        }, this.props.authorization.password, ['attributes'])\r\n        .then(function(response) {\r\n            if (response.status === 201) {\r\n                if (edit) {\r\n                    sendMessage('notification', true, {type: 'success', message: 'Note edited', duration: 5000});\r\n                    sendMessage('closeNoteEditView', true);\r\n                } else {\r\n                    sendMessage('notification', true, {type: 'success', message: 'Note created', duration: 5000});\r\n                    that.closeAllDialog();\r\n                }\r\n                \r\n                that.initializeNotes(that.props.authorization, response.data._id);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 401) {\r\n                that.props.logout(null, 'failure', 'Session expired. Login again');\r\n            }\r\n        })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.target.name]: event.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    handleNotebookFilterChange = (event) => {\r\n        this.setState(\r\n        {\r\n            ...this.state,\r\n            [event.target.name]: event.target.value\r\n        },\r\n        () => this.applyFilter());\r\n    }\r\n\r\n    render() {\r\n        const noteview = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n                {item._id === this.state.selectedNoteId &&\r\n                        <Note key={item._id} id={item._id} note={item} saveNote={this.saveNote} deleteNote={this.deleteNote} notebooks={this.state.existingNotebookList}/>}\r\n            </div>\r\n        ))\r\n        const listNoteRef = this.state.view.map(item => (\r\n            <div key={item._id}>\r\n                <NoteRef selected={this.state.selectedNoteId === item._id ? true : false} id={item._id} note={item} selectNote={this.selectNote} showTag={this.state.notebookFilter === 'all notebooks'}/>\r\n            </div>\r\n        ))\r\n        return (\r\n            <div className=\"notes\">\r\n                <ArcDialog title=\"Add Note\" visible={this.state.isAddDialogOpen} toggleVisibility={this.toggleAddDialog}>\r\n                    <div><ArcSelect label=\"Notebook\" data={this.state} id=\"existingNotebook\" handleChange={e => this.handleChange(e)} elements={this.state.existingNotebookList} firstAction=\"<create new>\" /></div>\r\n                    <div>\r\n                    {this.state.existingNotebook === '<create new>' && <ArcTextField label=\"Notebook name\" data={this.state} id=\"newNotebook\" handleChange={e => this.handleChange(e)} />}\r\n                    </div>\r\n                    <div><ArcTextField label=\"Title\" data={this.state} id=\"title\" handleChange={e => this.handleChange(e)} /></div>\r\n                    <div><ArcTextField label=\"Tags (separated by blank spaces)\" data={this.state} id=\"tags\" handleChange={e => this.handleChange(e)} /></div>\r\n                    <div><ArcTextField label=\"Content (Markdown / HTML / Plaintext)\" data={this.state} id=\"content\" multiline handleChange={e => this.handleChange(e)} /></div>\r\n                    <div className=\"actions\">\r\n                        <button onClick={this.toggleAddDialog} className=\"default disabled left\"><i className=\"material-icons\">close</i>Cancel</button>\r\n                        <button onClick={this.saveNoteEvent} className=\"primary animate right\"><i className=\"material-icons\">double_arrow</i>Save</button>\r\n                    </div>\r\n                </ArcDialog>\r\n\r\n                <ViewResolver sideLabel='More options'>\r\n                    <View main>\r\n                        {noteview}\r\n                    </View>\r\n                    <View side>\r\n                        <div className=\"filter-container\">\r\n                            <div className=\"section-main\">\r\n                            <Sidebar label=\"Add New\" elements={this.state.sidebarElements['addNew']} icon=\"add\" animate />\r\n                            <Sidebar label=\"Search\" elements={this.state.sidebarElements['search']} icon=\"search\" animate number={this.state.isFiltered ? this.state.searchResults.length : undefined}>\r\n                                <div className=\"space-top-1\" />\r\n                                <form method=\"GET\" onSubmit={this.search} noValidate>\r\n                                    <div className=\"space-left-4 space-right-4\"><ArcTextField label=\"Keywords\" id=\"searchtext\" data={this.state} handleChange={e => this.handleChange(e)} /></div>\r\n                                </form>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.title}\r\n                                        onChange={() => this.toggleSearchPref('title')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include title\r\n                                </div>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.tags}\r\n                                        onChange={() => this.toggleSearchPref('tags')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include tags\r\n                                </div>\r\n                                <div className=\"typography-5 space-top-2 space-left-4\">\r\n                                    <Switch\r\n                                        checked={this.state.searchPref.content}\r\n                                        onChange={() => this.toggleSearchPref('content')}\r\n                                        inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                                    Include Content\r\n                                </div>\r\n                                {this.state.isFiltered && <div className=\"typography-4 space-top-2\">Found {this.state.searchResults.length} notes matching the search criteria</div>}\r\n                                <div className=\"actionbar-2 space-top-2 space-bottom-2\">\r\n                                    <div>\r\n                                        <button onClick={this.clearSearch} className=\"default\">Clear</button>\r\n                                    </div>\r\n                                    <div>\r\n                                        <button onClick={this.search} className=\"default animate space-right-2\">Search</button>\r\n                                    </div>\r\n                                </div>\r\n                            </Sidebar>\r\n                                \r\n                            <Sidebar label={this.state.isFiltered ? \"Search results\" : \"All Notes\"} icon=\"notes\" number={this.state.view.length}>\r\n                                <div className=\"filter-bar\">\r\n                                    {this.state.filteredNotebookList.length > 1 && <div><ArcSelect maxWidth=\"max-width-200\" label=\"Notebook\" data={this.state} id=\"notebookFilter\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.state.filteredNotebookList} first='all notebooks' /></div>}\r\n                                    {this.state.filteredNotebookList.length === 1 && <div><ArcSelect maxWidth=\"max-width-200\" label=\"Notebook\" data={this.state} id=\"notebookFilter\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.state.filteredNotebookList} /></div>}\r\n                                    <div></div>\r\n                                    <div><ArcSelect label=\"Sort by\" data={this.state} id=\"sortBy\" handleChange={e => this.handleNotebookFilterChange(e)} elements={Object.keys(this.sortTypes)} /></div>\r\n                                    <div><ArcSelect label=\"Sort Order\" data={this.state} id=\"sortOrder\" handleChange={e => this.handleNotebookFilterChange(e)} elements={this.sortOrders} /></div>\r\n                                </div>\r\n                                {listNoteRef}\r\n                            </Sidebar>\r\n                            </div>\r\n                        </div>\r\n                    </View>\r\n                </ViewResolver>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notes;\r\n","import { GET_AUTH, REMOVE_AUTH, ADD_AUTH } from '../actions/types';\r\n\r\nexport const getAuth = () => dispatch => {\r\n    dispatch({\r\n        type: GET_AUTH\r\n    });\r\n}\r\n\r\nexport const addAuth = (data) => dispatch => {\r\n    dispatch({\r\n        type: ADD_AUTH,\r\n        payload: data\r\n    });\r\n}\r\n\r\nexport const removeAuth = () => dispatch => {\r\n    dispatch({\r\n        type: REMOVE_AUTH\r\n    });\r\n}","import { httpGet, httpPost, httpPut } from \"../Lib/RestTemplate\";\r\nimport sjcl from 'ioak-sjcl';\r\nimport CryptoJS from 'crypto-js';\r\nimport { constants } from '../Constants';\r\n\r\nexport function preSignup() {\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response);\r\n        })\r\n}\r\n\r\nexport function signup(data) {\r\n    return httpPost(constants.API_URL_SIGNUP, {\r\n        name: data.name,\r\n        email: data.email,\r\n        problem: encrypt(data.password, data.solution, data.salt),\r\n        solution: data.solution\r\n        }, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n\r\nexport function preSignin(email) {\r\n    return httpGet(constants.API_URL_PRESIGNIN + email, null)\r\n        .then(response => Promise.resolve(response))\r\n        .catch(error => Promise.resolve(error.response))\r\n}\r\n\r\nexport function signin(data, problem) {\r\n    try {\r\n        let solution = decrypt(data.password, JSON.stringify(problem));\r\n        return httpPost(constants.API_URL_SIGNIN, {\r\n            email: data.email, solution: solution\r\n            }, null)\r\n            .then(function(response) {\r\n                return Promise.resolve(response);\r\n            })\r\n\r\n    } catch(error) {\r\n        if (error.message === \"ccm: tag doesn't match\") {\r\n            return Promise.resolve({\r\n                status: 401\r\n            });\r\n        } else {\r\n            return Promise.resolve(error);\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateUserDetails(data, authorization, type) {\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let newData = {};\r\n                if (type && type === 'password') {\r\n                    newData = {\r\n                        problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                        solution: response.data.solution\r\n                    }\r\n                } else {\r\n                    newData = {\r\n                        name: data.name,\r\n                        email: data.email\r\n                    }\r\n                }\r\n\r\n                return httpPut(constants.API_URL_USER_DETAILS, newData,\r\n                    {\r\n                        headers: {\r\n                            Authorization: 'Bearer ' + authorization.token\r\n                        }\r\n                    }, authorization.password)\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response);\r\n                    })\r\n            }\r\n        })\r\n}\r\n\r\nexport function sentPasswordChangeEmail(data, type) {\r\n\r\n    return httpPost(constants.API_URL_CODE, data, null)\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n\r\nexport function resetPassword(data, type) {\r\n\r\n    return httpGet(constants.API_URL_PRESIGNUP, null)\r\n        .then(function(response) {\r\n            if (response.status === 200) {\r\n                let newData = {};\r\n                if (type && type === 'password') {\r\n                    newData = {\r\n                        problem: encrypt(data.password, response.data.solution, response.data.salt),\r\n                        solution: response.data.solution,\r\n                        resetCode: data.resetCode\r\n                    }\r\n\r\n                }\r\n\r\n                return httpPost(constants.API_URL_RESET, newData, null)\r\n                    .then(function(response) {\r\n                        return Promise.resolve(response.status);\r\n                    })\r\n\r\n\r\n            }\r\n        })\r\n}\r\n\r\nfunction encrypt(password, message, salt) {\r\n    const config = {\r\n        cipher: 'aes',\r\n        iter: '12000',\r\n        ks: 256,\r\n        salt: CryptoJS.enc.Base64.stringify((CryptoJS.enc.Utf8.parse(salt)))\r\n    }\r\n    return sjcl.encrypt(password, message, config);\r\n}\r\n\r\nfunction decrypt(password, ciphertext) {\r\n    return sjcl.decrypt(password, ciphertext);\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './Login.scss';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport {signup, signin, sentPasswordChangeEmail, preSignup, preSignin} from './AuthService';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport {isEmptyOrSpaces} from \"../Utils\";\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    history: any,\r\n    location: any,\r\n    authorization: Authorization\r\n}\r\n\r\ninterface State {\r\n    newuser: boolean,\r\n    name: string,\r\n    email: string,\r\n    password: string,\r\n    resetCode: string\r\n}\r\n\r\nclass Login extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newuser: false,\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            resetCode:''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query && query.type === 'signup') {\r\n                this.setState({\r\n                    newuser: true\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    signin = (event) => {\r\n        event.preventDefault();\r\n\r\n        sendMessage('notification', false);\r\n        sendMessage('spinner');\r\n        if (this.state.email && this.state.password) {\r\n            preSignin(this.state.email).then((response) => {\r\n                if (response.status === 200) {\r\n                    signin({\r\n                        email: this.state.email,\r\n                        password: this.state.password\r\n                        }, response.data)\r\n                        .then((response) => {\r\n                            if (response.status === 200) {\r\n                                sendMessage('notification', true, {message: 'Signed In successfully', type: 'success', duration: 3000});\r\n                                this.success(response.data, this.state.password);\r\n                            } else if (response.status === 401) {\r\n                                sendMessage('notification', true, {message: 'Incorrect passphrase', type: 'failure', duration: 3000});\r\n                            } else {\r\n                                sendMessage('notification', true, {message: 'Unknown response from server. Please try again or at a later time', type: 'failure', duration: 3000});\r\n                            }\r\n                        })\r\n                        .catch((error) => {\r\n                            sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n                        })\r\n                } else if (response.status === 404) {\r\n                    sendMessage('notification', true, {message: 'User name does not exist', type: 'failure', duration: 3000});\r\n                }\r\n            })\r\n\r\n            \r\n        } else {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Username/password cannot be empty', duration: 3000});\r\n        }\r\n    }\r\n\r\n    signup = (event) => {\r\n        event.preventDefault();\r\n        const that = this;\r\n        sendMessage('notification', false);\r\n        sendMessage('spinner');\r\n        if (this.state.name && this.state.password && this.state.email) {\r\n            if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.state.email))) {\r\n                sendMessage('notification', true, {type: 'failure', message: 'Email ID is invalid', duration: 3000});\r\n                return;\r\n            }\r\n            preSignup().then(function(response) {\r\n                if (response.status === 200) {\r\n                    signup({\r\n                        name: that.state.name,\r\n                        password: that.state.password,\r\n                        email: that.state.email,\r\n                        solution: response.data.solution,\r\n                        salt: response.data.salt\r\n                        })\r\n                        .then(function(status) {\r\n                            if (status === 200) {\r\n                                sendMessage('notification', true, {'type': 'success', message: 'Your account has been created. You can login now', duration: 3000});\r\n                                that.toggle();\r\n                            }\r\n                        })\r\n                }\r\n            });\r\n        } else if (!this.state.name) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Name cannot be empty', duration: 3000});\r\n        } else if (!this.state.email) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Email cannot be empty', duration: 3000});\r\n        } else if (!this.state.password) {\r\n            sendMessage('notification', true, {type: 'failure', message: 'Password cannot be empty', duration: 3000});\r\n        }\r\n    }\r\n\r\n    sentEmailWithCode = () => {\r\n        if (isEmptyOrSpaces(this.state.email)) {\r\n            sendMessage('notification', true, {message: 'Email cannot be empty', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        this.sentPasswordChangeEmail('password');\r\n\r\n    }\r\n\r\n    sentPasswordChangeEmail = (type) => {\r\n        const min = 1;\r\n        const max = 100;\r\n        const rand = min + Math.random() * (max - min);\r\n        sentPasswordChangeEmail({\r\n            email: this.state.email,\r\n            resetCode: rand\r\n        }, type)\r\n            .then((response: any) => {\r\n                if (response === 200) {\r\n                    if (type === 'password') {\r\n                        sendMessage('notification', true, {message: 'Password sent successfully', type: 'success', duration: 3000});\r\n                    }\r\n                } else {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Invalid Email error', duration: 3000});\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n            })\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    success = (data, password) => {\r\n        this.props.addAuth({\r\n            isAuth: true,\r\n            token: data.token,\r\n            secret: data.secret,\r\n            name: data.name,\r\n            email: data.email,\r\n            password: password\r\n        });\r\n        sendMessage('loggedin', true);\r\n        this.props.history.push(\"/home\");\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            newuser: !this.state.newuser\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                {!this.state.newuser && <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.signin} noValidate>\r\n                        <h1>Log In</h1>\r\n                        <div className=\"form\">\r\n                            <ArcTextField label=\"Username/e-mail\" id=\"email\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <ArcTextField label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <button className=\"primary block\"  onClick={this.signin}>Sign In</button>\r\n                        <br /><br />\r\n                        Don't have an account? &nbsp; <button className=\"secondary\"  onClick={this.toggle}>Sign Up</button>\r\n                        <br /><br />\r\n\r\n                    </form>\r\n\r\n                    <button onClick={this.sentEmailWithCode}>Forgot password ?</button>\r\n\r\n                </div>}\r\n\r\n                {this.state.newuser && <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.signup} noValidate>\r\n                        <h1>Sign Up</h1>\r\n                        <div className=\"form\">\r\n                            <ArcTextField label=\"Name\" id=\"name\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <ArcTextField label=\"Email / User Name\" id=\"email\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <ArcTextField label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <button className=\"primary block\"  onClick={this.signup}>Create account</button>\r\n                        <br /><br />\r\n                        Already have a account? &nbsp; <button className=\"secondary\"  onClick={this.toggle}>Sign In</button>\r\n                    </form>\r\n                </div>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(Login);\r\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n  authorization: Authorization,\r\n  getAuth: Function,\r\n  path: string,\r\n  render: any,\r\n  renderAlt: any,\r\n  location: any\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nclass PrivateRoute extends Component<Props, State> {\r\n  componentWillMount() {\r\n    this.props.getAuth();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.authorization.isAuth && <Route path={this.props.path} render={this.props.render} />}\r\n        {/* {!this.props.authorization.isAuth && <Route path=\"/login\" render={this.props.renderAlt} />} */}\r\n        {/* {!this.props.authorization.isAuth && <Redirect to={{pathname: \"/login\", state: { from: this.props.location}}} />} */}\r\n        {/* {!this.props.authorization.isAuth && <Redirect to={{pathname: \"/login\"}} />} */}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth })(PrivateRoute);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n    authorization: Authorization,\r\n    addAuth: Function,\r\n    getAuth: Function,\r\n    removeAuth: Function\r\n}\r\n\r\ninterface State {\r\n\r\n}\r\n\r\nclass AuthInit extends Component<Props, State> {\r\n    componentWillMount() {\r\n        if (!this.props.authorization.isAuth) {\r\n            console.log(this.props);\r\n        }\r\n        this.props.getAuth();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <></>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(AuthInit);","import { httpGet, httpPut } from '../components/Lib/RestTemplate';\r\nimport { constants } from '../components/Constants';\r\nimport { GET_PROFILE, SET_PROFILE } from './types';\r\n\r\nexport const getProfile = () => dispatch => {\r\n    dispatch({\r\n        type: GET_PROFILE\r\n    });\r\n}\r\n\r\nexport const reloadProfile = (authorization) => dispatch => {\r\n    httpGet(constants.API_URL_PREFERENCES,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        }, authorization.password)\r\n        .then(function(response) {\r\n            console.log(response);\r\n            dispatch({\r\n                type: SET_PROFILE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const persistProfile = (authorization, payload) => dispatch => {\r\n    httpPut(constants.API_URL_PREFERENCES, payload,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + authorization.token\r\n            }\r\n        }, authorization.password)\r\n        .then(function(response) {\r\n            dispatch({\r\n                type: SET_PROFILE,\r\n                payload: response.data\r\n            })\r\n        }\r\n    );\r\n}\r\n\r\nexport const setProfile = (payload) => dispatch => {\r\n    dispatch({\r\n        type: SET_PROFILE,\r\n        payload: payload\r\n    });\r\n}\r\n","import React, { Component } from 'react';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n}\r\n\r\ninterface State {\r\n    backdrop: string\r\n}\r\n\r\nclass Backdrop extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            backdrop: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'dialog') {\r\n                    if (message.signal) {\r\n                        this.setState({backdrop: 'backdrop-fade'});\r\n                    } else {\r\n                        this.setState({backdrop: ''});\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.state.backdrop}></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Backdrop;","import React, { Component } from 'react';\r\nimport './style.scss';\r\nimport { receiveMessage, sendMessage } from '../../events/MessageService';\r\n\r\ninterface Props {\r\n}\r\n\r\ninterface State {\r\n    notification: any,\r\n    spinner: boolean\r\n}\r\n\r\nclass Notification extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            spinner: false,\r\n            notification: null\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        receiveMessage().subscribe(message => {\r\n            if (message.name === 'notification') {\r\n                if (!message.signal) {\r\n                    this.setState({\r\n                        notification: null,\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        notification: message.data,\r\n                        spinner: false\r\n                    })\r\n                    \r\n                    if (message.data && message.data.duration) {\r\n                        setTimeout(() => {\r\n                            sendMessage('notification', false);\r\n                        }, message.data.duration);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (message.name === 'spinner') {\r\n                this.setState({\r\n                    spinner: message.signal\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            {this.state.notification && <div className={\"notification \" + this.state.notification.type}><div className=\"message\">{this.state.notification.message}</div></div>}\r\n            {this.state.spinner && <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>}\r\n            {/* {this.props.spinner && <div className=\"lds-facebook\"><div></div><div></div><div></div></div>} */}\r\n            {/* {this.props.spinner && <div className=\"lds-dual-ring\"></div>} */}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notification;","import React, { Component } from 'react';\r\n\r\nimport './style.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {\r\n    authorization: Authorization,\r\n    profile: Profile\r\n}\r\n\r\ninterface State {\r\n    menu: boolean\r\n}\r\n\r\nclass Links extends Component<Props, State> {\r\n    toggleMenu = () => {\r\n        this.setState({\r\n            menu: !this.state.menu\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"links\">\r\n                {this.props.authorization.isAuth &&\r\n                    <>\r\n                    <NavLink to=\"/bookmarks\" className=\"navitem\" activeClassName=\"active\">Bookmarks</NavLink>\r\n                    <NavLink to=\"/notes\" className=\"navitem\" activeClassName=\"active\">Notes</NavLink>\r\n                    <NavLink to=\"/settings\" className=\"navitem\" activeClassName=\"active\">Settings</NavLink>\r\n                    <NavLink to=\"/help\" className=\"navitem\" activeClassName=\"active\">Help</NavLink>\r\n                    </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Links;","import React, { Component } from 'react';\r\n\r\nimport './style.scss';\r\nimport protekt_white from '../../images/protekt_white.svg';\r\nimport protekt_black from '../../images/protekt_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization\r\n    getProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any\r\n}\r\n\r\ninterface State {\r\n    showSettings: boolean\r\n}\r\n\r\nclass Desktop extends Component<Props, State> {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            showSettings: false\r\n        }\r\n    }\r\n\r\n    signin = (type) => {\r\n        this.props.login(type);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={(this.props.transparent ? \"navbar desktop transparent\" : \"navbar desktop\")}>\r\n                <div className=\"left\">\r\n                    {!this.props.transparent && this.props.profile.theme === 'theme_light' && <img className=\"logo\" src={protekt_black} alt=\"Protekt logo\" />}\r\n                    {(this.props.transparent || this.props.profile.theme === 'theme_dark') && <img className=\"logo\" src={protekt_white} alt=\"Protekt logo\" />}\r\n                    <Links authorization={this.props.authorization} profile={this.props.profile} />\r\n                </div>\r\n                <div className=\"right\">\r\n                    <div className=\"action\">\r\n                        {/* <button className=\"default disabled small\" onClick={this.props.toggleSettings}><i className=\"material-icons\">palette</i>Theme</button> */}\r\n                        {this.props.authorization.isAuth && \r\n                            <button className=\"default disabled small\" onClick={this.props.toggleSettings}><i className=\"material-icons\">brush</i>Appearance</button>}\r\n                        {this.props.authorization.isAuth && \r\n                            <button className=\"default disabled small\" onClick={this.props.logout()}><i className=\"material-icons\">power_settings_new</i>Logout</button>}\r\n                        {!this.props.authorization.isAuth && \r\n                            <button className=\"default disabled small\" onClick={() => this.signin('signin')}><i className=\"material-icons\">person</i>Login</button>}\r\n                        {!this.props.authorization.isAuth && \r\n                            <button className=\"default disabled small\" onClick={() => this.signin('signup')}><i className=\"material-icons\">person_add</i>Signup</button>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Desktop;","import React, { Component } from 'react';\r\n\r\nimport './style.scss';\r\nimport protekt_white from '../../images/protekt_white.svg';\r\nimport protekt_black from '../../images/protekt_black.svg';\r\nimport Links from './Links';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization\r\n    getProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any\r\n}\r\n\r\ninterface State {\r\n    menu: boolean\r\n}\r\n\r\nclass Mobile extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            menu: false\r\n        }\r\n    }\r\n\r\n    toggleMenu = () => {\r\n        this.setState({\r\n            menu: !this.state.menu\r\n        })\r\n    }\r\n\r\n    signin = (type) => {\r\n        this.props.login(type);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n            <div className={(this.props.transparent ? \"navbar mobile transparent\" : \"navbar mobile\")}>\r\n                <div className=\"left\">\r\n                    {!this.props.transparent && this.props.profile.theme === 'theme_light' && <img className=\"logo\" src={protekt_black} alt=\"Protekt logo\" />}\r\n                    {(this.props.transparent || this.props.profile.theme === 'theme_dark') && <img className=\"logo\" src={protekt_white} alt=\"Protekt logo\" />}\r\n                    {/* links */}\r\n                </div>\r\n                <div className=\"right\">\r\n                    {/* <div className=\"settings-icon\" onClick={this.props.toggleSettings}><i className=\"material-icons\">settings</i></div> */}\r\n                    <div className={(this.state.menu ? \"menu active\" : \"menu\")} onClick={this.toggleMenu}><div></div></div>\r\n                    {/* action login */}\r\n                </div>\r\n            </div>\r\n            <div className={(this.state.menu ? \"slider show\" : \"slider hide\")} onClick={this.toggleMenu}>\r\n                <div className={(this.state.menu ? \"container\": \"container hidetext\")} onClick={this.toggleMenu}>\r\n                    <div className=\"action\">\r\n                        <div className=\"settings-icon\" onClick={this.props.toggleSettings}>\r\n                            {this.props.authorization.isAuth && <button className=\"default disabled small\" onClick={this.props.toggleSettings}><i className=\"material-icons\">brush</i>Appearance</button>}\r\n                        </div>\r\n                        <div className=\"buttons\">\r\n                            {this.props.authorization.isAuth && <button className=\"default disabled small\" onClick={this.props.logout()}><i className=\"material-icons\">power_settings_new</i>Logout</button>}\r\n                            {!this.props.authorization.isAuth && <button className=\"secondary small left\" onClick={() => this.signin('signin')}><i className=\"material-icons\">person</i>Login</button>}\r\n                            {!this.props.authorization.isAuth && <button className=\"secondary small right\" onClick={() => this.signin('signup')}><i className=\"material-icons\">person_add</i>Signup</button>}\r\n                        </div>\r\n                    </div>\r\n                    <Links authorization={this.props.authorization} profile={this.props.profile}/>\r\n                </div>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Mobile;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {withRouter} from 'react-router'\r\nimport { getProfile, setProfile, reloadProfile } from '../../actions/ProfileActions';\r\n\r\nimport './style.scss';\r\nimport Desktop from './Desktop';\r\nimport Mobile from './Mobile';\r\nimport { Switch } from '@material-ui/core';\r\nimport ArcDialog from '../Ux/ArcDialog';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { receiveMessage } from '../../events/MessageService';\r\n\r\ninterface Props {    \r\n    sendEvent: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    authorization: Authorization,\r\n    getProfile: Function,\r\n    setProfile: Function,\r\n    reloadProfile: Function,\r\n    profile: Profile,\r\n    login: Function,\r\n    transparent: boolean,\r\n    logout: Function,\r\n    toggleSettings: any,\r\n    history: any,\r\n    location: any,\r\n    match: any\r\n}\r\n\r\ninterface State {\r\n    visible: boolean,\r\n    mobilemenu: string,\r\n    chooseTheme: boolean,\r\n    showSettings: boolean,\r\n    transparentNavBar: boolean,\r\n    firstLoad: boolean\r\n}\r\n\r\nclass Navigation extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.state = {\r\n            visible: false,\r\n            mobilemenu: 'hide',\r\n            chooseTheme: false,\r\n            showSettings: false,\r\n            transparentNavBar: false,\r\n            firstLoad: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        receiveMessage().subscribe(\r\n            message => {\r\n                if (message.name === 'navbar-transparency') {\r\n                    this.setState({\r\n                        transparentNavBar: message.signal\r\n                    })\r\n                }\r\n\r\n                if (message.name === 'loggedin') {\r\n                    this.props.reloadProfile(this.props.authorization);\r\n                    this.setState({\r\n                        firstLoad: false\r\n                    })\r\n                }\r\n\r\n                if (message.name === 'loggedout') {\r\n                    this.props.history.push('/home');\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (this.state.firstLoad && nextProps.authorization && nextProps.authorization.isAuth) {\r\n            this.props.reloadProfile(nextProps.authorization);\r\n            this.setState({\r\n                firstLoad: false\r\n            })\r\n        }\r\n    }\r\n\r\n    toggleDarkMode = () => {\r\n        if (this.props.profile.theme === 'theme_dark') {\r\n            this.props.setProfile({\r\n                ...this.props.profile,\r\n                theme: 'theme_light'\r\n            })   \r\n        } else  {\r\n            this.props.setProfile({\r\n                ...this.props.profile,\r\n                theme: 'theme_dark'\r\n            })   \r\n        }\r\n    }\r\n\r\n    changeTextSize = (size) => {\r\n        this.props.setProfile({\r\n            ...this.props.profile,\r\n            textSize: size\r\n        })\r\n    }\r\n\r\n    changeThemeColor = (color) => {\r\n        this.props.setProfile({\r\n            ...this.props.profile,\r\n            themeColor: color\r\n        })\r\n    }\r\n\r\n    login = (type) => {\r\n        this.props.history.push('/login?type=' + type);\r\n    }\r\n\r\n    toggleSettings = () => {\r\n        this.setState({\r\n            showSettings: !this.state.showSettings\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"nav\">\r\n                <Desktop {...this.props} logout={this.props.logout} login={this.login} toggleSettings={this.toggleSettings} transparent={this.state.transparentNavBar} />\r\n                <Mobile {...this.props} logout={this.props.logout} login={this.login} toggleSettings={this.toggleSettings} transparent={this.state.transparentNavBar} />\r\n\r\n                <ArcDialog title=\"Appearance\" visible={this.state.showSettings} toggleVisibility={this.toggleSettings}>\r\n                    <div className=\"settings\">\r\n                        <div>Dark mode</div>\r\n                        <div>\r\n                            <Switch\r\n                            checked={this.props.profile.theme === 'theme_dark'}\r\n                            onChange={this.toggleDarkMode}\r\n                            inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n                        </div>\r\n                        \r\n                        <div>Text Size</div>\r\n                        <div>\r\n                            <div className={\"text-size size-1 space-right-1 \" + (this.props.profile.textSize === 'textsize_tiny' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_tiny')}>Az</div>\r\n                            <div className={\"text-size size-2 space-right-1 \" + (this.props.profile.textSize === 'textsize_small' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_small')}>Az</div>\r\n                            <div className={\"text-size size-3 space-right-1 \" + (this.props.profile.textSize === 'textsize_medium' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_medium')}>Az</div>\r\n                            <div className={\"text-size size-4 \" + (this.props.profile.textSize === 'textsize_large' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_large')}>Az</div>\r\n                        </div>\r\n\r\n                        <div className=\"typography-5\">Color Scheme</div>\r\n                        <div>\r\n                            <div className=\"theme-color color-1\" onClick={() => this.changeThemeColor('themecolor_1')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_1' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-2\" onClick={() => this.changeThemeColor('themecolor_2')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_2' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-3\" onClick={() => this.changeThemeColor('themecolor_3')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_3' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-4\" onClick={() => this.changeThemeColor('themecolor_4')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_4' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-5\" onClick={() => this.changeThemeColor('themecolor_5')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_5' && 'check'}</i></div>\r\n                            <div className=\"theme-color color-6\" onClick={() => this.changeThemeColor('themecolor_6')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_6' && 'check'}</i></div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"actions\">\r\n                        <button className=\"primary\"  onClick={this.toggleSettings}>Close</button>\r\n                    </div>\r\n                </ArcDialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile, reloadProfile })(withRouter(Navigation));","import React from 'react';\r\nimport { getProfile, setProfile, persistProfile } from '../../actions/ProfileActions';\r\nimport './style.scss';\r\nimport View from '../Ux/View';\r\nimport ViewResolver from '../Ux/ViewResolver';\r\nimport { Switch } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport {importBookmarks} from '../Bookmarks/BookmarkService';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport { isEmptyOrSpaces } from '../Utils';\r\nimport {signin, updateUserDetails, preSignin} from '../Auth/AuthService';\r\nimport { Authorization, Profile } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport { httpGet } from \"../Lib/RestTemplate\";\r\nimport {constants} from \"../Constants\";\r\nimport {sendBookmarkExportEmail} from \"./SettingsService\";\r\n\r\ninterface Props {\r\n  profile: Profile,\r\n  getProfile: Function,\r\n  setProfile: Function,\r\n  persistProfile: Function,\r\n  authorization: Authorization\r\n}\r\n\r\ninterface State {\r\n  oldPassword: string,\r\n  newPassword: string,\r\n  repeatPassword: string,\r\n  name: string,\r\n  email: string,\r\n  data:any\r\n}\r\n\r\nclass Settings extends React.Component<Props, State> {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      oldPassword: '',\r\n      newPassword: '',\r\n      repeatPassword: '',\r\n      data: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      // name: this.props.cookies.get('name'),\r\n      // email: this.props.cookies.get('email')\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState(\r\n        {\r\n          ...this.state,\r\n            [event.currentTarget.name]: event.currentTarget.value\r\n        }\r\n    )\r\n  }\r\n\r\n  toggleDarkMode = () => {\r\n      if (this.props.profile.theme === 'theme_dark') {\r\n          this.props.persistProfile(this.props.authorization, {\r\n              ...this.props.profile,\r\n              theme: 'theme_light'\r\n          })\r\n      } else  {\r\n          this.props.persistProfile(this.props.authorization, {\r\n              ...this.props.profile,\r\n              theme: 'theme_dark'\r\n          })\r\n      }\r\n  }\r\n\r\n  changeTextSize = (size) => {\r\n      this.props.persistProfile(this.props.authorization, {\r\n          ...this.props.profile,\r\n          textSize: size\r\n      })\r\n  }\r\n\r\n  changeThemeColor = (color) => {\r\n      this.props.persistProfile(this.props.authorization, {\r\n          ...this.props.profile,\r\n          themeColor: color\r\n      })\r\n  }\r\n\r\n  changePassword = () => {\r\n    if (isEmptyOrSpaces(this.state.oldPassword)) {\r\n      sendMessage('notification', true, {message: 'Old password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(this.state.newPassword) || isEmptyOrSpaces(this.state.repeatPassword)) {\r\n      sendMessage('notification', true, {message: 'New password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (this.state.newPassword !== this.state.repeatPassword) {\r\n      sendMessage('notification', true, {message: 'New password not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    this.checkOldPassword('oldpassword');\r\n  }\r\n\r\n  checkOldPassword = (type) => {\r\n    preSignin(this.state.email).then((response) => {\r\n      if (response.status === 200) {\r\n          signin({\r\n              email: this.state.email,\r\n              password: this.state.oldPassword\r\n              }, response.data)\r\n              .then((response) => {\r\n                  if (response.status === 200) {\r\n                      this.updateUserDetailsImpl('password');\r\n                      // sendMessage('notification', true, {message: 'Passphrase updated successfully', type: 'success', duration: 3000});\r\n                  } else if (response.status === 401) {\r\n                      sendMessage('notification', true, {message: 'Incorrect passphrase', type: 'failure', duration: 3000});\r\n                  } else {\r\n                      sendMessage('notification', true, {message: 'Unknown response from server. Please try again or at a later time', type: 'failure', duration: 3000});\r\n                  }\r\n              })\r\n              .catch((error) => {\r\n                  sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n              })\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n  updateUserDetails = () => {\r\n    if (isEmptyOrSpaces(this.state.name)) {\r\n      sendMessage('notification', true, {message: 'Name not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (isEmptyOrSpaces(this.state.email)) {\r\n      sendMessage('notification', true, {message: 'Email not provided', type: 'failure', duration: 5000});\r\n      return;\r\n    }\r\n\r\n    if (!(/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.state.email))) {\r\n      sendMessage('notification', true, {type: 'failure', message: 'Email ID is invalid', duration: 3000});\r\n      return;\r\n    }\r\n\r\n    this.updateUserDetailsImpl('user');\r\n\r\n  }\r\n\r\n  updateUserDetailsImpl = (type) => {\r\n    updateUserDetails({\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      password: this.state.newPassword\r\n    }, this.props.authorization, type)\r\n    .then((response: any) => {\r\n      if (response.status === 201) {\r\n        if (type === 'password') {\r\n          sendMessage('notification', true, {message: 'Password updated successfully', type: 'success', duration: 3000});\r\n        } else{\r\n          // this.props.cookies.set('name', this.state.name);\r\n          // this.props.cookies.set('email', this.state.email);\r\n          sendMessage('notification', true, {message: 'User account updated successfully', type: 'success', duration: 3000});\r\n        }\r\n      } else {\r\n        sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n      }\r\n    })\r\n    .catch((error) => {\r\n        sendMessage('notification', true, {'type': 'failure', message: 'Unknown error. Please try again or at a later time', duration: 3000});\r\n    })\r\n  }\r\n\r\n  fileChoosen = (event) => {\r\n    event.preventDefault();\r\n    const that = this;\r\n    var reader = new FileReader();\r\n    sendMessage('spinner');\r\n    reader.onload = function(event: any) {\r\n      importBookmarks({\r\n        content: event.target.result\r\n      }, that.props.authorization.token)\r\n      .then(function(response) {\r\n        sendMessage('notification', true, {message: 'Imported (' + response.data.length + ') bookmarks successfully', type: 'success', duration: 6000});\r\n      });\r\n    }\r\n    reader.readAsText(event.target.files[0]);\r\n    event.target.value = '';\r\n  }\r\n\r\n  exportBookmark = () => {\r\n    const that = this;\r\n    httpGet(constants.API_URL_BOOKMARK,\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + that.props.authorization.token\r\n          }\r\n        }, that.props.authorization.password)\r\n        .then(function(response) {\r\n          let staticContent = '<META HTTP-EQUIV=\"Content-Type\" CONTENT=\"text/html;' +\r\n              ' charset=UTF-8\"><TITLE>Bookmarks</TITLE><H1>Bookmarks</H1>';\r\n\r\n          that.setState({data: response.data});\r\n\r\n          that.state.data.map(function(bookmark, i){\r\n            let htmlContent = '<DL><p>' + '<DT>' + '<A ' + 'HREF=\"' + bookmark.href + '\">' + bookmark.title + '</A>' + '</DL><p>';\r\n            staticContent = staticContent+htmlContent;\r\n          })\r\n\r\n          console.log(staticContent);\r\n          that.sendExportEmail(staticContent);\r\n        }\r\n        );\r\n\r\n  }\r\n  sendExportEmail = (staticContent) => {\r\n\r\n    sendBookmarkExportEmail({\r\n          email: this.state.email,\r\n          content: staticContent\r\n        },\r\n        {\r\n          headers: {\r\n            Authorization: 'Bearer ' + this.props.authorization.token\r\n          }\r\n        })\r\n        .then((response: any) => {\r\n          if (response === 200) {\r\n            sendMessage('notification', true, {message: 'Check your mail for bookmark attachment', type: 'success', duration: 3000});\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n        })\r\n  }\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"settings\">\r\n        <ViewResolver sideLabel='More options'>\r\n          <View main>\r\n          <div className=\"typography-3\">Import Bookmarks</div>\r\n          <div className=\"space-top-2 space-left-2\">\r\n            <label className=\"file-upload\">\r\n              <input type=\"file\" name=\"file\" onChange={this.fileChoosen} />\r\n              Import\r\n            </label>\r\n          </div>\r\n\r\n\r\n          <div className=\"typography-3 space-top-4\">Export Bookmarks</div>\r\n          <div className=\"space-top-2\"><button className=\"secondary animate space-left-2\" onClick={this.exportBookmark}>Export</button></div>\r\n\r\n\r\n          <div className=\"typography-3 space-top-4\">Appearance</div>\r\n          <div className=\"appearance\">\r\n            <div className=\"typography-5\">Dark mode</div>\r\n            <div>\r\n                <Switch\r\n                checked={this.props.profile.theme === 'theme_dark'}\r\n                onChange={this.toggleDarkMode}\r\n                inputProps={{ 'aria-label': 'primary checkbox' }}/>\r\n            </div>\r\n\r\n            <div className=\"typography-5 space-bottom-2\">Text Size</div>\r\n            <div className=\" space-bottom-2\">\r\n              <div className={\"text-size size-1 space-right-1 \" + (this.props.profile.textSize === 'textsize_tiny' ? 'active' : '')}  onClick={() => this.changeTextSize('textsize_tiny')}>Az</div>\r\n              <div className={\"text-size size-2 space-right-1 \" + (this.props.profile.textSize === 'textsize_small' ? 'active' : '')}  onClick={() => this.changeTextSize('textsize_small')}>Az</div>\r\n              <div className={\"text-size size-3 space-right-1 \" + (this.props.profile.textSize === 'textsize_medium' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_medium')}>Az</div>\r\n              <div className={\"text-size size-4 \" + (this.props.profile.textSize === 'textsize_large' ? 'active' : '')} onClick={() => this.changeTextSize('textsize_large')}>Az</div>\r\n            </div>\r\n\r\n            <div className=\"typography-5\">Color Scheme</div>\r\n            <div>\r\n              <div className=\"theme-color color-1\" onClick={() => this.changeThemeColor('themecolor_1')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_1' && 'check'}</i></div>\r\n              <div className=\"theme-color color-2\" onClick={() => this.changeThemeColor('themecolor_2')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_2' && 'check'}</i></div>\r\n              <div className=\"theme-color color-3\" onClick={() => this.changeThemeColor('themecolor_3')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_3' && 'check'}</i></div>\r\n              <div className=\"theme-color color-4\" onClick={() => this.changeThemeColor('themecolor_4')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_4' && 'check'}</i></div>\r\n              <div className=\"theme-color color-5\" onClick={() => this.changeThemeColor('themecolor_5')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_5' && 'check'}</i></div>\r\n              <div className=\"theme-color color-6\" onClick={() => this.changeThemeColor('themecolor_6')}><i className=\"material-icons\">{this.props.profile.themeColor === 'themecolor_6' && 'check'}</i></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"typography-3 space-top-4\">User Account</div>\r\n          <div><ArcTextField label=\"Name\" data={this.state} id=\"name\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><ArcTextField label=\"Email\" data={this.state} id=\"email\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><button className=\"secondary animate space-top-1\" onClick={this.updateUserDetails}>Update details</button></div>\r\n\r\n          <div className=\"typography-3 space-top-4\">Password</div>\r\n          <div><ArcTextField type=\"password\" label=\"Old Password\" data={this.state} id=\"oldPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><ArcTextField type=\"password\" label=\"New Password\" data={this.state} id=\"newPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><ArcTextField type=\"password\" label=\"Repeat New Password\" data={this.state} id=\"repeatPassword\" handleChange={e => this.handleChange(e)} /></div>\r\n          <div><button className=\"secondary animate space-top-1\" onClick={this.changePassword}>Change Password</button></div>\r\n          </View>\r\n        </ViewResolver>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getProfile, setProfile, persistProfile })(Settings);","import { httpPost } from \"../Lib/RestTemplate\";\r\nimport { constants } from '../Constants';\r\n\r\nexport function importBookmarks(data, token) {\r\n    console.log(data);\r\n    return httpPost(constants.API_URL_BOOKMARK_IMPORT, data,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            return Promise.resolve(response);\r\n        })\r\n}\r\n\r\n","import { httpPost } from \"../Lib/RestTemplate\";\r\nimport { constants } from '../Constants';\r\n\r\nexport function sendBookmarkExportEmail(data, token) {\r\n\r\n    return httpPost(constants.API_URL_MAIL, data,\r\n        {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(function(response) {\r\n            return Promise.resolve(response.status);\r\n        })\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport './Login.scss';\r\nimport ArcTextField from '../Ux/ArcTextField';\r\nimport { resetPassword } from './AuthService';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport {isEmptyOrSpaces} from \"../Utils\";\r\n\r\nconst queryString = require('query-string');\r\n\r\ninterface Props {\r\n    history: any,\r\n    location: any\r\n}\r\n\r\ninterface State {\r\n    password: string;\r\n    repeatPassword: string;\r\n    resetCode: string;\r\n}\r\n\r\nclass ResetPassword extends Component<Props, State> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            password: '',\r\n            repeatPassword: '',\r\n            resetCode:''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.location.search) {\r\n            const query = queryString.parse(this.props.location.search);\r\n            if (query.code) {\r\n                this.setState({\r\n                    resetCode: query.code\r\n                })\r\n            }else {\r\n                this.props.history.push(\"/home\");\r\n            }\r\n        }\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState(\r\n            {\r\n                ...this.state,\r\n                [event.currentTarget.name]: event.currentTarget.value\r\n            }\r\n        )\r\n    }\r\n\r\n    changePassword = () => {\r\n        if (isEmptyOrSpaces(this.state.password)) {\r\n            sendMessage('notification', true, {message: 'password not provided', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (isEmptyOrSpaces(this.state.repeatPassword) || isEmptyOrSpaces(this.state.repeatPassword)) {\r\n            sendMessage('notification', true, {message: 'Repeat password not provided', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        if (this.state.password !== this.state.repeatPassword) {\r\n            sendMessage('notification', true, {message: 'Password is not matching', type: 'failure', duration: 5000});\r\n            return;\r\n        }\r\n\r\n        this.resetPassword('password');\r\n\r\n    }\r\n\r\n    resetPassword = (type) => {\r\n        resetPassword({\r\n            password: this.state.password,\r\n            resetCode: this.state.resetCode\r\n        }, type)\r\n            .then((response: any) => {\r\n                if (response === 200) {\r\n                    if (type === 'password') {\r\n                        sendMessage('notification', true, {message: 'Password Changed successfully', type: 'success', duration: 3000});\r\n                    }\r\n                } else {\r\n                    sendMessage('notification', true, {'type': 'failure', message: 'Invalid request', duration: 3000});\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                sendMessage('notification', true, {'type': 'failure', message: 'Bad request', duration: 3000});\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"container\">\r\n                    <form method=\"GET\" onSubmit={this.changePassword} noValidate>\r\n                        <h1>Reset password</h1>\r\n                        <div className=\"form\">\r\n                        <ArcTextField label=\"Password\" id=\"password\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                            <ArcTextField label=\"Repeat Password\" id=\"repeatPassword\" type=\"password\" data={this.state} handleChange={e => this.handleChange(e)} />\r\n                        </div>\r\n                        <br />\r\n                        <button className=\"primary block\"  onClick={this.changePassword}>Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    authorization: state.authorization\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth })(ResetPassword);\r\n","import React, { Component } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './style.scss';\r\nimport Home from '../Home';\r\nimport Bookmarks from '../Bookmarks';\r\nimport Notes from '../Notes';\r\nimport { HashRouter } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport Login from '../Auth/Login';\r\nimport PrivateRoute from '../Auth/PrivateRoute';\r\nimport AuthInit from '../Auth/AuthInit';\r\nimport { connect } from 'react-redux';\r\nimport { getAuth, addAuth, removeAuth } from '../../actions/AuthActions';\r\nimport { getProfile } from '../../actions/ProfileActions';\r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport Backdrop from './Backdrop';\r\nimport Notification from '../Notification';\r\nimport Navigation from '../Navigation';\r\nimport Settings from '../Settings';\r\nimport { Authorization } from '../Types/GeneralTypes';\r\nimport { sendMessage } from '../../events/MessageService';\r\nimport ResetPassword from '../Auth/ResetPassword';\r\n\r\nconst themes = {\r\n    'themecolor_1': getTheme('#C4005B'),\r\n    'themecolor_2': getTheme('#803BC2'),\r\n    'themecolor_3': getTheme('#E74443'),\r\n    'themecolor_4': getTheme('#29BE3B'),\r\n    'themecolor_5': getTheme('#ffe20f'),\r\n    'themecolor_6': getTheme('#4d4dff')\r\n}\r\n\r\nfunction getTheme(color) {\r\n    return createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n              main: color         \r\n          },\r\n          secondary: {\r\n              main: color\r\n          }\r\n        }\r\n      });\r\n}\r\n\r\ninterface Props {\r\n    getProfile: Function,\r\n    setProfile: Function,\r\n    getAuth: Function,\r\n    addAuth: Function,\r\n    removeAuth: Function,\r\n    history: any,\r\n\r\n    // event: PropTypes.object,\r\n    profile: any,\r\n    authorization: Authorization\r\n}\r\n\r\ninterface State {\r\n    authorization: Authorization,\r\n    profile: any,\r\n    event: any\r\n}\r\n\r\nclass Content extends Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.props.getProfile();\r\n        this.props.getAuth();\r\n    }\r\n    \r\n    logout = (event, type = 'success', message = 'You have been logged out') => {\r\n        this.props.removeAuth();\r\n        sendMessage('notification', true, {type: type, message: message, duration: 3000});\r\n        sendMessage('loggedout', true);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={\"App \" + this.props.profile.theme + \" \" + this.props.profile.textSize + \" \" + this.props.profile.themeColor}>\r\n                \r\n                <HashRouter>\r\n                    <AuthInit {...this.props} />\r\n                    <Backdrop />\r\n                    <div className=\"body\">\r\n                        <div className=\"body-content\">\r\n                            <Notification />\r\n                            <MuiThemeProvider theme={themes[this.props.profile.themeColor]}>\r\n                                <Navigation {...this.props} logout={() => this.logout}/>\r\n                                <Route exact path=\"/\" render={(props) => <Home {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/home\" render={(props) => <Home {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/login\" render={(props) => <Login {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <Route path=\"/reset\" render={(props) => <ResetPassword {...props} {...this.props} logout={() => this.logout}/>} />\r\n                                <PrivateRoute path=\"/bookmarks\" render={(props) => <Bookmarks {...props} {...this.props} logout={this.logout} />} />\r\n                                <PrivateRoute path=\"/notes\" render={(props) => <Notes {...props} {...this.props} logout={() => this.logout} />} />\r\n                                <PrivateRoute path=\"/settings\" render={(props) => <Settings {...props} {...this.props} logout={() => this.logout}/>} />\r\n                            </MuiThemeProvider>\r\n                        </div>\r\n                    </div>\r\n                </HashRouter>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  authorization: state.authorization,\r\n  profile: state.profile\r\n})\r\n\r\nexport default connect(mapStateToProps, { getAuth, addAuth, removeAuth, getProfile })(Content);\r\n","import React, { Component } from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../../store';\r\nimport './style.scss';\r\nimport './button-notched.scss';\r\nimport './metric.scss';\r\nimport Content from './Content';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Content {...this.props} />\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/protekt_white.0157e466.svg\";","module.exports = __webpack_public_path__ + \"static/media/protekt_black.f386b1d6.svg\";"],"sourceRoot":""}